"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6339],{53873:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var r=t(47568),u=t(97582),i=t(85893),o=t(67294),a=t(4413),c=t(80839),s=t(94565),f=t(61866);function d(){return new Worker(t.p+"static/chunks/prettier.worker-f480f4c94d84ad86.worker.js")}var l=t(27498);var g=function(e){var n=e.value,t=void 0===n?"":n,g=e.className,v=e.language,h=void 0===v?"javascript":v,m=e.onChange,p=void 0===m?function(){}:m,k=e.inRef,w=void 0===k?function(){}:k,E=(0,o.useRef)(null),y=(0,o.useRef)(null),C=(0,o.useRef)(null),M=function(){var e=(0,r.Z)((function(){var e,n;return(0,u.__generator)(this,(function(r){return e=a.editor.createModel(t,h),(n=a.editor.create(E.current,{minimap:{enabled:!1},theme:"dark"===(0,c.gh)()?"vs-dark":"vs-light"})).setModel(e),n.onDidChangeModelContent((function(){p(n.getValue())})),function(e){var n="editor.action.formatDocument",t=s.P0.getCommand(n),r=t.handler,u=t.when;e._standaloneKeybindingService.addDynamicKeybinding(n,a.KeyMod.CtrlCmd|a.KeyCode.KeyS,r,u)}(n),w(n),C.current=e,y.current=n,[2]}))}));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){M();var e=function(){var e,n=[],t={provideDocumentFormattingEdits:function(n,t,i){return(0,r.Z)((function(){var t,r,i,o;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return e||(e=(0,l.S)(d)),[4,e.emit({text:n.getValue(),language:n.getLanguageId()})];case 1:return t=u.sent(),r=t.canceled,i=t.error,o=t.pretty,r||i?[2,[]]:[2,[{range:n.getFullModelRange(),text:o}]]}}))}))()}};return["css","less","scss","javascript","typescript","graphql","html","markdown"].forEach((function(e){n.push(f.languages.registerDocumentFormattingEditProvider(e,t))})),{dispose:function(){n.forEach((function(e){return e.dispose()})),e&&e.terminate()}}}().dispose;return function(){y&&y.current.dispose(),e()}}),[]),(0,o.useEffect)((function(){if(y.current){var e=y.current.getModel(),n=e.getValue();e.dispose();var t=a.editor.createModel(n,h);y.current.setModel(t)}}),[h]),(0,o.useEffect)((function(){if(y.current){var e=y.current.getModel();e.getValue()!==t&&e.setValue(t)}}),[t]),(0,o.useEffect)((function(){var e=(0,c.GT)((function(e){a.editor.setTheme("dark"===e?"vs-dark":"vs-light")}));return function(){return e()}}),[]),(0,o.useEffect)((function(){var e=new ResizeObserver((function(){window.setTimeout((function(){return y.current.layout()}),0)}));return e.observe(E.current),function(){e.disconnect()}}),[]),(0,i.jsx)("div",{ref:E,className:g})}}}]);