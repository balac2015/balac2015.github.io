"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9414],{26729:function(t){var e=Object.prototype.hasOwnProperty,i="~";function n(){}function r(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function s(t,e,n,s,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var a=new r(n,s||t,o),c=i?i+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function o(t,e){0===--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,n,r=[];if(0===this._eventsCount)return r;for(n in t=this._events)e.call(t,n)&&r.push(i?n.slice(1):n);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},a.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,s=n.length,o=new Array(s);r<s;r++)o[r]=n[r].fn;return o},a.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,r,s,o){var a=i?i+t:t;if(!this._events[a])return!1;var c,h,f=this._events[a],u=arguments.length;if(f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),u){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,e),!0;case 3:return f.fn.call(f.context,e,n),!0;case 4:return f.fn.call(f.context,e,n,r),!0;case 5:return f.fn.call(f.context,e,n,r,s),!0;case 6:return f.fn.call(f.context,e,n,r,s,o),!0}for(h=1,c=new Array(u-1);h<u;h++)c[h-1]=arguments[h];f.fn.apply(f.context,c)}else{var l,v=f.length;for(h=0;h<v;h++)switch(f[h].once&&this.removeListener(t,f[h].fn,void 0,!0),u){case 1:f[h].fn.call(f[h].context);break;case 2:f[h].fn.call(f[h].context,e);break;case 3:f[h].fn.call(f[h].context,e,n);break;case 4:f[h].fn.call(f[h].context,e,n,r);break;default:if(!c)for(l=1,c=new Array(u-1);l<u;l++)c[l-1]=arguments[l];f[h].fn.apply(f[h].context,c)}}return!0},a.prototype.on=function(t,e,i){return s(this,t,e,i,!1)},a.prototype.once=function(t,e,i){return s(this,t,e,i,!0)},a.prototype.removeListener=function(t,e,n,r){var s=i?i+t:t;if(!this._events[s])return this;if(!e)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||o(this,s);else{for(var c=0,h=[],f=a.length;c<f;c++)(a[c].fn!==e||r&&!a[c].once||n&&a[c].context!==n)&&h.push(a[c]);h.length?this._events[s]=1===h.length?h[0]:h:o(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&o(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,t.exports=a},47568:function(t,e,i){function n(t,e,i,n,r,s,o){try{var a=t[s](o),c=a.value}catch(h){return void i(h)}a.done?e(c):Promise.resolve(c).then(n,r)}function r(t){return function(){var e=this,i=arguments;return new Promise((function(r,s){var o=t.apply(e,i);function a(t){n(o,r,s,a,c,"next",t)}function c(t){n(o,r,s,a,c,"throw",t)}a(void 0)}))}}i.d(e,{Z:function(){return r}})},50717:function(t,e,i){i.d(e,{Z:function(){return F}});var n=i(26729);class r extends Error{constructor(t){super(t),this.name="TimeoutError"}}class s extends Error{constructor(t){super(),this.name="AbortError",this.message=t}}const o=t=>void 0===globalThis.DOMException?new s(t):new DOMException(t),a=t=>{const e=void 0===t.reason?o("This operation was aborted."):t.reason;return e instanceof Error?e:o(e)};var c,h=function(t,e,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(t):n?n.value:e.get(t)};c=new WeakMap;var f,u,l,v,p,m,d,w,y,b,T,g,E,_,x,k,C,I,P,M,O,N,W,z,S,j,L=class{constructor(){c.set(this,[])}enqueue(t,e){const i={priority:(e={priority:0,...e}).priority,run:t};if(this.size&&h(this,c,"f")[this.size-1].priority>=e.priority)return void h(this,c,"f").push(i);const n=function(t,e,i){let n=0,r=t.length;for(;r>0;){const s=Math.trunc(r/2);let o=n+s;i(t[o],e)<=0?(n=++o,r-=s+1):r=s}return n}(h(this,c,"f"),i,((t,e)=>e.priority-t.priority));h(this,c,"f").splice(n,0,i)}dequeue(){const t=h(this,c,"f").shift();return null===t||void 0===t?void 0:t.run}filter(t){return h(this,c,"f").filter((e=>e.priority===t.priority)).map((t=>t.run))}get size(){return h(this,c,"f").length}},$=function(t,e,i,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(t,i):r?r.value=i:e.set(t,i),i},q=function(t,e,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(t):n?n.value:e.get(t)};class A extends Error{}u=new WeakMap,l=new WeakMap,v=new WeakMap,p=new WeakMap,m=new WeakMap,d=new WeakMap,w=new WeakMap,y=new WeakMap,b=new WeakMap,T=new WeakMap,g=new WeakMap,E=new WeakMap,_=new WeakMap,x=new WeakMap,f=new WeakSet,k=function(){return q(this,l,"f")||q(this,v,"f")<q(this,p,"f")},C=function(){return q(this,g,"f")<q(this,E,"f")},I=function(){var t;$(this,g,(t=q(this,g,"f"),--t),"f"),q(this,f,"m",O).call(this),this.emit("next")},P=function(){q(this,f,"m",W).call(this),q(this,f,"m",N).call(this),$(this,y,void 0,"f")},M=function(){const t=Date.now();if(void 0===q(this,w,"f")){const e=q(this,d,"f")-t;if(!(e<0))return void 0===q(this,y,"f")&&$(this,y,setTimeout((()=>{q(this,f,"m",P).call(this)}),e),"f"),!0;$(this,v,q(this,u,"f")?q(this,g,"f"):0,"f")}return!1},O=function(){if(0===q(this,b,"f").size)return q(this,w,"f")&&clearInterval(q(this,w,"f")),$(this,w,void 0,"f"),this.emit("empty"),0===q(this,g,"f")&&this.emit("idle"),!1;if(!q(this,_,"f")){const t=!q(this,f,"a",M);if(q(this,f,"a",k)&&q(this,f,"a",C)){const e=q(this,b,"f").dequeue();return!!e&&(this.emit("active"),e(),t&&q(this,f,"m",N).call(this),!0)}}return!1},N=function(){q(this,l,"f")||void 0!==q(this,w,"f")||($(this,w,setInterval((()=>{q(this,f,"m",W).call(this)}),q(this,m,"f")),"f"),$(this,d,Date.now()+q(this,m,"f"),"f"))},W=function(){0===q(this,v,"f")&&0===q(this,g,"f")&&q(this,w,"f")&&(clearInterval(q(this,w,"f")),$(this,w,void 0,"f")),$(this,v,q(this,u,"f")?q(this,g,"f"):0,"f"),q(this,f,"m",z).call(this)},z=function(){for(;q(this,f,"m",O).call(this););},S=async function(t){return new Promise(((e,i)=>{t.addEventListener("abort",(()=>{i(new A("The task was aborted."))}),{once:!0})}))},j=async function(t,e){return new Promise((i=>{const n=()=>{e&&!e()||(this.off(t,n),i())};this.on(t,n)}))};var F=class extends n{constructor(t){var e,i,n,r;if(super(),f.add(this),u.set(this,void 0),l.set(this,void 0),v.set(this,0),p.set(this,void 0),m.set(this,void 0),d.set(this,0),w.set(this,void 0),y.set(this,void 0),b.set(this,void 0),T.set(this,void 0),g.set(this,0),E.set(this,void 0),_.set(this,void 0),x.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"===typeof(t={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:L,...t}).intervalCap&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(i=null===(e=t.intervalCap)||void 0===e?void 0:e.toString())&&void 0!==i?i:""}\` (${typeof t.intervalCap})`);if(void 0===t.interval||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(r=null===(n=t.interval)||void 0===n?void 0:n.toString())&&void 0!==r?r:""}\` (${typeof t.interval})`);$(this,u,t.carryoverConcurrencyCount,"f"),$(this,l,t.intervalCap===Number.POSITIVE_INFINITY||0===t.interval,"f"),$(this,p,t.intervalCap,"f"),$(this,m,t.interval,"f"),$(this,b,new t.queueClass,"f"),$(this,T,t.queueClass,"f"),this.concurrency=t.concurrency,this.timeout=t.timeout,$(this,x,!0===t.throwOnTimeout,"f"),$(this,_,!1===t.autoStart,"f")}get concurrency(){return q(this,E,"f")}set concurrency(t){if(!("number"===typeof t&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);$(this,E,t,"f"),q(this,f,"m",z).call(this)}async add(t,e={}){return e={timeout:this.timeout,throwOnTimeout:q(this,x,"f"),...e},new Promise(((i,n)=>{q(this,b,"f").enqueue((async()=>{var s,o,c;$(this,g,(o=q(this,g,"f"),++o),"f"),$(this,v,(c=q(this,v,"f"),++c),"f");try{if(null===(s=e.signal)||void 0===s?void 0:s.aborted)throw new A("The task was aborted.");let n=t({signal:e.signal});e.timeout&&(n=function(t,e,i,n){let s;const o=new Promise(((o,c)=>{if("number"!==typeof e||1!==Math.sign(e))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${e}\``);if(e!==Number.POSITIVE_INFINITY){if((n={customTimers:{setTimeout:setTimeout,clearTimeout:clearTimeout},...n}).signal){const{signal:t}=n;t.aborted&&c(a(t)),t.addEventListener("abort",(()=>{c(a(t))}))}s=n.customTimers.setTimeout.call(void 0,(()=>{if("function"===typeof i){try{o(i())}catch(s){c(s)}return}const n=i instanceof Error?i:new r("string"===typeof i?i:`Promise timed out after ${e} milliseconds`);"function"===typeof t.cancel&&t.cancel(),c(n)}),e),(async()=>{try{o(await t)}catch(e){c(e)}finally{n.customTimers.clearTimeout.call(void 0,s)}})()}else o(t)}));return o.clear=()=>{clearTimeout(s),s=void 0},o}(Promise.resolve(n),e.timeout)),e.signal&&(n=Promise.race([n,q(this,f,"m",S).call(this,e.signal)]));const o=await n;i(o),this.emit("completed",o)}catch(h){if(h instanceof r&&!e.throwOnTimeout)return void i();n(h),this.emit("error",h)}finally{q(this,f,"m",I).call(this)}}),e),this.emit("add"),q(this,f,"m",O).call(this)}))}async addAll(t,e){return Promise.all(t.map((async t=>this.add(t,e))))}start(){return q(this,_,"f")?($(this,_,!1,"f"),q(this,f,"m",z).call(this),this):this}pause(){$(this,_,!0,"f")}clear(){$(this,b,new(q(this,T,"f")),"f")}async onEmpty(){0!==q(this,b,"f").size&&await q(this,f,"m",j).call(this,"empty")}async onSizeLessThan(t){q(this,b,"f").size<t||await q(this,f,"m",j).call(this,"next",(()=>q(this,b,"f").size<t))}async onIdle(){0===q(this,g,"f")&&0===q(this,b,"f").size||await q(this,f,"m",j).call(this,"idle")}get size(){return q(this,b,"f").size}sizeBy(t){return q(this,b,"f").filter(t).length}get pending(){return q(this,g,"f")}get isPaused(){return q(this,_,"f")}}}}]);