{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var d=Object.create;var t=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var i=a=>t(a,\"__esModule\",{value:!0});var k=(a,s)=>()=>(s||a((s={exports:{}}).exports,s),s.exports),g=(a,s)=>{for(var c in s)t(a,c,{get:s[c],enumerable:!0})},o=(a,s,c,e)=>{if(s&&typeof s==\"object\"||typeof s==\"function\")for(let l of h(s))!u.call(a,l)&&(c||l!==\"default\")&&t(a,l,{get:()=>s[l],enumerable:!(e=m(s,l))||e.enumerable});return a},f=(a,s)=>o(i(t(a!=null?d(N(a)):{},\"default\",!s&&a&&a.__esModule?{get:()=>a.default,enumerable:!0}:{value:a,enumerable:!0})),a),y=(a=>(s,c)=>a&&a.get(s)||(c=o(i({}),s,1),a&&a.set(s,c),c))(typeof WeakMap!=\"undefined\"?new WeakMap:0);var p=k((j,r)=>{r.exports=_jsx_runtime});var v={};g(v,{default:()=>x,frontmatter:()=>b});var n=f(p()),b={title:\"\\u4F7F\\u7528 Next.js\\u3001 Prisma \\u548C PostgreSQL \\u5168\\u6808\\u5F00\\u53D1\\u89C6\\u9891\\u7F51\\u7AD9\",date:\"2022/10/11 23:57:14\",lastmod:\"2023/1/25 11:42:57\",tags:[\"\\u524D\\u7AEF\",\"React.js\"],draft:!1,summary:\"\\u672C\\u6587\\u5C06\\u4EE5\\u5B9E\\u73B0\\u4E00\\u4E2A\\u89C6\\u9891\\u7F51\\u7AD9\\u4E3A\\u4F8B\\uFF0C\\u4ECB\\u7ECD Next.js \\u548C Prisma \\u5F00\\u53D1\\u7684\\u5168\\u8FC7\\u7A0B\\uFF0Cprisma \\u5BF9\\u4E8E Next.js \\u6765\\u8BF4\\uFF0C\\u53EF\\u8C13\\u662F\\u5982\\u864E\\u6DFB\\u7FFC\\uFF0C\\u6709\\u4E86\\u5B83\\u4EEC\\uFF0C\\u6211\\u4EEC\\u524D\\u7AEF\\u5DE5\\u7A0B\\u5E08\\u8F7B\\u677E\\u6B65\\u5165\\u4E86\\u5168\\u6808\\u5F00\\u53D1\\u3002\",images:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f670f626e68949df8f2a0479c8ac3833~tplv-k3u1fbpfcp-watermark.image?\",authors:[\"default\"],layout:\"PostLayout\"};function w(a={}){let{wrapper:s}=a.components||{};return s?(0,n.jsx)(s,Object.assign({},a,{children:(0,n.jsx)(c,{})})):c();function c(){let e=Object.assign({hr:\"hr\",p:\"p\",blockquote:\"blockquote\",h2:\"h2\",a:\"a\",span:\"span\",ul:\"ul\",li:\"li\",pre:\"pre\",code:\"code\",h3:\"h3\",img:\"img\",ol:\"ol\"},a.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.hr,{}),(0,n.jsx)(e.p,{children:\"highlight: monokai theme: vuepress\"}),(0,n.jsx)(e.hr,{}),(0,n.jsx)(e.blockquote,{children:(0,n.jsx)(e.p,{children:\"\\u6587\\u7AE0\\u4E3A\\u7A00\\u571F\\u6398\\u91D1\\u6280\\u672F\\u793E\\u533A\\u9996\\u53D1\\u7B7E\\u7EA6\\u6587\\u7AE0\\uFF0C14 \\u5929\\u5185\\u7981\\u6B62\\u8F6C\\u8F7D\\uFF0C14 \\u5929\\u540E\\u672A\\u83B7\\u6388\\u6743\\u7981\\u6B62\\u8F6C\\u8F7D\\uFF0C\\u4FB5\\u6743\\u5FC5\\u7A76\\uFF01\"})}),(0,n.jsxs)(e.h2,{id:\"\\u524D\\u8A00\",children:[(0,n.jsx)(e.a,{href:\"#\\u524D\\u8A00\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u524D\\u8A00\"]}),(0,n.jsx)(e.p,{children:\"\\u5728\\u524D\\u9762\\u7684\\u6587\\u7AE0\\u4E2D\\uFF0C\\u6211\\u4EEC\\u4F7F\\u7528\\u4E86 Notion \\u7B14\\u8BB0\\u4F5C\\u4E3A\\u6570\\u636E\\u5E93\\u548C Next.js \\u5F00\\u53D1\\u4E86\\u4E00\\u4E2A\\u9762\\u8BD5\\u5237\\u9898\\u7F51\\u7AD9\\uFF0C\\u4E5F\\u7ED3\\u5408\\u4E86 Strapi \\u8FD9\\u6B3E\\u65E0\\u5934 CMS \\u7CFB\\u7EDF\\u5F00\\u53D1\\u4E86\\u4E00\\u4E2A\\u5FAE\\u535A\\u5E94\\u7528\\uFF0CStrapi \\u9ED8\\u8BA4\\u4F7F\\u7528\\u7684 SQLite\\uFF0CSQLite \\u662F\\u4E00\\u4E2A\\u57FA\\u4E8E\\u6587\\u4EF6\\u7684\\u5D4C\\u5165\\u5F0F\\u5173\\u7CFB\\u6570\\u636E\\u5E93\\u7CFB\\u7EDF\\uFF0C\\u4F18\\u70B9\\u662F\\u7CBE\\u5DE7\\u3001\\u5355\\u673A\\u90E8\\u7F72\\u4EE5\\u53CA\\u65B9\\u4FBF\\u7684\\u53EF\\u79FB\\u690D\\u6027\\uFF0C\\u4F46\\u7F3A\\u70B9\\u4E5F\\u662F\\u56E0\\u4E3A\\u6587\\u4EF6\\u7CFB\\u7EDF\\u672C\\u8EAB\\u7684\\u9650\\u5236\\uFF0C\\u53EF\\u80FD\\u4F1A\\u5728\\u8F83\\u5927\\u6570\\u636E\\u96C6\\u7684\\u60C5\\u51B5\\u4E0B\\u5BFC\\u81F4\\u6027\\u80FD\\u95EE\\u9898\\u3002\\u4ECA\\u5929\\u6211\\u4EEC\\u6765\\u4F7F\\u7528\\u53E6\\u4E00\\u6B3E\\u5173\\u7CFB\\u578B\\u6570\\u636E\\u5E93 PostgreSQL\\uFF0C\\u53EF\\u4EE5\\u8F7B\\u677E\\u5E94\\u5BF9\\u5927\\u6570\\u636E\\u96C6\\u7684\\u573A\\u666F\\uFF0C\\u5E76\\u4E14\\u76F4\\u63A5\\u652F\\u6301 JSON \\u6570\\u636E\\u7C7B\\u578B\\u5B58\\u50A8\\uFF0C\\u4E5F\\u662F\\u4F01\\u4E1A\\u5E94\\u7528\\u7A0B\\u5E8F\\u4E2D\\u6700\\u53D7\\u6B22\\u8FCE\\u7684\\u6570\\u636E\\u5E93\\u4E4B\\u4E00\\uFF0C\\u7136\\u540E\\u914D\\u5408\\u5F53\\u4E0B\\u975E\\u5E38\\u6D41\\u884C\\u7684 Nodejs ORM \\u6846\\u67B6 Prisma \\uFF0C\\u8BA9 Next.js \\u5168\\u6808\\u5F00\\u53D1\\u53D8\\u5F97\\u66F4\\u52A0\\u7B80\\u5355\\uFF01\"}),(0,n.jsx)(e.p,{children:\"\\u672C\\u6587\\u5C06\\u4EE5\\u5B9E\\u73B0\\u4E00\\u4E2A\\u89C6\\u9891\\u7F51\\u7AD9\\u4E3A\\u4F8B\\uFF0C\\u4ECB\\u7ECD Next.js \\u548C Prisma \\u5F00\\u53D1\\u7684\\u5168\\u8FC7\\u7A0B\\u3002\"}),(0,n.jsxs)(e.h2,{id:\"\\u9605\\u8BFB\\u672C\\u6587\\u4F60\\u5C06\\u6536\\u83B7\",children:[(0,n.jsx)(e.a,{href:\"#\\u9605\\u8BFB\\u672C\\u6587\\u4F60\\u5C06\\u6536\\u83B7\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u9605\\u8BFB\\u672C\\u6587\\uFF0C\\u4F60\\u5C06\\u6536\\u83B7\\uFF1A\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"\\u5982\\u4F55\\u4F7F\\u7528 Docker \\u542F\\u4E00\\u4E2A\\u6570\\u636E\\u5E93\\u670D\\u52A1\"}),(0,n.jsx)(e.li,{children:\"\\u5982\\u4F55\\u4F7F\\u7528 Prisma Schema \\u7BA1\\u7406\\u6570\\u636E\\u8868\"}),(0,n.jsx)(e.li,{children:\"\\u5982\\u4F55\\u5728 Next.js \\u4E2D\\u8C03\\u7528 Prisma \\u67E5\\u8BE2\\u8BED\\u53E5\"})]}),(0,n.jsxs)(e.p,{children:[\"\\u6587\\u4E2D\\u6D89\\u53CA\\u4EE3\\u7801\\u5168\\u90E8\\u6258\\u7BA1\\u5728 \",(0,n.jsx)(e.a,{href:\"https://github.com/maqi1520/next-prisma-video-app\",title:\"GitHub \\u4ED3\\u5E93\\u4EE3\\u7801\",children:\"GitHub \\u4ED3\\u5E93\"}),\"\\u4E2D\\u3002\"]}),(0,n.jsxs)(e.h2,{id:\"\\u521D\\u59CB\\u5316\\u9879\\u76EE\",children:[(0,n.jsx)(e.a,{href:\"#\\u521D\\u59CB\\u5316\\u9879\\u76EE\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u521D\\u59CB\\u5316\\u9879\\u76EE\"]}),(0,n.jsx)(e.p,{children:\"\\u9996\\u5148\\uFF0C\\u6211\\u4EEC\\u4F7F\\u7528 create-next-app \\u521B\\u5EFA\\u4E00\\u4E2A Next.js Typescript \\u5DE5\\u7A0B\\uFF0C\\u5E76\\u4E14\\u5B89\\u88C5\\u548C\\u521D\\u59CB\\u5316 Tailwindcss\"}),(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-bash\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"yarn\"}),` create next-prisma-video-app --typescript\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token class-name builtin\",children:\"cd\"}),` next-prisma-video-app\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"yarn\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"add\"}),` tailwindcss postcss autoprefixer --dev\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`npx tailwindcss init -p\n`})]})}),(0,n.jsxs)(e.p,{children:[\"\\u4FEE\\u6539 \",(0,n.jsx)(e.code,{children:\"globals.css\"}),\" \\u4E3A \",(0,n.jsx)(e.code,{children:\"tailwindcss\"}),\" \\u9ED8\\u8BA4\\u6307\\u4EE4\"]}),(0,n.jsx)(e.pre,{className:\"language-css\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-css\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token atrule\",children:[(0,n.jsx)(e.span,{className:\"token rule\",children:\"@tailwind\"}),\" base\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token atrule\",children:[(0,n.jsx)(e.span,{className:\"token rule\",children:\"@tailwind\"}),\" components\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token atrule\",children:[(0,n.jsx)(e.span,{className:\"token rule\",children:\"@tailwind\"}),\" utilities\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"})]}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u8FD0\\u884C \",(0,n.jsx)(e.code,{children:\"yarn dev\"}),\" \\u8FDB\\u5165\\u5F00\\u53D1\\u6A21\\u5F0F\\uFF0C\\u4FEE\\u6539\\u9875\\u9762\\u6D4F\\u89C8\\u5668\\u4F1A\\u81EA\\u52A8\\u70ED\\u66F4\\u65B0\\uFF0C\\u81F3\\u6B64\\u6211\\u4EEC\\u7684\\u524D\\u7AEF\\u5DE5\\u7A0B\\u521D\\u59CB\\u5316\\u5B8C\\u6210\\u3002\"]}),(0,n.jsxs)(e.h2,{id:\"\\u5F00\\u53D1\\u73AF\\u5883\",children:[(0,n.jsx)(e.a,{href:\"#\\u5F00\\u53D1\\u73AF\\u5883\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u5F00\\u53D1\\u73AF\\u5883\"]}),(0,n.jsx)(e.p,{children:\"\\u63A5\\u4E0B\\u6765\\uFF0C\\u5148\\u6765\\u8BF4\\u660E\\u4E0B\\u672C\\u9879\\u76EE\\u6D89\\u53CA\\u5230\\u7684\\u5F00\\u53D1\\u73AF\\u5883\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"\\u5B89\\u88C5 Docker \\u6216 PostgreSQL\\u3002\"}),(0,n.jsx)(e.li,{children:\"VSCode \\u5B89\\u88C5\\u4E86 Prisma \\u6269\\u5C55\\u3002\"})]}),(0,n.jsxs)(e.h3,{id:\"\\u5B89\\u88C5-docker\",children:[(0,n.jsx)(e.a,{href:\"#\\u5B89\\u88C5-docker\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u5B89\\u88C5 Docker\"]}),(0,n.jsx)(e.blockquote,{children:(0,n.jsx)(e.p,{children:\"\\u63D0\\u793A\\uFF1A\\u5982\\u679C\\u60A8\\u4E0D\\u60F3\\u4F7F\\u7528 Docker\\uFF0C\\u53EF\\u4EE5\\u5728\\u672C\\u5730\\u5B89\\u88C5 PostgreSQL \\u5B9E\\u4F8B\\u6216\\u8005\\u4F7F\\u7528\\u4E91\\u670D\\u52A1\\u5546\\u63D0\\u4F9B\\u7684 PostgreSQL \\u6570\\u636E\\u5E93\\u3002\"})}),(0,n.jsx)(e.p,{children:\"\\u524D\\u7AEF\\u540C\\u5B66\\uFF0C\\u4E00\\u822C\\u4E0D\\u4F1A\\u5728\\u81EA\\u5DF1\\u7684\\u7535\\u8111\\u4E0A\\u6570\\u636E\\u5E93\\uFF0C\\u4E0D\\u540C\\u73AF\\u5883\\u4E0B\\u5B89\\u88C5\\u6570\\u636E\\u5E93\\u53EF\\u80FD\\u4F1A\\u662F\\u4E00\\u4E2A\\u9EBB\\u70E6\\u7684\\u8FC7\\u7A0B\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u5148\\u5B89\\u88C5 Docker\\uFF0C\\u901A\\u8FC7 Docker \\u5B89\\u88C5\\u4E00\\u4E2A\\u6570\\u636E\\u5E93\\u4F1A\\u53D8\\u7684\\u975E\\u5E38\\u7B80\\u5355\\u3002\"}),(0,n.jsxs)(e.p,{children:[\"\\u6CA1\\u6709 Docker \\u7684\\u540C\\u5B66\\u5148\\u901A\\u8FC7 \",(0,n.jsx)(e.a,{href:\"https://www.docker.com/\",title:\"docker \\u5B98\\u7F51\",children:\"docker \\u5B98\\u7F51\"}),\"\\u5B89\\u88C5 Docker\\u3002\"]}),(0,n.jsxs)(e.p,{children:[\"\\u9ED8\\u8BA4\\u60C5\\u51B5\\u4E0B\\uFF0Cwindows \\u548C mac \\u4E0B\\u7684 Docker \\u5DF2\\u7ECF\\u81EA\\u5E26\\u4E86\",(0,n.jsx)(e.code,{children:\"docker-compose\"}),\" \\u5DE5\\u5177\\uFF0C\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"docker-compose -v\"}),\" \\u547D\\u4EE4\\u67E5\\u770B\\u3002\"]}),(0,n.jsxs)(e.h3,{id:\"\\u521B\\u5EFA-postgresql-\\u5B9E\\u4F8B\",children:[(0,n.jsx)(e.a,{href:\"#\\u521B\\u5EFA-postgresql-\\u5B9E\\u4F8B\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u521B\\u5EFA PostgreSQL \\u5B9E\\u4F8B\"]}),(0,n.jsx)(e.p,{children:\"\\u4E0B\\u9762\\u6211\\u4EEC\\u5C06\\u901A\\u8FC7 Docker \\u5BB9\\u5668\\u5728\\u60A8\\u7684\\u673A\\u5668\\u4E0A\\u5B89\\u88C5\\u548C\\u8FD0\\u884C PostgreSQL\\u3002\"}),(0,n.jsxs)(e.p,{children:[\"\\u9996\\u5148\\uFF0C\\u5728\\u9879\\u76EE\\u7684\\u6839\\u6587\\u4EF6\\u5939\\u4E2D\\u521B\\u5EFA\\u4E00\\u4E2A\",(0,n.jsx)(e.code,{children:\"docker-compose.yml\"}),\"\\u6587\\u4EF6\\uFF1A\"]}),(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsx)(e.code,{className:\"code-highlight language-bash\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"touch\"}),` docker-compose.yml\n`]})})}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"docker-compose.yml\"}),\" \\u6587\\u4EF6\\u662F\\u4E00\\u4E2A docker \\u5BB9\\u5668\\u7684\\u89C4\\u8303\\u914D\\u7F6E\\u6587\\u4EF6\\uFF0C\\u5305\\u542B\\u4E86 PostgreSQL \\u521D\\u59CB\\u5316\\u8BBE\\u7F6E\\u3002\\u5728\\u6587\\u4EF6\\u4E2D\\u8F93\\u5165\\u4EE5\\u4E0B\\u914D\\u7F6E\\uFF1A\"]}),(0,n.jsx)(e.pre,{className:\"language-yml\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-yml\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# docker-compose.yml\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"version\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'3.1'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"services\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"db\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"image\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` postgres\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"volumes\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\" ./postgres\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`/var/lib/postgresql/data\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"restart\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` always\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"ports\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\" 5432\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"5432\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"environment\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),` POSTGRES_USER=myuser\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),` POSTGRES_PASSWORD=mypassword\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"adminer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"image\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` adminer\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"restart\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` always\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"ports\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\" 8080\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"8080\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\u4E0A\\u9762 yml \\u6587\\u4EF6\\u4E2D\\uFF0C\\u6211\\u4EEC\\u521D\\u59CB\\u5316\\u4E86 2 \\u4E2A\\u670D\\u52A1\\uFF1A\"}),(0,n.jsxs)(e.p,{children:[\"\\u4E00\\u4E2A\\u662F \",(0,n.jsx)(e.code,{children:\"postgres\"}),\" \\u5BF9\\u5E94 5432 \\u7AEF\\u53E3\\uFF0Cvolumes \\u5377\\u4EE3\\u8868\\u6587\\u4EF6\\u6620\\u5C04\\uFF0C\\u5C06\\u5BB9\\u5668\\u4E2D\\u7684\\u6570\\u636E\\u5E93\\u6620\\u5C04\\u5230\\u5F53\\u524D\\u4E3B\\u673A\\uFF0C\\u907F\\u514D\\u5BB9\\u5668\\u670D\\u52A1\\u9500\\u6BC1\\u7684\\u65F6\\u5019\\u6570\\u636E\\u5E93\\u4E22\\u5931\\u3002\"]}),(0,n.jsxs)(e.p,{children:[\"\\u53E6\\u4E00\\u4E2A \",(0,n.jsx)(e.code,{children:\"adminer\"}),\" \\u662F\\u4E00\\u4E2A\\u8F7B\\u91CF\\u7684\\u6570\\u636E\\u5E93\\u7BA1\\u7406\\u5BA2\\u6237\\u7AEF\\uFF0C\\u652F\\u6301\\u591A\\u79CD\\u5173\\u7CFB\\u578B\\u6570\\u636E\\u5E93\\uFF0C\\u542F\\u52A8\\u5728 8080 \\u7AEF\\u53E3\\u3002\"]}),(0,n.jsx)(e.p,{children:\"\\u5728\\u542F\\u52A8\\u4E4B\\u524D\\u8BF7\\u786E\\u4FDD 5432 \\u7AEF\\u53E3\\u548C 8080 \\u7AEF\\u4E0D\\u88AB\\u5360\\u7528\\uFF0C\\u5728\\u547D\\u4EE4\\u884C\\u4E2D\\u8F93\\u5165\\u4EE5\\u4E0B\\u547D\\u4EE4\\u542F\\u52A8\\u670D\\u52A1\\uFF1A\"}),(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsx)(e.code,{className:\"code-highlight language-bash\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"docker-compose\"}),` up -d\n`]})})}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"-d\"}),\"\\u53C2\\u6570\\u53EF\\u4EE5\\u786E\\u4FDD\\u4F60\\u5173\\u95ED\\u547D\\u4EE4\\u884C\\u7A97\\u53E3\\uFF0Cdocker \\u670D\\u52A1\\u4E0D\\u88AB\\u505C\\u6B62\\u3002\"]}),(0,n.jsxs)(e.p,{children:[\"\\u6B64\\u65F6\\u8BBF\\u95EE \",(0,n.jsx)(e.code,{children:\"http://localhost:8080/\"}),\" \\u4FBF\\u53EF\\u4EE5\\u4F7F\\u7528\\u53EF\\u89C6\\u5316\\u9875\\u9762\\u8BBF\\u95EE postgres \\u6570\\u636E\\u5E93\\u4E86\\u3002\"]}),(0,n.jsx)(e.p,{children:\"\\u8F93\\u5165\\u4F60\\u8BBE\\u7F6E\\u7684\\u7528\\u6237\\u540D\\u548C\\u5BC6\\u7801\\u4FBF\\u53EF\\u4EE5\\u770B\\u5230\\u4EE5\\u4E0B\\u754C\\u9762\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"Adminer PostgreSQL \\u7BA1\\u7406\\u754C\\u9762\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/34ab754a8c594147ab5b45e633c497ad~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsx)(e.p,{children:\"\\u5F53\\u7136\\u4F60\\u82E5\\u4E0D\\u60F3\\u4F7F\\u7528\\u6570\\u636E\\u7684\\u65F6\\u5019\\uFF0C\\u4E5F\\u53EF\\u4EE5\\u4F7F\\u7528\\u4EE5\\u4E0B\\u547D\\u4EE4\\u505C\\u6B62 docker \\u670D\\u52A1\\u3002\"}),(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsx)(e.code,{className:\"code-highlight language-bash\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"docker-compose\"}),` down\n`]})})}),(0,n.jsx)(e.p,{children:\"\\u505C\\u6B62\\u540E\\uFF0C\\u6570\\u636E\\u5E93\\u6570\\u636E\\u4E0D\\u4F1A\\u4E22\\u5931\\uFF0C\\u56E0\\u4E3A\\u5B83\\u5B58\\u5728\\u540C\\u76EE\\u5F55\\u4E0B\\u7684 postgres \\u76EE\\u5F55\\u4E2D\\uFF0C\\u4E0B\\u6B21\\u542F\\u52A8\\u4FBF\\u53EF\\u4EE5\\u6062\\u590D\\u6570\\u636E\\u3002\"}),(0,n.jsxs)(e.h2,{id:\"\\u9700\\u6C42\\u5206\\u6790\",children:[(0,n.jsx)(e.a,{href:\"#\\u9700\\u6C42\\u5206\\u6790\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u9700\\u6C42\\u5206\\u6790\"]}),(0,n.jsx)(e.p,{children:\"\\u7B80\\u5355\\u6982\\u62EC\\u4E0B\\u9700\\u6C42\\uFF0C\\u6211\\u4EEC\\u8981\\u5B9E\\u73B0\\u7684\\u89C6\\u9891\\u7F51\\u7AD9\\u6709\\u7684\\u7C7B\\u4F3C B \\u7AD9\\u6216\\u8005\\u8BF4\\u662F\\u6155\\u8BFE\\u7F51\\u3002\"}),(0,n.jsxs)(e.ol,{children:[(0,n.jsx)(e.li,{children:\"\\u81F3\\u5C11 1 \\u4E2A\\u5217\\u8868\\u9875\\u548C\\u4E00\\u4E2A\\u89C6\\u9891\\u8BE6\\u60C5\\u9875\\u9762\"}),(0,n.jsx)(e.li,{children:\"\\u6BCF\\u4E2A\\u89C6\\u9891\\u5FC5\\u987B\\u6709\\u4E00\\u4E2A\\u5206\\u7C7B\"}),(0,n.jsx)(e.li,{children:\"\\u6BCF\\u4E2A\\u89C6\\u9891\\u5FC5\\u987B\\u6709\\u4E00\\u4E2A\\u4F5C\\u8005\"}),(0,n.jsx)(e.li,{children:\"\\u6BCF\\u4E2A\\u89C6\\u9891\\u53EF\\u4EE5\\u5206\\u4E3A\\u591A\\u4E2A\\u7AE0\\u8282\"})]}),(0,n.jsxs)(e.h2,{id:\"\\u6570\\u636E\\u5B9E\\u4F53\\u5173\\u7CFB\\u56FE\",children:[(0,n.jsx)(e.a,{href:\"#\\u6570\\u636E\\u5B9E\\u4F53\\u5173\\u7CFB\\u56FE\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u6570\\u636E\\u5B9E\\u4F53\\u5173\\u7CFB\\u56FE\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\\u6570\\u636E\\u5B9E\\u4F53\\u5173\\u7CFB\\u56FE\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/58c9e5f1fa964102a56c2f925a88ac39~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsxs)(e.ol,{children:[(0,n.jsx)(e.li,{children:\"\\u4E00\\u4E2A\\u4F5C\\u8005\\u53EF\\u4EE5\\u521B\\u5EFA\\u591A\\u4E2A\\u89C6\\u9891\\uFF1A\\u4E00\\u5BF9\\u591A\"}),(0,n.jsx)(e.li,{children:\"\\u4E00\\u4E2A\\u5206\\u7C7B\\u4E0B\\u53EF\\u4EE5\\u6709\\u591A\\u4E2A\\u89C6\\u9891\\uFF0C\\u4F46\\u4E00\\u4E2A\\u89C6\\u9891\\u53EA\\u80FD\\u5C5E\\u4E8E\\u4E00\\u4E2A\\u5206\\u7C7B\\uFF1A \\u4E00\\u4E2A\\u4F5C\\u8005\\u53EF\\u4EE5\\u521B\\u5EFA\\u591A\\u4E2A\\u89C6\\u9891\\uFF1A\\u4E00\\u5BF9\\u591A\"}),(0,n.jsx)(e.li,{children:\"\\u4E00\\u4E2A\\u89C6\\u9891\\u53EF\\u4EE5\\u6709\\u591A\\u4E2A\\u7AE0\\u8282\\uFF1A\\u4E00\\u5BF9\\u591A\"})]}),(0,n.jsx)(e.p,{children:\"\\u73B0\\u5728\\u6570\\u636E\\u5E93\\u548C\\u524D\\u7AEF\\u9879\\u76EE\\u5DF2\\u7ECF\\u51C6\\u5907\\u597D\\u4E86\\uFF0C\\u662F\\u65F6\\u5019\\u8BBE\\u7F6E Prisma \\u4E86\\uFF01\"}),(0,n.jsxs)(e.h2,{id:\"\\u521D\\u59CB\\u5316-prisma\",children:[(0,n.jsx)(e.a,{href:\"#\\u521D\\u59CB\\u5316-prisma\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u521D\\u59CB\\u5316 Prisma\"]}),(0,n.jsx)(e.p,{children:\"\\u9996\\u5148\\uFF0C\\u9996\\u5148\\u5B89\\u88C5 Prisma CLI \\u4F5C\\u4E3A\\u5F00\\u53D1\\u4F9D\\u8D56\\u9879\\u3002\"}),(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsx)(e.code,{className:\"code-highlight language-bash\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"yarn\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"add\"}),` -D prisma\n`]})})}),(0,n.jsx)(e.p,{children:\"\\u4F60\\u53EF\\u4EE5\\u901A\\u8FC7\\u8FD0\\u884C\\u4EE5\\u4E0B\\u547D\\u4EE4\\u5728\\u9879\\u76EE\\u4E2D\\u521D\\u59CB\\u5316 Prisma\\uFF1A\"}),(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"code-highlight\",children:(0,n.jsx)(e.span,{className:\"code-line\",children:`npx prisma init\n`})})}),(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u4E00\\u6B65\\u521B\\u5EFA\\u4E86\\u4E00\\u4E2A prisma \\u76EE\\u5F55\\u5305\\u542B\\u4E86 \",(0,n.jsx)(e.code,{children:\"schema.prisma\"}),\" \\u6587\\u4EF6\\uFF0C\\u8BE5\\u6587\\u4EF6\\u662F\\u6570\\u636E\\u5E93\\u6A21\\u578B\\u7684\\u4E3B\\u8981\\u914D\\u7F6E\\u6587\\u4EF6\\u3002\\u6B64\\u547D\\u4EE4\\u8FD8\\u4F1A\\u5728\\u9879\\u76EE\\u4E2D\\u521B\\u5EFA\\u4E00\\u4E2A\",(0,n.jsx)(e.code,{children:\".env\"}),\" \\u6587\\u4EF6\\u3002\"]}),(0,n.jsxs)(e.h3,{id:\"\\u8BBE\\u7F6E\\u73AF\\u5883\\u53D8\\u91CF\",children:[(0,n.jsx)(e.a,{href:\"#\\u8BBE\\u7F6E\\u73AF\\u5883\\u53D8\\u91CF\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u8BBE\\u7F6E\\u73AF\\u5883\\u53D8\\u91CF\"]}),(0,n.jsxs)(e.p,{children:[\"\\u5728\",(0,n.jsx)(e.code,{children:\".env\"}),\"\\u6587\\u4EF6\\u4E2D\\uFF0C\\u4F60\\u4F1A\\u770B\\u5230\\u4E00\\u4E2A\",(0,n.jsx)(e.code,{children:\"DATABASE_URL\"}),\"\\u73AF\\u5883\\u53D8\\u91CF\\uFF0C\\u5C06\\u6B64\\u5B57\\u7B26\\u4E32\\u4E2D\\u7684\\u6570\\u636E\\u5E93\\u8FDE\\u63A5\\u4FE1\\u606F\\u66FF\\u6362\\u4E3A\\u4F60\\u521A\\u624D\\u521B\\u5EFA\\u7684 PostgreSQL \\u5B9E\\u4F8B\\u4FE1\\u606F\\u3002\"]}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line\",children:`// .env\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`DATABASE_URL=\"postgres://myuser:mypassword@localhost:5432/median-db\"\n`})]})}),(0,n.jsxs)(e.h3,{id:\"\\u4E86\\u89E3-prisma-schema\",children:[(0,n.jsx)(e.a,{href:\"#\\u4E86\\u89E3-prisma-schema\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u4E86\\u89E3 Prisma schema\"]}),(0,n.jsxs)(e.p,{children:[\"Prisma Schema \\u53EF\\u4EE5\\u8BA9\\u6211\\u4EEC\\u66F4\\u52A0\\u76F4\\u89C2\\u7684\\u7BA1\\u7406\\u6570\\u636E\\u8868\\uFF0C\\u5F53\\u6211\\u4EEC\\u7684\\u6570\\u636E\\u8868\\u6709\\u6539\\u52A8\\u65F6\\uFF0C\\u53EF\\u4EE5\\u6839\\u636E Schema \\u81EA\\u52A8\\u751F\\u6210 SQl\\uFF0C\\u544A\\u522B\\u7F16\\u5199 SQl \\u8FC1\\u79FB\\u7684\\u70E6\\u607C\\uFF0C\",(0,n.jsx)(e.a,{href:\"https://www.prisma.io/migrate\",title:\"prisma \\u5B98\\u7F51\",children:\"prisma \\u5B98\\u7F51\"}),\"\\u4E5F\\u76F4\\u89C2\\u5730\\u5C55\\u793A\\u4E86 Schem \\u4E0E Sql \\u7684\\u5173\\u7CFB\\u3002\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"prisma \\u5B98\\u7F51\\u6F14\\u793A\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/798b63422b6449a882c9a16d16bfa8ff~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsxs)(e.p,{children:[\"\\u6253\\u5F00\",(0,n.jsx)(e.code,{children:\"prisma/schema.prisma\"}),\"\\uFF0C\\u4F60\\u4F1A\\u770B\\u5230\\u4EE5\\u4E0B\\u9ED8\\u8BA4\\u4EE3\\u7801\\uFF1A\"]}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-js\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// prisma/schema.prisma\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"generator client \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  provider \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"prisma-client-js\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"datasource db \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  provider \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"postgresql\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  url      \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"env\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"DATABASE_URL\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u8BE5\\u6587\\u4EF6\\u662F\\u7528 \",(0,n.jsx)(e.code,{children:\"Prisma Schema Language\"}),\"\\u7F16\\u5199\\u7684\\uFF0C\\u8FD9\\u662F Prisma \\u7528\\u6765\\u5B9A\\u4E49\\u6570\\u636E\\u5E93\\u6A21\\u5F0F\\u7684\\u8BED\\u8A00\\u3002\\u8BE5\\u6587\\u4EF6\\u5305\\u542B\\u4E09\\u4E2A\\u4E3B\\u8981\\u7EC4\\u6210\\u90E8\\u5206\\uFF1A\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"datasource\\uFF1A\\u5B9A\\u4E49\\u6570\\u636E\\u5E93\\u7C7B\\u578B\\u548C\\u94FE\\u63A5\\u5730\\u5740\"}),(0,n.jsx)(e.li,{children:\"generator\\uFF1A\\u6307\\u5B9A\\u54EA\\u4E2A\\u5BA2\\u6237\\u7AEF\\u5411\\u6570\\u636E\\u53D1\\u9001\\u67E5\\u8BE2\\u8BED\\u8A00\"}),(0,n.jsx)(e.li,{children:\"model\\uFF1A\\u5B9A\\u4E49\\u6570\\u636E\\u5E93 Schema\\u3002\\u6BCF\\u4E2A Model \\u90FD\\u5C06\\u6620\\u5C04\\u5230\\u6570\\u636E\\u5E93\\u5E95\\u5C42\\u4E2D\\u7684\\u4E00\\u4E2A\\u8868\\u4E2D\\u3002\\u76EE\\u524D\\uFF0C\\u6211\\u4EEC\\u8FD8\\u6CA1\\u6709 model\\uFF0C\\u63A5\\u4E0B\\u6765\\u6211\\u4EEC\\u6765\\u5B9A\\u4E49\\u4E0B model\\u3002\"})]}),(0,n.jsxs)(e.h2,{id:\"\\u5BF9\\u6570\\u636E\\u5EFA\\u6A21\",children:[(0,n.jsx)(e.a,{href:\"#\\u5BF9\\u6570\\u636E\\u5EFA\\u6A21\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u5BF9\\u6570\\u636E\\u5EFA\\u6A21\"]}),(0,n.jsxs)(e.p,{children:[\"\\u5DE5\\u6B32\\u5584\\u5176\\u4E8B\\u5FC5\\u5148\\u5229\\u5176\\u5668\\uFF0C\\u5728 VSCode \\u4E2D\\u5B89\\u88C5\\u4E86 \",(0,n.jsx)(e.a,{href:\"https://marketplace.visualstudio.com/items?itemName=Prisma.prisma\",title:\"Prisma \\u6269\\u5C55\",children:\"Prisma \\u6269\\u5C55\"}),\"\\uFF0C\\u53EF\\u4EE5\\u8BA9 VSCode \\u5BF9 Prisma Schema \\u6709\\u8BED\\u6CD5\\u9AD8\\u4EAE\\u548C\\u8F93\\u5165\\u63D0\\u793A\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-js\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"model \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Video\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  id         \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Int\"}),\"       @id @\",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"autoincrement\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  title      \",(0,n.jsx)(e.span,{className:\"token class-name known-class-name\",children:\"String\"}),`    @unique\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  desc       \",(0,n.jsx)(e.span,{className:\"token class-name known-class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  pic        \",(0,n.jsx)(e.span,{className:\"token class-name known-class-name\",children:\"String\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  authorId   \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Int\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  author     \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"User\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),\"     @\",(0,n.jsx)(e.span,{className:\"token function\",children:\"relation\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"fields\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"authorId\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"references\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"id\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  categoryId \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Int\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  category   \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Category\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),\" @\",(0,n.jsx)(e.span,{className:\"token function\",children:\"relation\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"fields\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"categoryId\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"references\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"id\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  level      \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Int\"}),\"       @\",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  createdAt  \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"DateTime\"}),\"  @\",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"now\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  updatedAt  \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"DateTime\"}),`  @updatedAt\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  chapter    \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Chapter\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"model \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Category\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  id    \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Int\"}),\"     @id @\",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"autoincrement\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  name  \",(0,n.jsx)(e.span,{className:\"token class-name known-class-name\",children:\"String\"}),`  @unique\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  video \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Video\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"model \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Chapter\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  id      \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Int\"}),\"    @id @\",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"autoincrement\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  title   \",(0,n.jsx)(e.span,{className:\"token class-name known-class-name\",children:\"String\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  url     \",(0,n.jsx)(e.span,{className:\"token class-name known-class-name\",children:\"String\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  videoId \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Int\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  video   \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Video\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),\" @\",(0,n.jsx)(e.span,{className:\"token function\",children:\"relation\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"fields\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"videoId\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"references\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"id\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"model \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"User\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  id     \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Int\"}),\"     @id @\",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"autoincrement\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  avatar \",(0,n.jsx)(e.span,{className:\"token class-name known-class-name\",children:\"String\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  name   \",(0,n.jsx)(e.span,{className:\"token class-name known-class-name\",children:\"String\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  video  \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Video\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u91CC\\u521B\\u5EFA\\u4E86 4 \\u4E2A Model\\uFF0C\",(0,n.jsx)(e.code,{children:\"Video\"}),\"\\u3001\",(0,n.jsx)(e.code,{children:\"Category\"}),\"\\u3001\",(0,n.jsx)(e.code,{children:\"Chapter\"}),\"\\u3001\",(0,n.jsx)(e.code,{children:\"User\"}),\" \\u5206\\u522B\\u5BF9\\u5E94\\u6570\\u636E\\u5E93\\u4E2D\\u7684\\u8868\\u3002\\u6BCF\\u4E2A Model \\u4E2D\\u7684\\u4E00\\u884C\\u4EE3\\u8868\\u4E00\\u4E2A\\u5B57\\u6BB5\\uFF0C\\u7B2C\\u4E00\\u4E2A\\u662F\\u540D\\u79F0\\uFF08\\u5982\\uFF1A\",(0,n.jsx)(e.code,{children:\"id\"}),\"\\u3001\",(0,n.jsx)(e.code,{children:\"title\"}),\"\\uFF09\\u3001\\u7B2C\\u4E8C\\u4E2A\\u662F\\u7C7B\\u578B\\uFF08\\u5982\\uFF1A\",(0,n.jsx)(e.code,{children:\"Int\"}),\"\\u3001\",(0,n.jsx)(e.code,{children:\"String\"}),\"\\uFF09\\u548C\\u5176\\u4ED6\\u53EF\\u9009\\u5C5E\\u6027\\uFF08\\u5982\\uFF1A\",(0,n.jsx)(e.code,{children:\"@id\"}),\"\\u3001\",(0,n.jsx)(e.code,{children:\"@unique\"}),\"\\uFF09\\u3002\\u5728\\u5B57\\u6BB5\\u7C7B\\u578B\\u540E\\u9762\\u6DFB\\u52A0\\u4E00\\u4E2A\",(0,n.jsx)(e.code,{children:\"?\"}),\"\\u6765\\u4F7F\\u5B57\\u6BB5\\u6210\\u4E3A\\u53EF\\u9009\\u3002\"]}),(0,n.jsxs)(e.p,{children:[\"\\u5C5E\\u6027\",(0,n.jsx)(e.code,{children:\"@id\"}),\"\\u8868\\u793A\\u8BE5\\u5B57\\u6BB5\\u662F\\u6A21\\u578B\\u7684\\u4E3B\\u952E\\u3002\",(0,n.jsx)(e.code,{children:\"@default(autoincrement())\"}),\"\\u5C5E\\u6027\\u8868\\u793A\\u8BE5\\u5B57\\u6BB5\\u5E94\\u81EA\\u52A8\\u9012\\u589E\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"@relation\"}),\" \\u8868\\u793A\\u7ED9\\u8868\\u521B\\u5EFA\\u5173\\u8054\\uFF0C\\u6BD4\\u5982 \",(0,n.jsx)(e.code,{children:\"video Video? @relation(fields: [videoId], references: [id])\"}),\"\\u8868\\u793A\\u4F7F\\u7528\",(0,n.jsx)(e.code,{children:\"videoId\"}),\" \\u4E3A\\u9644\\u952E\\uFF0C\\u5173\\u8054 \",(0,n.jsx)(e.code,{children:\"Video\"}),\" \\u8868\\u4E2D\\u7684\\u4E3B\\u952E \",(0,n.jsx)(e.code,{children:\"id\"}),\",\"]}),(0,n.jsxs)(e.p,{children:['\\u5F53\\u6211\\u4EEC\\u4FDD\\u5B58\\u65F6\\uFF0Cvscode \\u4F1A\\u81EA\\u52A8\\u7ED9\"\\u88AB\\u5173\\u8054\\u7684\\u8868\"\\u6DFB\\u52A0\\u5B57\\u6BB5',(0,n.jsx)(e.code,{children:\"video Video[]\"}),\" \\uFF0C\\u5E76\\u4E14\\u81EA\\u52A8\\u683C\\u5F0F\\u5316\\uFF0C\\u8BA9\\u8868\\u4E4B\\u95F4\\u7684\\u5173\\u7CFB\\u4E00\\u76EE\\u4E86\\u7136\\u3002\"]}),(0,n.jsxs)(e.h2,{id:\"\\u8FC1\\u79FB\\u6570\\u636E\\u5E93\",children:[(0,n.jsx)(e.a,{href:\"#\\u8FC1\\u79FB\\u6570\\u636E\\u5E93\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u8FC1\\u79FB\\u6570\\u636E\\u5E93\"]}),(0,n.jsx)(e.p,{children:\"\\u5B9A\\u4E49 Prisma Schema \\u540E\\uFF0C\\u6570\\u636E\\u5E93\\u4E2D\\u8FD8\\u6CA1\\u6709\\u771F\\u6B63\\u7684\\u8868\\uFF0C\\u6240\\u4EE5\\u6211\\u4EEC\\u8981\\u6267\\u884C\\u4E00\\u6B21 migrate(\\u8FC1\\u79FB)\\uFF0C\\u7B2C\\u4E00\\u6B21\\u8FC1\\u79FB\\uFF0C\\u8BF7\\u5728\\u7EC8\\u7AEF\\u4E2D\\u8FD0\\u884C\\u4EE5\\u4E0B\\u547D\\u4EE4\\uFF1A\"}),(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"code-highlight\",children:(0,n.jsx)(e.span,{className:\"code-line\",children:`npx prisma migrate dev --name \"init\"\n`})})}),(0,n.jsx)(e.p,{children:\"\\u8FD9\\u4E2A\\u547D\\u4EE4\\u4F1A\\u505A\\u4E09\\u4EF6\\u4E8B\\uFF1A\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[\"\\u4FDD\\u5B58\\u8FC1\\u79FB SQL\\uFF1APrisma Migrate \\u5C06\\u6839\\u636E Schema \\u81EA\\u52A8\\u751F\\u6210\\u6240\\u9700\\u7684 SQL \\u8BED\\u53E5\\uFF0C\\u5E76\\u4E14\\u5C06\\u751F\\u6210\\u7684 SQL \\u8BED\\u53E5\\u4FDD\\u5B58\\u5230\\u65B0\\u521B\\u5EFA\\u7684\",(0,n.jsx)(e.code,{children:\"prisma/migrations\"}),\"\\u6587\\u4EF6\\u5939\\u4E2D\\u3002\"]}),(0,n.jsx)(e.li,{children:\"\\u6267\\u884C\\u8FC1\\u79FB\\uFF1APrisma Migrate \\u5C06\\u6267\\u884C\\u8FC1\\u79FB\\u6587\\u4EF6\\u4E2D\\u7684 SQL \\u8BED\\u53E5\\uFF0C\\u5728\\u6570\\u636E\\u5E93\\u4E2D\\u521B\\u5EFA\\u57FA\\u7840\\u8868\\u3002\"}),(0,n.jsxs)(e.li,{children:[\"\\u5B89\\u88C5 \",(0,n.jsx)(e.code,{children:\"@prisma/client\"}),\"\\uFF1A\\u7531\\u4E8E\\u6211\\u4EEC\\u6CA1\\u6709\\u5B89\\u88C5\\u5BA2\\u6237\\u7AEF\\u5E93\\uFF0C\\u56E0\\u6B64 CLI \\u4F1A\\u5E2E\\u6211\\u4EEC\\u5B89\\u88C5\\u5B83\\u3002\\u6267\\u884C\\u5B8C\\u6210\\u540E\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u5728 \",(0,n.jsx)(e.code,{children:\"package.json\"}),\" \\u4E2D\\u770B\\u5230\\u5B89\\u88C5\\u7684 \",(0,n.jsx)(e.code,{children:\"@prisma/client\"}),\" \\u5305\\uFF0C\\u6211\\u4EEC\\u5C06\\u7528\\u5B83\\u5411\\u6570\\u636E\\u5E93\\u53D1\\u9001\\u67E5\\u8BE2\\u3002\"]})]}),(0,n.jsx)(e.p,{children:\"\\u6267\\u884C\\u6210\\u529F\\u540E\\u6211\\u4EEC\\u53EF\\u4EE5\\u5728\\u547D\\u4EE4\\u884C\\u4E2D\\u770B\\u5230\\u4EE5\\u4E0B\\u63D0\\u793A\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"Prisma \\u8FC1\\u79FB\\u6210\\u529F\\u751F\\u6210SQL\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a8f25195fe2f4c5cafafe3efd1144c6f~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsxs)(e.p,{children:[\"\\u6211\\u4EEC\\u4E5F\\u53EF\\u4EE5\\u67E5\\u770B \",(0,n.jsx)(e.code,{children:\"prisma/migrations\"}),\" \\u6587\\u4EF6\\u5939\\u4E2D\\u7684\\u6587\\u4EF6\\uFF0C\\u4E86\\u89E3\\u5E95\\u5C42\\u6267\\u884C\\u7684 SQL \\u8BED\\u53E5\\uFF0C\\u4E0B\\u9762\\u4FBF\\u662F\\u7B2C\\u4E00\\u6B21\\u6267\\u884C\\u540E\\u751F\\u6210\\u7684 SQL\\u3002\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"Prisma \\u751F\\u6210\\u7684SQL\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d15216ae5da24482aa29c6c6033bd4f5~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsx)(e.p,{children:\"\\u6B64\\u65F6\\u6211\\u53D1\\u73B0\\u8BBE\\u8BA1\\u6570\\u636E\\u5E93\\u65F6\\uFF0C\\u5C11\\u52A0\\u4E86\\u4E00\\u4E2A\\u5B57\\u6BB5\\uFF0C\\u6BCF\\u4E2A\\u7AE0\\u8282\\u7684\\u89C6\\u9891\\u5C11\\u52A0\\u4E86\\u4E00\\u4E2A\\u5C01\\u9762\\u5B57\\u6BB5\\uFF0C\\u6CA1\\u5173\\u7CFB\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u76F4\\u63A5\\u4FEE\\u6539 Schema\\u3002\"}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"code-highlight language-diff-js\",children:[(0,n.jsx)(e.span,{className:\"code-line\",children:`model Chapter {\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`   id      Int    @id @default(autoincrement())\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`   title   String\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`+  cover   String\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`   url     String\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`   videoId Int\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`   video   Video? @relation(fields: [videoId], references: [id])\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`}\n`})]})}),(0,n.jsxs)(e.p,{children:[\"\\u518D\\u6B21\\u6267\\u884C\",(0,n.jsx)(e.code,{children:\"prisma migrate dev --name added_cover\"}),\", \\u6570\\u636E\\u5E93\\u4E2D\\u4FBF\\u4F1A\\u540C\\u6B65\\u8BE5\\u5B57\\u6BB5\\uFF0C \",(0,n.jsx)(e.code,{children:\"prisma/migrations\"}),\" \\u6587\\u4EF6\\u5939\\u4E0B\\u4FBF\\u4F1A\\u591A\\u4E00\\u4E2A SQL \\u6587\\u4EF6\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-sql\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-sql\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"-- AlterTable\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"ALTER\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"TABLE\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"Chapter\"'}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"ADD\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"COLUMN\"}),\"     \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"cover\"'}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"TEXT\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"NULL\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u5728\\u751F\\u4EA7\\u73AF\\u5883\\u4E2D\\uFF0C\\u53D8\\u52A8\\u6570\\u636E\\u5E93\\u7ED3\\u6784\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u5C06\\u8FD9\\u4E9B\\u751F\\u6210\\u7684 SQL \\u6587\\u4EF6\\u63D0\\u4EA4\\u5230 git \\u4E2D\\u3002\\u5728\\u4EE3\\u7801\\u90E8\\u7F72\\u524D\\u6267\\u884C\",(0,n.jsx)(e.code,{children:\"npx prisma migrate deploy\"}),\" \\u6765\\u5E94\\u7528\\u8FD9\\u4E9B SQL \\u7684\\u6539\\u52A8\\u3002\"]}),(0,n.jsxs)(e.h2,{id:\"\\u4E3A\\u6570\\u636E\\u5E93\\u64AD\\u79CD\\u6570\\u636E\",children:[(0,n.jsx)(e.a,{href:\"#\\u4E3A\\u6570\\u636E\\u5E93\\u64AD\\u79CD\\u6570\\u636E\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u4E3A\\u6570\\u636E\\u5E93\\u64AD\\u79CD\\u6570\\u636E\"]}),(0,n.jsx)(e.p,{children:\"\\u5230\\u76EE\\u524D\\u4E3A\\u6B62\\uFF0C\\u6570\\u636E\\u5E93\\u8FD8\\u662F\\u4E3A\\u7A7A\\u7684\\uFF0C\\u56E0\\u6B64\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u521B\\u5EFA\\u4E00\\u4E2A\\u79CD\\u5B50\\u811A\\u672C\\uFF0C\\u586B\\u5145\\u4E00\\u4E9B\\u521D\\u59CB\\u6570\\u636E\\u8FDB\\u5165\\u6570\\u636E\\u5E93\\uFF0C\\u6709\\u4E9B\\u521D\\u59CB\\u6570\\u636E\\u662F\\u7A0B\\u5E8F\\u5FC5\\u4E0D\\u53EF\\u5C11\\u7684\\uFF0C\\u6BD4\\u5982\\u8D27\\u5E01\\u8BED\\u8A00\\u4FE1\\u606F\\u7B49\\uFF0C\\u6709\\u65F6\\u5019\\u5F00\\u53D1\\u9700\\u8981\\u91CD\\u7F6E\\u6570\\u636E\\u5E93\\uFF0C\\u56E0\\u6B64\\u4E3A\\u6570\\u636E\\u5E93\\u64AD\\u79CD\\u4E5F\\u5F88\\u6709\\u5FC5\\u8981\\u3002\"}),(0,n.jsxs)(e.p,{children:[\"\\u9996\\u5148\\uFF0C\\u521B\\u5EFA\\u4E00\\u4E2A\\u540D\\u4E3A\",(0,n.jsx)(e.code,{children:\"prisma/seed.ts\"}),\"\\u3002 \\u7136\\u540E\\u7C98\\u8D34\\u4EE5\\u4E0B\\u6A21\\u677F\\u4EE3\\u7801\"]}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-ts\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" PrismaClient \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'@prisma/client'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u521D\\u59CB\\u5316 Prisma Client\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" prisma \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"PrismaClient\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"//\\u5728\\u6B64\\u7F16\\u5199 Prisma Client \\u67E5\\u8BE2\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"catch\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"e\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"error\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"e\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    process\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"exit\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"finally\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u5173\\u95ED Prisma Client\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" prisma\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"$disconnect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u4E3A\\u4E86\\u80FD\\u591F\\u8BA9 nodejs \\u8FD0\\u884C typescript\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u5B89\\u88C5\",(0,n.jsx)(e.code,{children:\"ts-node\"})]}),(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsx)(e.code,{className:\"code-highlight language-bash\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"yarn\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"add\"}),` ts-node --dev\n`]})})}),(0,n.jsxs)(e.p,{children:[\"\\u7136\\u540E\\u5728 \",(0,n.jsx)(e.code,{children:\"tsconfig.json\"}),\" \\u4E2D\\u6307\\u5B9A\\u8F93\\u51FA\\u683C\\u5F0F\\u4E3A \",(0,n.jsx)(e.code,{children:\"commonjs\"})]}),(0,n.jsx)(e.pre,{className:\"language-json\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-json\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"ts-node\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"compilerOptions\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"module\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"commonjs\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u63A5\\u4E0B\\u6765\\uFF0C\\u6211\\u4EEC\\u5728 \",(0,n.jsx)(e.code,{children:\"main\"}),\" \\u51FD\\u6570\\u4E2D\\u521B\\u5EFA\\u4E00\\u4E2A\\u7528\\u6237\"]}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-ts\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" user \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" prisma\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"user\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"create\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    data\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      name\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'\\u5C0F\\u9A6C'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      avatar\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'https://p3-passport.byteimg.com/img/user-avatar/585e1491713363bc8f67d06c485e8260~100x100.awebp'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"user\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u5728\\u8BE5\\u51FD\\u6570\\u4E2D\\uFF0C\\u6D89\\u53CA\\u6570\\u636E\\u6A21\\u578B\\uFF08\",(0,n.jsx)(e.code,{children:\"prisma.user\"}),\"\\uFF09\\u3001data(\",(0,n.jsx)(e.code,{children:\"name, avatar\"}),\") \\u53C2\\u6570\\u7B49\\uFF0C\\u6211\\u4EEC\\u90FD\\u53EF\\u4EE5\\u4F7F\\u7528\",(0,n.jsx)(e.code,{children:\"control + \\u7A7A\\u683C\\u952E\"}),\"\\u6765\\u4F53\\u9A8C typescript \\u5E26\\u6765\\u7684\\u667A\\u80FD\\u63D0\\u793A\\u3002\"]}),(0,n.jsx)(e.p,{children:\"\\u6267\\u884C\\u547D\\u4EE4\"}),(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsx)(e.code,{className:\"code-highlight language-bash\",children:(0,n.jsx)(e.span,{className:\"code-line\",children:`npx ts-node ./prisma/seed.ts\n`})})}),(0,n.jsx)(e.p,{children:\"\\u6267\\u884C\\u540E\\uFF0C\\u6211\\u4EEC\\u5C31\\u53EF\\u4EE5\\u5728\\u6570\\u636E\\u5E93\\u4E2D\\u770B\\u5230\\u8FD9\\u6761\\u6DFB\\u52A0\\u7684\\u6570\\u636E\\u3002\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\\u64AD\\u79CD\\u7684\\u7528\\u6237\\u6570\\u636E\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ca1360f70fcb4be08f4a03468caccd28~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsxs)(e.p,{children:[\"\\u89C6\\u9891\\u6570\\u636E\\u6211\\u627E\\u4E86\\u201C\\u8BD1\\u5B66\\u9986\\u201D\\u4E2D\\u7684\\u4E00\\u4E2A\",(0,n.jsx)(e.a,{href:\"https://api.yxgapp.com/courses/1087\",title:\"\\u8BD1\\u5B66\\u9986\",children:\"API\"}),\" \\u4F5C\\u4E3A\\u6211\\u7684\\u521D\\u59CB\\u6570\\u636E\\uFF0C\\u4FEE\\u6539 \",(0,n.jsx)(e.code,{children:\"main\"}),\" \\u51FD\\u6570\\u6765\\u586B\\u5145\\u89C6\\u9891\\u6570\\u636E\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-ts\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" example \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'./example.json'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" category \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" prisma\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"category\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"create\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    data\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      name\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'\\u6570\\u5B66'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" chapters \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" example\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"outlines\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"reduce\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"res\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" item\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    item\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"lectures\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"forEach\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"lecture\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      res\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"push\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        title\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" lecture\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"title \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"??\"}),\" lecture\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"en_title \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"??\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"''\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        cover\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" lecture\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"resource\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"cover_url\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        url\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" lecture\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"resource\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"content\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"url\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),` res\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"chapters\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" prisma\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"video\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"create\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    data\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      title\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" example\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"title\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      pic\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" example\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"cover_url\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      desc\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" example\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"brief\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      categoryId\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" category\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"id\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      authorId\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      chapter\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        createMany\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          data\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" chapters\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u518D\\u6B21\\u6267\\u884C \",(0,n.jsx)(e.code,{children:\"npx ts-node prisma/seed.ts\"}),\", \\u89C6\\u9891\\u6570\\u636E\\u5DF2\\u7ECF\\u6DFB\\u52A0\\u5230\\u4E86\\u6211\\u4EEC\\u7684\\u6570\\u636E\\u5E93\\u4E2D\\u3002\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\\u64AD\\u79CD\\u7684\\u89C6\\u9891\\u6570\\u636E\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6138ac7b77634e83a6cbc3f4e50ffdef~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsxs)(e.p,{children:[\"\\u5728 package.json \\u4E2D\\u6DFB\\u52A0 \",(0,n.jsx)(e.code,{children:\"prisma.seed\"}),\" \\u5B57\\u6BB5\"]}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"code-highlight language-diff-json\",children:[(0,n.jsx)(e.span,{className:\"code-line\",children:`{\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`+  \"prisma\": {\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`+    \"seed\": \"ts-node prisma/seed.ts\"\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`+  },\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`   \"devDependencies\": {\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`   }\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`}\n`})]})}),(0,n.jsxs)(e.p,{children:[\"\\u5728\\u5F00\\u53D1\\u4E2D\\u5982\\u518D\\u6B21\\u4FEE\\u6539\\u6570\\u636E\\u8868\\uFF0C\\u6267\\u884C \",(0,n.jsx)(e.code,{children:\"prisma migrate dev\"}),\" \\u7684\\u65F6\\u5019\\u4F1A\\u81EA\\u52A8\\u6267\\u884C \",(0,n.jsx)(e.code,{children:\"seed\"}),\"\\u64AD\\u79CD\\u6570\\u636E\\uFF0C\\u5173\\u4E8E\\u64AD\\u79CD\\u6570\\u636E\\u8BE6\\u60C5\\u8BF7\\u770B \",(0,n.jsx)(e.a,{href:\"https://www.prisma.io/docs/guides/database/seed-database\",title:\"prisma \\u6587\\u6863\",children:\"prisma \\u6587\\u6863\"})]}),(0,n.jsxs)(e.h2,{id:\"nextjs-\\u4E2D\\u5B9E\\u4F8B\\u5316-prismaclient\",children:[(0,n.jsx)(e.a,{href:\"#nextjs-\\u4E2D\\u5B9E\\u4F8B\\u5316-prismaclient\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Next.js \\u4E2D\\u5B9E\\u4F8B\\u5316 PrismaClient\"]}),(0,n.jsx)(e.p,{children:\"\\u63A5\\u4E0B\\u6765\\u6211\\u4EEC\\u9700\\u8981\\u5728 Next.js \\u4E2D\\u8C03\\u7528 Prisma \\u67E5\\u8BE2\\u8BED\\u8A00\\uFF0C\\u7528\\u4E8E\\u670D\\u52A1\\u7AEF\\u83B7\\u53D6\\u6570\\u636E\\u3002\"}),(0,n.jsxs)(e.p,{children:[\"\\u65B0\\u5EFA\\u4E00\\u4E2A \",(0,n.jsx)(e.code,{children:\"lib/prisma.ts\"})]}),(0,n.jsx)(e.p,{children:\"\\u8F93\\u5165\\u4EE5\\u4E0B\\u4EE3\\u7801\\uFF1A\"}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-ts\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" PrismaClient \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'@prisma/client'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" prisma\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),` PrismaClient\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"process\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"env\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"NODE_ENV\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"===\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'production'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  prisma \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"PrismaClient\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"else\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"global\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"prisma\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    global\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"prisma \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"PrismaClient\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  prisma \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" global\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),`prisma\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"default\"}),` prisma\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u4E0A\\u9762\\u4EE3\\u7801\\u662F\\u4E3A\\u4E86\\u9632\\u6B62\\uFF0C\\u5728\\u5F00\\u53D1\\u6A21\\u5F0F\\u4E0B\\uFF0C \",(0,n.jsx)(e.code,{children:\"PrismaClient\"}),\" \\u8017\\u5C3D\\u6570\\u636E\\u94FE\\u63A5\\u6570\\uFF0C\\u5C06\\u5B9E\\u4F8B\\u5316\\u7684 \",(0,n.jsx)(e.code,{children:\"PrismaClient\"}),\" \\u5BF9\\u8C61\\u5B58\\u5230\\u5168\\u5C40 \",(0,n.jsx)(e.code,{children:\"global\"}),\" \\u4E2D\\uFF0C \\u8BE6\\u60C5\\u53EF\\u4EE5\\u770B\\u5B98\\u7F51\",(0,n.jsx)(e.a,{href:\"https://www.prisma.io/docs/guides/database/troubleshooting-orm/help-articles/nextjs-prisma-client-dev-practices\",title:\"\\u6700\\u4F73\\u5B9E\\u8DF5\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\"}),\"\\u3002\"]}),(0,n.jsx)(e.p,{children:\"PrismaClient \\u5B9E\\u4F8B\\u5316\\u5B8C\\u6210\\uFF0C\\u5DF2\\u7ECF\\u8FEB\\u4E0D\\u53CA\\u5F85\\u8981\\u5728\\u9996\\u9875\\u6E32\\u67D3\\u6570\\u636E\\u4E86\\uFF0C \\u5148\\u5728\\u9996\\u9875\\u6253\\u5370\\u4E0B\\u670D\\u52A1\\u7AEF\\u83B7\\u53D6\\u7684\\u6570\\u636E\\uFF1A\"}),(0,n.jsx)(e.pre,{className:\"language-tsx\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-tsx\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token imports\",children:(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"React\"})}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'react'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"GetServerSideProps\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'next'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token imports\",children:\"prisma\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'../lib/prisma'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" makeSerializable \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'../lib/util'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Video\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"User\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'@prisma/client'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Props\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  data\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Video\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    author\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"User\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"Page\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" data \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Props\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"div\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"className\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"mx-auto max-w-5xl px-3\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"h1\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"\\u9996\\u9875\"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"h1\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"    \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"div\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" getServerSideProps\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"GetServerSideProps\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" data \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" prisma\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"video\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"findMany\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    include\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" author\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    props\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" data\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"makeSerializable\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u4F7F\\u7528 prisma Schema \\u751F\\u6210\\u6570\\u636E\\u6A21\\u578B\\u8FD8\\u6709\\u4E00\\u4E2A\\u4F18\\u52BF\\u5C31\\u662F\\uFF0C\\u51CF\\u5C11\\u5199 typescript \\u63A5\\u53E3\\u7684\\u70E6\\u607C\\uFF0C\\u51E1\\u662F\\u6570\\u636E\\u6A21\\u578B\\u548C\\u589E\\u5220\\u67E5\\u6539\\u76F8\\u5173\\u7684 \",(0,n.jsx)(e.code,{children:\"typescript interface\"}),\" \\u90FD\\u53EF\\u4EE5\\u76F4\\u63A5\\u4ECE \",(0,n.jsx)(e.code,{children:\"@prisma/client\"}),\"\\u4E2D\\u76F4\\u63A5\\u5F15\\u7528\\uFF1B\"]}),(0,n.jsxs)(e.p,{children:[\"Next.js \\u4E2D\\uFF0C\\u670D\\u52A1\\u7AEF\\u6E32\\u67D3\\u7684\\u6570\\u636E\\u5728 \",(0,n.jsx)(e.code,{children:\"getServerSideProps\"}),\" \\u51FD\\u6570\\u4E2D\\u83B7\\u53D6\\uFF0C\\u5982\\u679C\\u76F4\\u63A5\\u5C06\\u6570\\u636E\\u5E93\\u4E2D\\u7684\\u6570\\u636E\\u67E5\\u51FA\\u4F20\\u9012\\u7ED9 \",(0,n.jsx)(e.code,{children:\"props\"}),\"\\uFF0C\\u4F1A\\u5728\\u63A7\\u5236\\u53F0\\u4E2D\\u770B\\u5230\\u5982\\u4E0B\\u9519\\u8BEF:\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"Next.js \\u6E32\\u67D3\\u672A\\u5E8F\\u5217\\u5316\\u7684\\u6570\\u636E\\u62A5\\u9519\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2e08bca9f78d481d9319795072a6014a~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsxs)(e.p,{children:[\"\\u539F\\u56E0 Next.js \\u670D\\u52A1\\u7AEF\\u83B7\\u53D6\\u7684\\u6570\\u636E\\u90FD\\u662F\\u901A\\u8FC7 JSON \\u7684\\u5F62\\u5F0F\\u8F93\\u51FA\\u5728 window \\u5168\\u5C40\\u5BF9\\u8C61\\u4E0A\\u7684\\uFF0C\\u800C\\u662F \",(0,n.jsx)(e.code,{children:\"createAt\"}),\" \\u662F \",(0,n.jsx)(e.code,{children:\"Date\"}),\" \\u7C7B\\u578B\\uFF0C\\u662F\\u4E00\\u4E2A \",(0,n.jsx)(e.code,{children:\"Object\"}),\"\\u5BF9\\u8C61\\uFF0C\\u6240\\u4EE5\\u65E0\\u6CD5\\u88AB JSON \\u5E8F\\u5217\\u5316\\uFF0C\\u56E0\\u6B64\\u6211\\u4EEC\\u9700\\u8981\\u8BA9\\u6570\\u636E\\u53D8\\u5F97\\u53EF\\u5E8F\\u5217\\u5316\",(0,n.jsx)(e.code,{children:\"makeSerializable\"}),\"\\uFF0C\\u4EE3\\u7801\\u5982\\u4E0B\\uFF1A\"]}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-ts\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsxs)(e.span,{className:\"token generic-function\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"makeSerializable\"}),(0,n.jsxs)(e.span,{className:\"token class-name generic\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"T\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"extends\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"any\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"})]})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"o\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"T\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"T\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"JSON\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"parse\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"JSON\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"stringify\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"o\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\u5E8F\\u5217\\u5316\\u540E\\u7684\\u6570\\u636E\\uFF0C\\u4FBF\\u53EF\\u4EE5\\u5728\\u63A7\\u5236\\u53F0\\u4E2D\\u6253\\u5370\\uFF0C\\u7136\\u540E\\u5C31\\u53EF\\u4EE5\\u4F7F\\u7528 React \\u6109\\u5FEB\\u5730\\u6E32\\u67D3\\u6570\\u636E\\u4E86\\uFF0C\\u6211\\u4EEC\\u4F7F\\u7528 Tailwindcss \\u4E2D\\u7684 Grid \\u5E03\\u5C40\\uFF0C\\u5C06\\u9875\\u9762\\u5206\\u6210 2 \\u680F\\uFF0C\\u6700\\u7EC8\\u6548\\u679C\\u5982\\u4E0B\\uFF1A\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\\u89C6\\u9891\\u9996\\u9875\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/501a8384679546e18247b714b928759a~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsxs)(e.h2,{id:\"\\u8BE6\\u60C5\\u9875\\u9762\\u5B9E\\u73B0\",children:[(0,n.jsx)(e.a,{href:\"#\\u8BE6\\u60C5\\u9875\\u9762\\u5B9E\\u73B0\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u8BE6\\u60C5\\u9875\\u9762\\u5B9E\\u73B0\"]}),(0,n.jsxs)(e.p,{children:[\"\\u63A5\\u7740\\u6211\\u4EEC\\u4F7F\\u7528\\u540C\\u6837\\u7684\\u903B\\u8F91\\uFF0C\\u6765\\u5B9E\\u73B0\\u4E0B\\u8BE6\\u60C5\\u9875\\u9762\\u3002\\u65B0\\u5EFA\\u4E00\\u4E2A\",(0,n.jsx)(e.code,{children:\"./pages/video/[id].tsx\"}),\" \\u6587\\u4EF6\\u6309\\u9996\\u9875\\u7684\\u903B\\u8F91\\uFF0C\\u6211\\u4EEC\\u5199\\u4E0B\\u4E86\\u5982\\u4E0B\\u4EE3\\u7801\"]}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-ts\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" getServerSideProps\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"GetServerSideProps\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"context\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" data \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" prisma\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"video\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"findUnique\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    include\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      chapter\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      author\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    where\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      id\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"Number\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"context\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"params\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"id\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    props\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      data\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"makeSerializable\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u53EF\\u4EE5\\u901A\\u8FC7 \",(0,n.jsx)(e.code,{children:\"context.params.id\"}),\"\\u83B7\\u53D6 url \\u4E0A\\u7684 \",(0,n.jsx)(e.code,{children:\"videoId\"}),\"\\uFF0C\",(0,n.jsx)(e.code,{children:\"findUnique\"}),\"\\u65B9\\u6CD5\\u53EF\\u4EE5\\u67E5\\u8BE2\\u6570\\u636E\\u5E93\\u4E2D\\u7684\\u552F\\u4E00\\u8BB0\\u5F55\\u3002\\u6B64\\u65F6\\u8BBF\\u95EE \",(0,n.jsx)(e.code,{children:\"http://localhost:3000/video/1\"}),\"\\uFF0C\\u6211\\u4EEC\\u4FBF\\u53EF\\u4EE5\\u5728\\u63A7\\u5236\\u53F0\\u4E0A\\u6253\\u5370\\u51FA data \\u53C2\\u6570\\u3002\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\\u5168\\u90E8\\u89C6\\u9891\\u7AE0\\u8282\\u6570\\u636E\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/12d2db88086042ac92903a4918d836cf~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsx)(e.p,{children:\"\\u7531\\u4E8E\\u7AE0\\u8282\\u6570\\u91CF\\u592A\\u591A\\uFF0C\\u5728\\u4E00\\u4E2A\\u9875\\u9762\\u4E2D\\u4E00\\u6B21\\u6E32\\u67D3 210 \\u6761\\u6570\\u636E\\u662F\\u4E0D\\u5408\\u7406\\u7684\\uFF0C\\u6BD4\\u8F83\\u597D\\u7684\\u529E\\u6CD5\\u662F\\u5C06\\u201C\\u7AE0\\u8282\\u6570\\u636E\\u201D\\u901A\\u8FC7\\u63A5\\u53E3\\u6765\\u83B7\\u53D6\\uFF0C\\u5B9E\\u73B0\\u6EDA\\u52A8\\u7FFB\\u9875\\u3002\"}),(0,n.jsxs)(e.h3,{id:\"\\u7FFB\\u9875\\u63A5\\u53E3\",children:[(0,n.jsx)(e.a,{href:\"#\\u7FFB\\u9875\\u63A5\\u53E3\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7FFB\\u9875\\u63A5\\u53E3\"]}),(0,n.jsxs)(e.p,{children:[\"\\u65B0\\u5EFA\\u4E00\\u4E2A \",(0,n.jsx)(e.code,{children:\"./pages/api/chapter.ts\"}),\" \\u6587\\u4EF6\\uFF0C\\u7528\\u4E8E\\u83B7\\u53D6\\u89C6\\u9891\\u7AE0\\u8282\\u6570\\u636E\\u7684\\u63A5\\u53E3\\uFF0C\\u8F93\\u5165\\u4EE5\\u4E0B\\u63A5\\u53E3\\u4EE3\\u7801\"]}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-ts\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" prisma \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'@/lib/prisma'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" makeSerializable \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'@/lib/util'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" NextApiRequest\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" NextApiResponse \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'next'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"handler\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"req\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" NextApiRequest\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" res\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" NextApiResponse\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" videoId\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" cursor \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" req\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),`query\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"videoId\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    res\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"status\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"400\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"json\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" message\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'videoId is required'\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" data \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" prisma\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"chapter\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"findMany\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    cursor\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" cursor \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&&\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      id\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\"cursor\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    take\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"11\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    where\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      videoId\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\"videoId\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  res\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"status\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"200\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"json\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    data\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"makeSerializable\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"slice\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"10\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    nextCursor\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"10\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"?.\"}),\"id\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u4E0A\\u9762\\u4EE3\\u7801\\u4E2D\\uFF0C\\u6211\\u4EEC\\u4F7F\\u7528\",(0,n.jsx)(e.code,{children:\"take\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"cursor\"}),\"\\u6765\\u5B9E\\u73B0\\u7FFB\\u9875\\uFF0C\\u9ED8\\u8BA4\\u67E5\\u8BE2 11 \\u6761\\u6570\\u636E\\uFF0C\\u4F46\\u53EA\\u8FD4\\u56DE\\u524D 10 \\u6761\\u6570\\u636E\\uFF0C\\u5C06\\u6700\\u540E\\u4E00\\u6761\\u6570\\u636E\\u4F5C\\u4E3A\\u4E0B\\u6B21\\u67E5\\u8BE2\\u7684\\u6307\\u9488\\u3002\"]}),(0,n.jsxs)(e.p,{children:[\"\\u4FDD\\u5B58\\u4EE3\\u7801\\u540E\\uFF0C\\u8BBF\\u95EE\\u4E0B\\u63A5\\u53E3\\u5730\\u5740 \",(0,n.jsx)(e.a,{href:\"http://localhost:3000/api/chapter?videoId=1\",children:\"http://localhost:3000/api/chapter?videoId=1\"})]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\\u89C6\\u9891\\u7AE0\\u8282\\u7FFB\\u9875\\u63A5\\u53E3\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fb3bd6f0fc4d4bebbbcbd7d902ed221e~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsx)(e.p,{children:\"\\u6211\\u4EEC\\u53EF\\u4EE5\\u770B\\u5230\\u8FD4\\u56DE 10 \\u6761\\u6570\\u636E\\u548C\\u4E0B\\u4E00\\u4E2A\\u7AE0\\u8282\\u7684\\u6307\\u9488\\uFF0C\\u81F3\\u6B64\\u5206\\u9875\\u63A5\\u53E3\\u5B9E\\u73B0\\u5B8C\\u6210\\u3002\"}),(0,n.jsxs)(e.h3,{id:\"\\u6EDA\\u52A8\\u7FFB\\u9875\",children:[(0,n.jsx)(e.a,{href:\"#\\u6EDA\\u52A8\\u7FFB\\u9875\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u6EDA\\u52A8\\u7FFB\\u9875\"]}),(0,n.jsxs)(e.p,{children:[\"\\u8BE6\\u60C5\\u9875\\u5206\\u7C7B 2 \\u4E2A\\u90E8\\u5206\\uFF0C\\u89C6\\u9891\\u57FA\\u7840\\u4FE1\\u606F\\u662F\\u5728\\u670D\\u52A1\\u7AEF\\u6E32\\u67D3\\uFF0C\\u7AE0\\u8282\\u4FE1\\u606F\\u901A\\u8FC7\\u63A5\\u53E3\\u5728\\u5BA2\\u6237\\u7AEF\\u6E32\\u67D3\\uFF0C\\u4E3A\\u4E86\\u65B9\\u4FBF\\u5B9E\\u73B0\\u6EDA\\u52A8\\u7FFB\\u9875\\uFF0C\\u6211\\u4EEC\\u5B89\\u88C5\\u4E00\\u4E2A\\u5305 [swr](SWR: \",(0,n.jsx)(e.a,{href:\"https://swr.vercel.app/),%E5%85%A8%E7%A7%B0%E6%98%AF\",children:\"https://swr.vercel.app/),\\u5168\\u79F0\\u662F\"}),\" stale-while-revalidate\\uFF0C\\u4E5F\\u662F vercel \\u5F00\\u6E90\\u7684\\u4E00\\u4E2A\\u6570\\u636E\\u6D41\\u8BF7\\u6C42\\u5E93\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsx)(e.code,{className:\"code-highlight language-bash\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"yarn\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"add\"}),`  swr\n`]})})}),(0,n.jsxs)(e.p,{children:[\"\\u4FEE\\u6539 \",(0,n.jsx)(e.code,{children:\"./pages/video/[id].tsx\"}),\" \\u4E2D\\u7684\\u4EE3\\u7801\\u4E3A\\u4EE5\\u4E0B\\u4EE3\\u7801\"]}),(0,n.jsx)(e.pre,{className:\"language-tsx\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-tsx\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"React\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" useRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" useEffect \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'react'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"GetServerSideProps\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'next'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token imports\",children:(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Link\"})}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'next/link'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token imports\",children:(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Image\"})}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'next/image'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token imports\",children:\"prisma\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'@/lib/prisma'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" makeSerializable \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'@/lib/util'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Video\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"User\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Chapter\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'@prisma/client'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token imports\",children:\"useSWRInfinite\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'swr/infinite'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token imports\",children:\"useOnScreen\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'@/hooks/useOnScreen'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Props\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  video\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Video\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    author\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"User\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Result\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" data\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Chapter\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" nextCursor\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"number\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"getKey\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"pageIndex\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" previousPageData\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" videoId\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// reached the end\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"previousPageData \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&&\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"previousPageData\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"data\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"null\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u9996\\u9875\\uFF0C\\u6CA1\\u6709 `previousPageData`\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"pageIndex \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"===\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"/api/chapter?videoId=\"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"videoId\",(0,n.jsx)(e.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u5C06\\u6E38\\u6807\\u6DFB\\u52A0\\u5230 API\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"/api/chapter?cursor=\"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"previousPageData\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"nextCursor\",(0,n.jsx)(e.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token string\",children:\"&videoId=\"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"videoId\",(0,n.jsx)(e.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"fetcher\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"url\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"fetch\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"url\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"then\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"res\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" res\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"json\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"Page\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" video \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Props\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" ref\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"any\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(e.span,{className:\"token generic-function\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useRef\"}),(0,n.jsxs)(e.span,{className:\"token class-name generic\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"HTMLDivElement\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"})]})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" onScreen\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"boolean\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(e.span,{className:\"token generic-function\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useOnScreen\"}),(0,n.jsxs)(e.span,{className:\"token class-name generic\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"HTMLDivElement\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"})]})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"ref\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" error\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" size\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" setSize \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(e.span,{className:\"token generic-function\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useSWRInfinite\"}),(0,n.jsxs)(e.span,{className:\"token class-name generic\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"Result\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"})]})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator spread\",children:\"...\"}),\"args\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"getKey\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator spread\",children:\"...\"}),\"args\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" video\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"id\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    fetcher\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      revalidateFirstPage\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" hasNext \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" data \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&&\"}),\" data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"length\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"nextCursor\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" isLoadingInitialData \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"data \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&&\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),`error\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" isLoadingMore \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    isLoadingInitialData \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"||\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"size \",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&&\"}),\" data \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&&\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"typeof\"}),\" data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"size \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"===\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'undefined'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"onScreen \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&&\"}),\" hasNext\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token function\",children:\"setSize\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"size \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"onScreen\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" hasNext\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"div\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"className\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"mx-auto max-w-5xl px-3 pb-5\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"h1\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"className\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"my-4 text-center text-3xl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"video\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"title\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"h1\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"div\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"className\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"text-center\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"        \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Image\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"src\"}),(0,n.jsxs)(e.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(e.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"video\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"pic\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"width\"}),(0,n.jsxs)(e.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(e.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"320\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"height\"}),(0,n.jsxs)(e.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(e.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"180\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"alt\"}),(0,n.jsxs)(e.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(e.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"video\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"title\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/>\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"div\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"div\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"className\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"p-3\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"video\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"desc\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"div\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"h2\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"className\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"my-2 text-xl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"\\u7AE0\\u8282\\u89C6\\u9891\"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"h2\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"div\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"        \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"main\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"className\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"grid grid-cols-2 gap-4 md:grid-cols-4 md:gap-4\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"          \"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"data \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&&\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"map\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"pageData\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" index\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"              \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// `data` \\u662F\\u6BCF\\u4E2A\\u9875\\u9762 API \\u54CD\\u5E94\\u7684\\u6570\\u7EC4\\u3002\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"              \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" pageData\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"data\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"map\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"item\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"                \",(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"div\"]}),`\n`]})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"                  \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"className\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"flex flex-col justify-center p-2 ring-1 ring-gray-200\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"                  \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"key\"}),(0,n.jsxs)(e.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(e.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"item\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"id\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),`\n`]})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"                \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"                  \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Link\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"href\"}),(0,n.jsxs)(e.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(e.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"/video/chapter/\"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"item\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"id\",(0,n.jsx)(e.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"                    \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"a\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"className\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"mx-auto\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"                      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Image\"})]}),`\n`]})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"                        \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"className\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"aspect-video\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"                        \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"src\"}),(0,n.jsxs)(e.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(e.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"item\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"cover\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"                        \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"width\"}),(0,n.jsxs)(e.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(e.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"160\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"                        \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"height\"}),(0,n.jsxs)(e.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(e.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"90\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"                        \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"alt\"}),(0,n.jsxs)(e.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(e.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"item\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"title\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),`\n`]})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"                      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/>\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"                      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"div\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"className\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"mt-2 h-12 overflow-hidden text-ellipsis\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"item\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"title\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"div\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"                    \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"a\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"                  \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Link\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"                \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"div\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"              \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"        \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"main\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"        \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"div\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"className\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"p-3 text-center\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"ref\"}),(0,n.jsxs)(e.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(e.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"ref\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"          \"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"isLoadingMore \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'Loading...'\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" hasNext \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'\\u52A0\\u8F7D\\u66F4\\u591A'\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'\\u6CA1\\u6709\\u6570\\u636E\\u4E86'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"        \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"div\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"div\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"    \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"div\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" getServerSideProps\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"GetServerSideProps\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"context\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" video \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" prisma\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"video\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"findUnique\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    include\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      author\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    where\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      id\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name known-class-name\",children:\"Number\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"context\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"params\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"id\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    props\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      video\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"makeSerializable\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"video\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u8BE5\\u9875\\u9762\\u5305\\u542B 2 \\u90E8\\u5206\\u5185\\u5BB9\\uFF0C\\u89C6\\u9891\\u7684\\u57FA\\u7840\\u4FE1\\u606F\\u662F\\u5728\\u670D\\u52A1\\u7AEF\\u6E32\\u67D3\\u7684\\uFF0C\\u89C6\\u9891\\u7684\\u7AE0\\u8282\\u4FE1\\u606F\\u901A\\u8FC7\",(0,n.jsx)(e.code,{children:\"useSWRInfinite\"}),\"\\u65E0\\u9650\\u52A0\\u8F7D, \\u5F53\\u5E95\\u90E8\\u201C\\u52A0\\u66F4\\u591A\\u6570\\u636E\\u201D\\u5448\\u73B0\\u5728\\u9875\\u9762\\u4E2D\\u7684\\u65F6\\u5019\\u81EA\\u52A8\\u6267\\u884C\\u4E0B\\u4E00\\u9875\\uFF0C\\u6240\\u4EE5\\u4F7F\\u7528\\u5230\\u4E00\\u4E2A Hooks \",(0,n.jsx)(e.code,{children:\"useOnScreen\"}),\" \\u7528\\u4E8E\\u76D1\\u542C div \\u5143\\u7D20\\u6709\\u6CA1\\u6709\\u5728\\u9875\\u9762\\u4E0A\\u663E\\u793A\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-ts\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" useState\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" useEffect\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" MutableRefObject \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'react'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsxs)(e.span,{className:\"token generic-function\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useOnScreen\"}),(0,n.jsxs)(e.span,{className:\"token class-name generic\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"T\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"extends\"}),\" Element\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"})]})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  ref\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" MutableRefObject\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"T\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  rootMargin\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'0px'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"boolean\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u72B6\\u6001\\u662F\\u5426\\u53EF\\u89C1\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"isIntersecting\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" setIntersecting\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(e.span,{className:\"token generic-function\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useState\"}),(0,n.jsxs)(e.span,{className:\"token class-name generic\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"boolean\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"})]})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" observer \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"IntersectionObserver\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"entry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// observer \\u56DE\\u8C03\\u89E6\\u53D1\\u8DDF\\u65B0\\u72B6\\u6001\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"setIntersecting\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"entry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"isIntersecting\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        rootMargin\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"ref\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      observer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"observe\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"ref\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      ref\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&&\"}),\" observer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"unobserve\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"ref\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),` isIntersecting\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:'IntersectionObserver API\\uFF0C\\u53EF\\u4EE5\\u81EA\\u52A8\"\\u89C2\\u5BDF\"\\u5143\\u7D20\\u662F\\u5426\\u53EF\\u89C1\\uFF0CChrome 51+ \\u5DF2\\u7ECF\\u652F\\u6301\\u3002\\u7531\\u4E8E\\u53EF\\u89C1\\uFF08visible\\uFF09\\u7684\\u672C\\u8D28\\u662F\\uFF0C\\u76EE\\u6807\\u5143\\u7D20\\u4E0E\\u89C6\\u53E3\\u4EA7\\u751F\\u4E00\\u4E2A\\u4EA4\\u53C9\\u533A\\uFF0C\\u6240\\u4EE5\\u8FD9\\u4E2A API \\u53EB\\u505A\"\\u4EA4\\u53C9\\u89C2\\u5BDF\\u5668\"\\u3002'}),(0,n.jsx)(e.p,{children:\"\\u6700\\u7EC8\\u5B9E\\u73B0\\u6548\\u679C\\u5982\\u4E0B\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\\u89C6\\u9891\\u7AE0\\u8282\\u9875\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/453a02ef20cd45468698e2c0e4e719a9~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsxs)(e.p,{children:[\"\\u6700\\u540E\\u89C6\\u9891\\u8BE6\\u60C5\\u9875\\u7684\\u4EE3\\u7801\\u4E0E\\u524D\\u9762\\u90FD\\u5DEE\\u4E0D\\u591A\\uFF0C\\u8FD9\\u91CC\\u5C31\\u4E0D\\u8FC7\\u591A\\u8D58\\u8FF0\\u4E86\\uFF0C\\u611F\\u5174\\u8DA3\\u7684\\u5C0F\\u4F19\\u4F34\\u53EF\\u4EE5\\u76F4\\u63A5\\u770B \",(0,n.jsx)(e.a,{href:\"https://github.com/maqi1520/next-prisma-video-app\",children:\"GitHub \\u4ED3\\u5E93\"}),\" \\u4E2D\\u7684\\u4EE3\\u7801\\uFF0C\\u6211\\u76F8\\u4FE1\\u4F60\\u5DF2\\u7ECF\\u5B66\\u4F1A\\u4E86 prisma + Next.js \\u5168\\u6808\\u5F00\\u53D1\\u7684\\u4E3B\\u8981\\u6D41\\u7A0B\\u3002\"]}),(0,n.jsxs)(e.h2,{id:\"\\u5C0F\\u7ED3\",children:[(0,n.jsx)(e.a,{href:\"#\\u5C0F\\u7ED3\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u5C0F\\u7ED3\"]}),(0,n.jsx)(e.p,{children:\"\\u672C\\u6587\\u901A\\u8FC7\\u5B9E\\u73B0\\u4E00\\u4E2A\\u89C6\\u9891\\u7F51\\u7AD9\\u4E3A\\u4F8B\\uFF0C\\u4ECB\\u7ECD\\u4E86 prisma \\u8FD9\\u6B3E Node.js ORM \\u6846\\u67B6\\u5982\\u4F55\\u5728 Next.js \\u4E2D\\u4F7F\\u7528\\u3002\"}),(0,n.jsx)(e.p,{children:\"\\u6574\\u4F53\\u6D41\\u7A0B\\u662F\\uFF1A\"}),(0,n.jsxs)(e.ol,{children:[(0,n.jsx)(e.li,{children:\"\\u7F16\\u5199 prisma Schema \\u8BBE\\u8BA1\\u6570\\u636E\\u5E93\\uFF1B\"}),(0,n.jsx)(e.li,{children:\"\\u6267\\u884C prisma migrate \\u5B9E\\u73B0 Schema \\u5230\\u6570\\u636E\\u5E93\\u7684\\u8FC1\\u79FB\\uFF1B\"}),(0,n.jsx)(e.li,{children:\"\\u6267\\u884C prisma seed \\u586B\\u5145\\u6570\\u636E\\u5E93\\uFF1B\"}),(0,n.jsxs)(e.li,{children:[\"\\u5728 Next.js \\u7684 \",(0,n.jsx)(e.code,{children:\"getServerSideProps\"}),\" \\u4E2D\\u8C03\\u7528 prisma \\u67E5\\u8BE2\\u8BED\\u8A00\\uFF0C\\u5B9E\\u73B0\\u670D\\u52A1\\u7AEF\\u6E32\\u67D3\\uFF1B\"]})]}),(0,n.jsx)(e.p,{children:\"prisma \\u5BF9\\u4E8E Next.js \\u6765\\u8BF4\\uFF0C\\u53EF\\u8C13\\u662F\\u5982\\u864E\\u6DFB\\u7FFC\\uFF0C\\u6709\\u4E86\\u5B83\\u4EEC\\uFF0C\\u6211\\u4EEC\\u524D\\u7AEF\\u5DE5\\u7A0B\\u5E08\\u8F7B\\u677E\\u6B65\\u5165\\u4E86\\u5168\\u6808\\u5F00\\u53D1\\u3002\\u4F60\\u5B66\\u4F1A\\u4E86\\u5417\\uFF1F\\u82E5\\u5BF9\\u4F60\\u6709\\u5E2E\\u52A9\\uFF0C\\u8BB0\\u5F97\\u5E2E\\u6211\\u70B9\\u8D5E\\u3002\"}),(0,n.jsxs)(e.h2,{id:\"\\u540E\\u7EED\",children:[(0,n.jsx)(e.a,{href:\"#\\u540E\\u7EED\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u540E\\u7EED\"]}),(0,n.jsx)(e.p,{children:\"\\u5F53\\u7136\\u6211\\u4EEC\\u7684\\u89C6\\u9891\\u7F51\\u7AD9\\u76EE\\u524D\\u8FD8\\u77E5\\u8BC6\\u4E00\\u4E2A\\u96CF\\u5F62\\uFF0C\\u7528\\u6237\\u662F\\u624B\\u52A8\\u5F55\\u5165\\u6570\\u636E\\u5E93\\u7684\\uFF0C\\u8FD8\\u6709\\u767B\\u5F55\\u548C\\u6CE8\\u518C\\u673A\\u5236\\uFF0C\\u63A5\\u4E0B\\u6765\\u6211\\u5C06\\u7EE7\\u7EED\\u5206\\u4EAB Next.js \\u76F8\\u5173\\u7684\\u5B9E\\u6218\\u6587\\u7AE0\\uFF0C\\u6B22\\u8FCE\\u5404\\u4F4D\\u5173\\u6CE8\\u6211\\u7684\\u300ANext.js \\u5168\\u6808\\u5F00\\u53D1\\u5B9E\\u6218\\u300B \\u4E13\\u680F\\u3002\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"\\u4F7F\\u7528 next-auth \\u6765\\u5B9E\\u73B0 Next.js \\u5E94\\u7528\\u7684\\u9274\\u6743\\u4E0E\\u8BA4\\u8BC1\"}),(0,n.jsx)(e.li,{children:\"\\u4F7F\\u7528 React query \\u7ED9 Next.js \\u5E94\\u7528\\u5168\\u5C40\\u72B6\\u6001\\u7BA1\\u7406\"}),(0,n.jsx)(e.li,{children:\"\\u4F7F\\u7528 i18next \\u5B9E\\u73B0 Next.js \\u5E94\\u7528\\u56FD\\u9645\\u5316\"}),(0,n.jsx)(e.li,{children:\"\\u4F7F\\u7528 Playwright \\u8FDB\\u884C Next.js \\u5E94\\u7528\\u7684\\u7AEF\\u5230\\u7AEF\\u6D4B\\u8BD5\"}),(0,n.jsx)(e.li,{children:\"\\u4F7F\\u7528 Github actions \\u7ED9 Next.js \\u5E94\\u7528\\u521B\\u5EFA CI/CD\"}),(0,n.jsx)(e.li,{children:\"\\u4F7F\\u7528 Docker \\u90E8\\u7F72 Next.js \\u5E94\\u7528\"}),(0,n.jsx)(e.li,{children:\"\\u5C06 Next.js \\u5E94\\u7528\\u90E8\\u7F72\\u5230\\u817E\\u8BAF\\u4E91 serverless\"})]}),(0,n.jsx)(e.p,{children:\"\\u4F60\\u5BF9\\u54EA\\u5757\\u5185\\u5BB9\\u6BD4\\u8F83\\u611F\\u5174\\u8DA3\\u5462\\uFF1F\\u6B22\\u8FCE\\u5728\\u8BC4\\u8BBA\\u533A\\u7559\\u8A00\\uFF0C\\u611F\\u8C22\\u60A8\\u7684\\u9605\\u8BFB\\u3002\"})]})}}var x=w;return y(v);})();\n;return Component;","toc":[{"value":"前言","url":"#前言","depth":2},{"value":"阅读本文，你将收获：","url":"#阅读本文你将收获","depth":2},{"value":"初始化项目","url":"#初始化项目","depth":2},{"value":"开发环境","url":"#开发环境","depth":2},{"value":"安装 Docker","url":"#安装-docker","depth":3},{"value":"创建 PostgreSQL 实例","url":"#创建-postgresql-实例","depth":3},{"value":"需求分析","url":"#需求分析","depth":2},{"value":"数据实体关系图","url":"#数据实体关系图","depth":2},{"value":"初始化 Prisma","url":"#初始化-prisma","depth":2},{"value":"设置环境变量","url":"#设置环境变量","depth":3},{"value":"了解 Prisma schema","url":"#了解-prisma-schema","depth":3},{"value":"对数据建模","url":"#对数据建模","depth":2},{"value":"迁移数据库","url":"#迁移数据库","depth":2},{"value":"为数据库播种数据","url":"#为数据库播种数据","depth":2},{"value":"Next.js 中实例化 PrismaClient","url":"#nextjs-中实例化-prismaclient","depth":2},{"value":"详情页面实现","url":"#详情页面实现","depth":2},{"value":"翻页接口","url":"#翻页接口","depth":3},{"value":"滚动翻页","url":"#滚动翻页","depth":3},{"value":"小结","url":"#小结","depth":2},{"value":"后续","url":"#后续","depth":2}],"frontMatter":{"readingTime":{"text":"18 min read","minutes":17.61,"time":1056600,"words":3522},"slug":"使用 Next.js、 Prisma 和 PostgreSQL 全栈开发视频网站","fileName":"使用 Next.js、 Prisma 和 PostgreSQL 全栈开发视频网站.md","title":"使用 Next.js、 Prisma 和 PostgreSQL 全栈开发视频网站","date":"2022-10-11T15:57:14.000Z","lastmod":"2023/1/25 11:42:57","tags":["前端","React.js"],"draft":false,"summary":"本文将以实现一个视频网站为例，介绍 Next.js 和 Prisma 开发的全过程，prisma 对于 Next.js 来说，可谓是如虎添翼，有了它们，我们前端工程师轻松步入了全栈开发。","images":"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f670f626e68949df8f2a0479c8ac3833~tplv-k3u1fbpfcp-watermark.image?","authors":["default"],"layout":"PostLayout"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.19,"time":11400,"words":38},"slug":["default"],"fileName":"default.md","name":"随风","avatar":"/static/images/avatar.jpeg","occupation":"前端工程师","company":"分享 JavaScript 热门框架，记录前端工程师学习成长历程。","email":"tianping888@163.com","juejin":"https://juejin.cn","zhihu":"https://www.zhihu.com","github":"https://github.com/balac2015","date":null}],"prev":{"title":"使用 Notion 数据库进行 Next.js 应用全栈开发","date":"2022-09-27T15:49:28.000Z","lastmod":"2023/1/25 11:42:59","tags":["React.js","数据库"],"draft":false,"summary":"今天我就得带大家来白嫖一下 Notion 数据库，让我们的个人应用轻松上线，本文记录了利用 Next.js 和 Notion API 编写了一个前端刷题网站的全过程。","images":"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0e025d77556e4073989114847ff39959~tplv-k3u1fbpfcp-watermark.image?","authors":["default"],"layout":"PostLayout","slug":"使用 Notion 数据库进行 Next.js 应用全栈开发"},"next":{"title":"使用 NextAuth.js 给 Next.js 应用添加鉴权与认证","date":"2022-10-17T16:12:49.000Z","lastmod":"2023/1/25 11:42:55","tags":["React.js"],"draft":false,"summary":"在上一篇文章中，我们使用 prisma 和 Next.js，创建了一个视频网站，本文将继续开发视频网站，实现邮箱登录、 Github 授权登录，以及密码登录。","images":"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fca150f8a98e4692ba770f4523171bf5~tplv-k3u1fbpfcp-watermark.image?","authors":["default"],"layout":"PostLayout","slug":"使用 NextAuth.js 给 Next.js 应用添加鉴权与认证"}},"__N_SSG":true}