{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var p=Object.create;var t=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var o=a=>t(a,\"__esModule\",{value:!0});var k=(a,c)=>()=>(c||a((c={exports:{}}).exports,c),c.exports),g=(a,c)=>{for(var s in c)t(a,s,{get:c[s],enumerable:!0})},r=(a,c,s,n)=>{if(c&&typeof c==\"object\"||typeof c==\"function\")for(let l of m(c))!u.call(a,l)&&(s||l!==\"default\")&&t(a,l,{get:()=>c[l],enumerable:!(n=h(c,l))||n.enumerable});return a},f=(a,c)=>r(o(t(a!=null?p(N(a)):{},\"default\",!c&&a&&a.__esModule?{get:()=>a.default,enumerable:!0}:{value:a,enumerable:!0})),a),y=(a=>(c,s)=>a&&a.get(c)||(s=r(o({}),c,1),a&&a.set(c,s),s))(typeof WeakMap!=\"undefined\"?new WeakMap:0);var d=k((j,i)=>{i.exports=_jsx_runtime});var I={};g(I,{default:()=>w,frontmatter:()=>b});var e=f(d()),b={title:\"\\u5982\\u4F55\\u5347\\u7EA7\\u5230 React 18\\u53D1\\u5E03\\u5019\\u9009\\u7248 \",date:\"2022/3/15\",lastmod:\"2022/3/15\",tags:[\"\\u524D\\u7AEF\",\"React.js\"],draft:!1,summary:\"\\u4E0A\\u5468 react \\u5B98\\u7F51 \\u53D1\\u5E03\\u4E86react@rc \\u7248\\u672C\\uFF0C\\u8BE5\\u7248\\u672C\\u662F\\u5019\\u9009\\u7248\\u672C(Release Candidate)\\uFF0C\\u8FD9\\u610F\\u5473API\\u5DF2\\u7ECF\\u57FA\\u672C\\u7A33\\u5B9A\\uFF0C\\u8DDF\\u6700\\u7EC8\\u7248\\u672C\\u4E0D\\u4F1A\\u6709\\u592A\\u5927\\u5DEE\\u522B\\uFF0C\\u5B98\\u7F51\\u4E5F\\u53D1\\u5E03\\u535A\\u5BA2\\u300A\\u5982\\u4F55\\u5347\\u7EA7\\u5230 react18 RC \\u7248\\u672C\\u300B\\uFF0C\\u9F13\\u52B1\\u5927\\u5BB6\\u5C1D\\u8BD5\\u5347\\u7EA7\\uFF0C\\u6240\\u4EE5\\u6211\\u4EEC\\u53EF\\u4EE5\\u5728\\u9879\\u76EE\\u7EC4\\u4E2D\\u4F7F\\u7528\\u4E86\\uFF01\\u4E0B\\u9762\\u5185\\u5BB9\\u6765\\u81EA\\u662F\\u5B98\\u65B9\\u6587\\u6863\\u7684\\u7FFB\\u8BD1\\u3002\",images:[\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e5ca9595ccd1479f86d71903184a4d0b~tplv-k3u1fbpfcp-watermark.image?\"],authors:[\"default\"],layout:\"PostLayout\"};function R(a={}){let{wrapper:c}=a.components||{};return c?(0,e.jsx)(c,Object.assign({},a,{children:(0,e.jsx)(s,{})})):s();function s(){let n=Object.assign({p:\"p\",a:\"a\",hr:\"hr\",em:\"em\",h2:\"h2\",span:\"span\",code:\"code\",pre:\"pre\",h3:\"h3\",blockquote:\"blockquote\",ul:\"ul\",li:\"li\",strong:\"strong\"},a.components),{TOCInline:l}=n;return l||A(\"TOCInline\",!0),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(l,{toc:a.toc,toHeading:2}),(0,e.jsxs)(n.p,{children:[\"\\u4E0A\\u5468 react \\u5B98\\u7F51 \\u53D1\\u5E03\\u4E86 react@rc \\u7248\\u672C\\uFF0C\\u8BE5\\u7248\\u672C\\u662F\\u5019\\u9009\\u7248\\u672C(Release Candidate)\\uFF0C\\u8FD9\\u610F\\u5473 API \\u5DF2\\u7ECF\\u57FA\\u672C\\u7A33\\u5B9A\\uFF0C\\u8DDF\\u6700\\u7EC8\\u7248\\u672C\\u4E0D\\u4F1A\\u6709\\u592A\\u5927\\u5DEE\\u522B\\uFF0C\\u5B98\\u7F51\\u4E5F\\u53D1\\u5E03\\u535A\\u5BA2\",(0,e.jsx)(n.a,{href:\"https://reactjs.org/blog/2022/03/08/react-18-upgrade-guide.html\",children:\"\\u300A\\u5982\\u4F55\\u5347\\u7EA7\\u5230 react18 RC \\u7248\\u672C\\u300B\"}),\"\\uFF0C\\u9F13\\u52B1\\u5927\\u5BB6\\u5C1D\\u8BD5\\u5347\\u7EA7\\uFF0C\\u6240\\u4EE5\\u6211\\u4EEC\\u53EF\\u4EE5\\u5728\\u9879\\u76EE\\u7EC4\\u4E2D\\u4F7F\\u7528\\u4E86\\uFF01\\u4E0B\\u9762\\u5185\\u5BB9\\u6765\\u81EA\\u662F\\u5B98\\u65B9\\u6587\\u6863\\u7684\\u7FFB\\u8BD1\\u3002\"]}),(0,e.jsx)(n.p,{children:\"\\u6B63\\u6587\\u5F00\\u59CB\"}),(0,e.jsx)(n.hr,{}),(0,e.jsx)(n.p,{children:\"\\u5982\\u679C\\u60A8\\u60F3\\u5E2E\\u52A9\\u6211\\u4EEC\\u6D4B\\u8BD5 React 18\\uFF0C\\u8BF7\\u6309\\u7167\\u672C\\u5347\\u7EA7\\u6307\\u5357\\u4E2D\\u7684\\u6B65\\u9AA4\\u5E76\\u62A5\\u544A\\u60A8\\u9047\\u5230\\u7684\\u4EFB\\u4F55\\u95EE\\u9898\\uFF0C\\u4EE5\\u4FBF\\u6211\\u4EEC\\u80FD\\u591F\\u5728\\u7A33\\u5B9A\\u7248\\u53D1\\u5E03\\u4E4B\\u524D\\u4FEE\\u590D\\u8FD9\\u4E9B\\u95EE\\u9898\\u3002\"}),(0,e.jsxs)(n.p,{children:[\"\\u6CE8\\u610F: React Native \\u7528\\u6237: React 18 \\u5C06\\u53D1\\u5E03\\u5728 React Native with the New React Native Architecture\\u3002\\u66F4\\u591A\\u4FE1\\u606F\\uFF0C\\u8BF7\\u53C2\\u89C1 \",(0,e.jsxs)(n.em,{children:[(0,e.jsx)(n.a,{href:\"https://www.youtube.com/watch?v=FZ0cG47msEk&t=1530s\",children:\"React Conf keynote here\"}),\".\"]})]}),(0,e.jsxs)(n.h2,{id:\"\\u5B89\\u88C5\",children:[(0,e.jsx)(n.a,{href:\"#\\u5B89\\u88C5\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5B89\\u88C5\"]}),(0,e.jsxs)(n.p,{children:[\"\\u5B89\\u88C5\\u6700\\u65B0\\u7684 \",(0,e.jsx)(n.code,{children:\"React 18 RC\"}),\" \\u7248\\u672C\\u4F7F\\u7528@rc \\u8FD9\\u4E2A tag\"]}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsx)(n.code,{className:\"code-highlight language-bash\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"npm\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"install\"}),` react@rc react-dom@rc\n`]})})}),(0,e.jsx)(n.p,{children:\"\\u6216\\u662F\\u4F7F\\u7528 yarn\"}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsx)(n.code,{className:\"code-highlight language-bash\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"yarn\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"add\"}),` react@rc react-dom@rc\n`]})})}),(0,e.jsxs)(n.h2,{id:\"\\u5BA2\\u6237\\u7AEF\\u6E32\\u67D3-api-\\u7684\\u66F4\\u65B0\",children:[(0,e.jsx)(n.a,{href:\"#\\u5BA2\\u6237\\u7AEF\\u6E32\\u67D3-api-\\u7684\\u66F4\\u65B0\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5BA2\\u6237\\u7AEF\\u6E32\\u67D3 API \\u7684\\u66F4\\u65B0\"]}),(0,e.jsxs)(n.h3,{id:\"1-\\u66FF\\u6362-render-\\u51FD\\u6570\\u4E3A-createroot\",children:[(0,e.jsx)(n.a,{href:\"#1-\\u66FF\\u6362-render-\\u51FD\\u6570\\u4E3A-createroot\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"1. \\u66FF\\u6362 render \\u51FD\\u6570\\u4E3A createRoot\"]}),(0,e.jsxs)(n.p,{children:[\"\\u5982\\u679C\\u4F60\\u662F\\u7B2C\\u4E00\\u6B21\\u5B89\\u88C5 \",(0,e.jsx)(n.code,{children:\"React 18\"}),\" \\uFF0C\\u4F1A\\u5728\\u63A7\\u5236\\u53F0\\u770B\\u5230\\u5982\\u4E0B\\u4E00\\u4E2A\\u8B66\\u544A\\uFF1A\"]}),(0,e.jsx)(n.blockquote,{children:(0,e.jsxs)(n.p,{children:[\"Use createRoot instead. Until you switch to the new API, your app will behave as if it\\u2019s running React 17. Learn more: \",(0,e.jsx)(n.a,{href:\"https://reactjs.org/link/switch-to-createroot\",children:\"https://reactjs.org/link/switch-to-createroot\"})]})}),(0,e.jsxs)(n.p,{children:[\"\\u8FD9\\u662F\\u56E0\\u4E3A\\u7528\\u4E86 \",(0,e.jsx)(n.code,{children:\"ReactDOM.render\"}),\" \\u8C03\\u7528\\u7684\\u73B0\\u6709 API\\u3002\\u8FD9\\u5C06\\u521B\\u5EFA\\u4E00\\u4E2A\\u5728\\u201C\\u9057\\u7559\\u201D\\u6A21\\u5F0F\\u4E0B\\u8FD0\\u884C\\u7684 root\\uFF0C\\u5176\\u5DE5\\u4F5C\\u539F\\u7406\\u4E0E React 17 \\u5B8C\\u5168\\u76F8\\u540C\\u3002\\u5728\\u53D1\\u5E03\\u4E4B\\u524D\\uFF0CReact \\u7ED9\\u8FD9\\u4E2A API \\u6DFB\\u52A0\\u4E00\\u4E2A\\u8B66\\u544A\\uFF0C\\u6307\\u793A\\u5B83\\u5DF2\\u88AB\\u5F03\\u7528\\uFF0C\\u5E76\\u5207\\u6362\\u5230\\u65B0\\u7684 \",(0,e.jsx)(n.code,{children:\"Root API\"}),\"\\u3002\"]}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.code,{children:\"React 18\"}),\" \\u4E2D\\u5F15\\u5165\\u4E86\\u4E00\\u4E2A\\u65B0\\u7684 \",(0,e.jsx)(n.code,{children:\"Root API\"}),\"\\uFF0C\\u5B83\\u652F\\u6301\\u4E86\\u5E76\\u53D1\\u6E32\\u67D3\\u7684\\u80FD\\u529B(concurrent renderer) \\uFF0C\\u4F60\\u53EF\\u4EE5\\u81EA\\u5DF1\\u51B3\\u5B9A\\u662F\\u5426\\u542F\\u7528\\u5E76\\u53D1\\u6E32\\u67D3\\u7684\\u80FD\\u529B\\u3002\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u4EE5\\u524D\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsxs)(n.span,{className:\"token imports\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" render \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'react-dom'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" container \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token dom variable\",children:\"document\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"getElementById\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'app'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"render\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"App\"}),\" tab\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"home\"'}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" container\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u73B0\\u5728\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsxs)(n.span,{className:\"token imports\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" createRoot \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'react-dom/client'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" container \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token dom variable\",children:\"document\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"getElementById\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'app'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" root \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"createRoot\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"container\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u521D\\u59CB\\u6E32\\u67D3\\u5C06\\u8282\\u70B9\\u6E32\\u67D3\\u5230\\u8DDF\\u8282\\u70B9\\u4E0A\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"root\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"render\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"App\"}),\" tab\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"home\"'}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u4E4B\\u540E\\u66F4\\u65B0\\uFF0C\\u5C31\\u6CA1\\u5FC5\\u8981\\u4F20\\u9012dom \\u8282\\u70B9\\u4E86\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"root\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"render\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"App\"}),\" tab\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"profile\"'}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"React \\u66F4\\u6539\\u8FD9\\u4E2A API \\u6709\\u4EE5\\u4E0B\\u51E0\\u4E2A\\u539F\\u56E0\\u3002\"}),(0,e.jsxs)(n.p,{children:[\"\\u9996\\u5148\\uFF0C\\u8FD9\\u4FEE\\u590D\\u4E86 API \\u5728\\u8FD0\\u884C\\u66F4\\u65B0\\u65F6\\u7684\\u4E00\\u4E9B\\u5DE5\\u7A0B\\u5B66\\u95EE\\u9898\\u3002\\u5982\\u4E0A\\u6240\\u793A\\uFF0C\\u5728 Legacy API \\u4E2D\\uFF0C\\u4F60\\u9700\\u8981\\u591A\\u6B21\\u5C06\\u5BB9\\u5668\\u5143\\u7D20\\u4F20\\u9012\\u7ED9 \",(0,e.jsx)(n.code,{children:\"render\"}),\"\\uFF0C\\u5373\\u4F7F\\u5B83\\u4ECE\\u672A\\u66F4\\u6539\\u8FC7\\u3002\\u8FD9\\u4E5F\\u610F\\u5473\\u7740\\u6211\\u4EEC\\u4E0D\\u9700\\u8981\\u5C06\\u6839\\u5143\\u7D20\\u5B58\\u50A8\\u5728 DOM \\u8282\\u70B9\\u4E0A\\uFF0C\\u5C3D\\u7BA1\\u6211\\u4EEC\\u4ECA\\u5929\\u4ECD\\u7136\\u8FD9\\u6837\\u505A\\u3002\"]}),(0,e.jsxs)(n.p,{children:[\"\\u5176\\u6B21\\uFF0C\\u8FD9\\u4E00\\u53D8\\u5316\\u5141\\u8BB8\\u8BA9\\u6211\\u4EEC\\u53EF\\u4EE5\\u79FB\\u9664 \",(0,e.jsx)(n.code,{children:\"hydrate\"}),\" \\u65B9\\u6CD5\\u5E76\\u66FF\\u6362\\u4E3A root \\u4E0A\\u7684\\u4E00\\u4E2A\\u9009\\u9879\\uFF1B\\u5220\\u9664\\u6E32\\u67D3\\u56DE\\u8C03\\uFF0C\\u8FD9\\u4E9B\\u56DE\\u8C03\\u5728\\u90E8\\u5206 hydration \\u4E2D\\u662F\\u6CA1\\u6709\\u610F\\u4E49\\u7684\\u3002\"]}),(0,e.jsxs)(n.p,{children:[\"\\u9500\\u6BC1 dom \\u7684 api \\u4E5F\\u4FEE\\u6539\\u4E86\\uFF0C\",(0,e.jsx)(n.code,{children:\"unmountComponentAtNode\"}),\" \\u4E5F\\u6539\\u4E3A\\u4E86 \",(0,e.jsx)(n.code,{children:\"root.unmount\"}),\"\\uFF1A\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u4EE5\\u524D\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"unmountComponentAtNode\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"container\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u73B0\\u5728\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"root\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"unmount\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\u4E0E\\u6B64\\u540C\\u65F6\\uFF0C \",(0,e.jsx)(n.code,{children:\"render\"}),\" \\u51FD\\u6570\\u7684\\u56DE\\u8C03\\u51FD\\u6570\\u4E5F\\u6CA1\\u6709\\u4E86\\uFF0C\\u56E0\\u4E3A\\u901A\\u5E38\\u5728\\u4F7F\\u7528\\u4E86 \",(0,e.jsx)(n.code,{children:\"Suspense\"}),\" api \\u540E\\u6CA1\\u6709\\u8FBE\\u5230\\u9884\\u671F\\u7684\\u6548\\u679C\\uFF1A\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u4EE5\\u524D\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" container \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token dom variable\",children:\"document\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"getElementById\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'app'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ReactDOM\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"render\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"App\"}),\" tab\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"Home\"'}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" container\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token class-name console\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'rendered'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u73B0\\u5728\\u9700\\u8981 \\u91CD\\u65B0\\u5B9A\\u4E49\\u4E00\\u4E2A \\u51FD\\u6570 \\u901A\\u8FC7 useEffect \\u6765\\u56DE\\u8C03\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"AppWithCallbackAfterRender\"})}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token function\",children:\"useEffect\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token class-name console\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'rendered'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"App\"}),\" tab\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"Home\"'}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" container \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token dom variable\",children:\"document\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"getElementById\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'app'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" root \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ReactDOM\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"createRoot\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"container\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"root\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"render\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"AppWithCallbackAfterRender\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"hydrate-\\u5347\\u7EA7\\u5230-hydrateroot\",children:[(0,e.jsx)(n.a,{href:\"#hydrate-\\u5347\\u7EA7\\u5230-hydrateroot\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"hydrate \\u5347\\u7EA7\\u5230 hydrateRoot\"]}),(0,e.jsx)(n.blockquote,{children:(0,e.jsx)(n.p,{children:\"hydrate \\u662F ReactDOM \\u590D\\u7528 ReactDOMServer \\u670D\\u52A1\\u7AEF\\u6E32\\u67D3\\u7684\\u5185\\u5BB9\\u65F6\\u5C3D\\u53EF\\u80FD\\u4FDD\\u7559\\u7ED3\\u6784\\uFF0C\\u5E76\\u8865\\u5145\\u4E8B\\u4EF6\\u7ED1\\u5B9A\\u7B49 Client \\u7279\\u6709\\u5185\\u5BB9\\u7684\\u8FC7\\u7A0B\\u3002\"})}),(0,e.jsxs)(n.p,{children:[\"\\u5C06\\u628A \",(0,e.jsx)(n.code,{children:\"hydrate\"}),\" \\u51FD\\u6570\\u79FB\\u5230\\u4E86 \",(0,e.jsx)(n.code,{children:\"hydrateRoot\"}),\" API \\u4E0A\\u3002\"]}),(0,e.jsx)(n.p,{children:\"\\u4EE5\\u524D\\uFF1A\"}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsxs)(n.span,{className:\"token imports\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"as\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ReactDOM\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'react-dom'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsx)(n.span,{className:\"token imports\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"App\"})}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'App'\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" container \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token dom variable\",children:\"document\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"getElementById\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'app'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// Render with hydration.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ReactDOM\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"hydrate\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"App\"}),\" tab\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"home\"'}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" container\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\u73B0\\u5728\\uFF1A\"}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsxs)(n.span,{className:\"token imports\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"as\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ReactDOM\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'react-dom'\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsx)(n.span,{className:\"token imports\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"App\"})}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'App'\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" container \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token dom variable\",children:\"document\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"getElementById\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'app'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// Create *and* render a root with hydration.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" root \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ReactDOM\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"hydrateRoot\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"container\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"App\"}),\" tab\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"home\"'}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u4E0EcreateRoot\\u4E0D\\u540C\\uFF0C\\u8FD9\\u91CC\\u4E0D\\u9700\\u8981\\u5355\\u72EC\\u7684 root.ender()\\u8C03\\u7528\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\u6CE8\\u610F\\uFF0C\\u4E0E createRoot \\u4E0D\\u540C\\uFF0ChydrateRoot \\u63A5\\u53D7\\u539F\\u751F JSX \\u4F5C\\u4E3A\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\\u3002\\u8FD9\\u662F\\u56E0\\u4E3A\\u521D\\u59CB\\u5BA2\\u6237\\u7AEF\\u6E32\\u67D3\\u662F\\u7279\\u6B8A\\u7684\\uFF0C\\u9700\\u8981\\u4E0E\\u670D\\u52A1\\u5668\\u6811\\u5339\\u914D\\u3002\"}),(0,e.jsx)(n.p,{children:\"\\u5982\\u679C\\u4F60\\u60F3\\u5728 hydration \\u540E\\u518D\\u6B21\\u66F4\\u65B0 root\\uFF0C\\u4F60\\u53EF\\u4EE5\\u5C06\\u5B83\\u4FDD\\u5B58\\u5230\\u4E00\\u4E2A\\u53D8\\u91CF\\u4E2D\\uFF0C\\u5C31\\u50CF\\u4F7F\\u7528 createRoot \\u4E00\\u6837\\uFF0C\\u7136\\u540E\\u8C03\\u7528 root.render()\\uFF1A\"}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsxs)(n.span,{className:\"token imports\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"as\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ReactDOM\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'react-dom'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsx)(n.span,{className:\"token imports\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"App\"})}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'App'\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" container \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token dom variable\",children:\"document\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"getElementById\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'app'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// Create *and* render a root with hydration.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" root \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ReactDOM\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"hydrateRoot\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"container\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"App\"}),\" tab\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"home\"'}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// You can later update it.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"root\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"render\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"App\"}),\" tab\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"profile\"'}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsxs)(n.h2,{id:\"\\u670D\\u52A1\\u7AEF\\u6E32\\u67D3-api-\\u7684\\u66F4\\u65B0\",children:[(0,e.jsx)(n.a,{href:\"#\\u670D\\u52A1\\u7AEF\\u6E32\\u67D3-api-\\u7684\\u66F4\\u65B0\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u670D\\u52A1\\u7AEF\\u6E32\\u67D3 API \\u7684\\u66F4\\u65B0\"]}),(0,e.jsxs)(n.p,{children:[\"\\u5728\\u8FD9\\u4E2A\\u7248\\u672C\\u4E2D\\uFF0C\",(0,e.jsx)(n.code,{children:\"React\"}),\" \\u4E3A\\u4E86\\u5B8C\\u5168\\u652F\\u6301\\u670D\\u52A1\\u7AEF\\u7684 \",(0,e.jsx)(n.code,{children:\"Suspense\"}),\" \\u548C\\u6D41\\u5F0F SSR\\uFF0C\\u6539\\u8FDB\\u4E86 \",(0,e.jsx)(n.code,{children:\"react-dom/server\"}),\" \\u7684 \",(0,e.jsx)(n.code,{children:\"API\"}),\"\\uFF0C\\u4E0D\\u652F\\u6301 Suspense \\u7684 \",(0,e.jsx)(n.code,{children:\"Node.js\"}),\" \\u6D41\\u5F0F \",(0,e.jsx)(n.code,{children:\"API\"}),\" \\u5C06\\u4F1A\\u88AB\\u5B8C\\u5168\\u5F03\\u7528\\uFF1A\"]}),(0,e.jsxs)(n.ul,{children:[(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"renderToNodeStream\"}),\" \\u5F03\\u7528 \\u26D4\\uFE0F\\uFE0F\"]}),(0,e.jsxs)(n.li,{children:[\"\\u76F8\\u53CD\\uFF0C\\u5BF9\\u4E8E Node \\u73AF\\u5883\\u4E2D\\u7684\\u6D41\\u5A92\\u4F53\\uFF0C\\u4F7F\\u7528:\",(0,e.jsx)(n.code,{children:\"renderToPipeableStream\"}),\"\\u3002\"]})]}),(0,e.jsxs)(n.p,{children:[\"\\u8FD8\\u5F15\\u5165\\u4E86\\u4E00\\u4E2A\\u65B0\\u7684 API \",(0,e.jsx)(n.code,{children:\"renderToReadableStream\"}),\"\\uFF0C\\u7528\\u4E8E\\u652F\\u6301\\u6D41\\u5F0F SSR \\u548C Suspense\\uFF0C\\u5E76\\u4E3A\\u73B0\\u4EE3\\u8FB9\\u7F18\\u8FD0\\u884C\\u73AF\\u5883\\u63D0\\u4F9B\\u652F\\u6301\\uFF0C\\u6BD4\\u5982 Deno \\u548C Cloudflare workers:\"]}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.code,{children:\"renderToString\\u3001renderToStaticMarkup\"}),\" \\u8FD9\\u4E24\\u4E2A API \\u8FD8\\u53EF\\u4EE5\\u7EE7\\u7EED\\u7528\\uFF0C\\u4F46\\u662F\\u5BF9 \",(0,e.jsx)(n.code,{children:\"Suspense\"}),\" \\u652F\\u6301\\u5C31\\u4E0D\\u90A3\\u4E48\\u53CB\\u597D\\u4E86\\u3002\"]}),(0,e.jsxs)(n.p,{children:[\"\\u6700\\u540E\\uFF0C\",(0,e.jsx)(n.code,{children:\"renderToStaticNodeStream\"}),\"\\u8FD9\\u4E2A API \\u5C06\\u7EE7\\u7EED\\u4F7F\\u7528\\uFF0C\\u62E5\\u4E8E\\u6E32\\u67D3\\u7535\\u5B50\\u90AE\\u4EF6\"]}),(0,e.jsx)(n.blockquote,{children:(0,e.jsxs)(n.p,{children:[\"\\u60F3\\u4E86\\u89E3\\u66F4\\u591A\\uFF0C\\u53EF\\u4EE5\\u770B \",(0,e.jsx)(n.a,{href:\"https://github.com/reactwg/react-18/discussions/5\",children:\"working group discussion here\"}),\".\"]})}),(0,e.jsxs)(n.h2,{id:\"\\u81EA\\u52A8\\u6279\\u5904\\u7406-automatic-batching\",children:[(0,e.jsx)(n.a,{href:\"#\\u81EA\\u52A8\\u6279\\u5904\\u7406-automatic-batching\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u81EA\\u52A8\\u6279\\u5904\\u7406 (Automatic Batching)\"]}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.code,{children:\"React\"}),\" \\u4E2D\\u7684\\u6279\\u5904\\u7406\\u7B80\\u5355\\u6765\\u8BF4\\u5C31\\u662F\\u5C06\\u591A\\u4E2A\\u72B6\\u6001\\u66F4\\u65B0\\u5408\\u5E76\\u4E3A\\u4E00\\u6B21\\u91CD\\u65B0\\u6E32\\u67D3\\uFF0C\\u7531\\u4E8E\\u8BBE\\u8BA1\\u95EE\\u9898\\uFF0C\\u5728 \",(0,e.jsx)(n.code,{children:\"React 18\"}),\" \\u4E4B\\u524D\\uFF0C\",(0,e.jsx)(n.code,{children:\"React\"}),\" \\u53EA\\u80FD\\u5728\\u7EC4\\u4EF6\\u7684\\u751F\\u547D\\u5468\\u671F\\u51FD\\u6570\\u6216\\u8005\\u5408\\u6210\\u4E8B\\u4EF6\\u51FD\\u6570\\u4E2D\\u8FDB\\u884C\\u6279\\u5904\\u7406\\u3002\\u9ED8\\u8BA4\\u60C5\\u51B5\\u4E0B\\uFF0C\",(0,e.jsx)(n.code,{children:\"Promise\\u3001setTimeout\"}),\" \\u4EE5\\u53CA\\u5176\\u4ED6\\u5F02\\u6B65\\u56DE\\u8C03\\u662F\\u65E0\\u6CD5\\u4EAB\\u53D7\\u6279\\u5904\\u7406\\u7684\\u4F18\\u5316\\u7684\\u3002\"]}),(0,e.jsx)(n.p,{children:\"\\u6279\\u5904\\u7406\\u662F\\u6307 React \\u5C06\\u591A\\u4E2A\\u72B6\\u6001\\u66F4\\u65B0\\u5408\\u5E76\\u5230\\u4E00\\u4E2A\\u91CD\\u65B0\\u6E32\\u67D3\\u4E2D\\uFF0C\\u4EE5\\u6B64\\u6765\\u83B7\\u5F97\\u66F4\\u597D\\u7684\\u6027\\u80FD\\u3002\\u5728 React 18 \\u4E4B\\u524D\\uFF0Creact \\u4F1A\\u5C06\\u4E00\\u4E2A\\u4E8B\\u4EF6\\u4E2D\\u7684\\u591A\\u4E2A setState \\u5408\\u5E76\\u4E3A\\u4E00\\u4E2A\\uFF0C\\u5728 promises\\u3001 setTimeout\\u3001\\u548C\\u5176\\u4ED6\\u5F02\\u6B65\\u4E8B\\u4EF6\\u7684\\u66F4\\u65B0\\u6CA1\\u6709\\u5408\\u5E76\\u3002\"}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// React 18 \\u4E4B\\u524D\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"handleClick\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token function\",children:\"setCount\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"c\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" c \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token function\",children:\"setFlag\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"f\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),\"f\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u5728\\u5408\\u6210\\u4E8B\\u4EF6\\u4E2D\\uFF0C\\u4EAB\\u53D7\\u6279\\u5904\\u7406\\u4F18\\u5316\\uFF0C\\u53EA\\u4F1A\\u91CD\\u65B0\\u6E32\\u67D3\\u4E00\\u6B21\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"setTimeout\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token function\",children:\"setCount\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"c\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" c \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token function\",children:\"setFlag\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"f\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),\"f\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u4E0D\\u4F1A\\u8FDB\\u884C\\u6279\\u5904\\u7406\\uFF0C\\u4F1A\\u89E6\\u53D1\\u4E24\\u6B21\\u91CD\\u65B0\\u6E32\\u67D3\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1000\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\u4ECE \",(0,e.jsx)(n.code,{children:\"React 18\"}),\" \\u5F00\\u59CB\\uFF0C\\u5982\\u679C\\u4F60\\u4F7F\\u7528\\u4E86 \",(0,e.jsx)(n.code,{children:\"createRoot\"}),\"\\uFF0C\\u6240\\u6709\\u7684\\u66F4\\u65B0\\u90FD\\u4F1A\\u4EAB\\u53D7\\u6279\\u5904\\u7406\\u7684\\u4F18\\u5316\\uFF0C\\u5305\\u62EC\",(0,e.jsx)(n.code,{children:\"Promise\\u3001setTimeout\"}),\" \\u4EE5\\u53CA\\u5176\\u4ED6\\u5F02\\u6B65\\u56DE\\u8C03\\u51FD\\u6570\\u4E2D\\u3002\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// React 18\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"handleClick\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token function\",children:\"setCount\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"c\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" c \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token function\",children:\"setFlag\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"f\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),\"f\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u53EA\\u4F1A\\u91CD\\u65B0\\u6E32\\u67D3\\u4E00\\u6B21\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"setTimeout\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token function\",children:\"setCount\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"c\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" c \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token function\",children:\"setFlag\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"f\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),\"f\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u53EA\\u4F1A\\u91CD\\u65B0\\u6E32\\u67D3\\u4E00\\u6B21\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1000\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\u5982\\u679C\\u4F60\\u6709\\u7279\\u6B8A\\u7684\\u6E32\\u67D3\\u9700\\u6C42\\uFF0C\\u4E0D\\u60F3\\u8FDB\\u884C\\u6279\\u5904\\u7406\\uFF0C\\u4E5F\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,e.jsx)(n.code,{children:\"flushSync\"}),\" \\u5F02\\u6B65\\u66F4\\u65B0\\uFF1A\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsxs)(n.span,{className:\"token imports\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" flushSync \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'react-dom'\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"handleClick\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token function\",children:\"flushSync\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token function\",children:\"setCounter\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"c\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" c \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u66F4\\u65B0 DOM\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token function\",children:\"flushSync\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token function\",children:\"setFlag\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"f\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),\"f\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u66F4\\u65B0 DOM\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsx)(n.blockquote,{children:(0,e.jsxs)(n.p,{children:[\"\\u60F3\\u4E86\\u89E3\\u66F4\\u591A\\u53EF\\u4EE5\\u770B \",(0,e.jsx)(n.a,{href:\"https://github.com/reactwg/react-18/discussions/21\",children:\"Automatic batching deep dive\"})]})}),(0,e.jsxs)(n.h2,{id:\"\\u7528\\u4E8E\\u7B2C\\u4E09\\u65B9\\u5E93\\u7684-api\",children:[(0,e.jsx)(n.a,{href:\"#\\u7528\\u4E8E\\u7B2C\\u4E09\\u65B9\\u5E93\\u7684-api\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u7528\\u4E8E\\u7B2C\\u4E09\\u65B9\\u5E93\\u7684 API\"]}),(0,e.jsx)(n.p,{children:\"React18 \\u5DE5\\u4F5C\\u7EC4\\u5408\\u4E00\\u4E9B\\u5E93\\u7684\\u7EF4\\u62A4\\u4EBA\\u5458\\u521B\\u5EFA\\u4E86\\u65B0\\u7684 api\\uFF0C\\u6BD4\\u5982\\u6837\\u5F0F \\u5916\\u90E8\\u5B58\\u50A8\\u548C\\u53EF\\u8BBF\\u95EE\\u6027\\u7B49\\u65B9\\u9762\\u9700\\u8981\\u7528\\u5230\\u5E76\\u53D1\\u6E32\\u67D3\\uFF0C\\u4E00\\u4E9B\\u5E93\\u53EF\\u80FD\\u5207\\u6362\\u5230\\u4EE5\\u4E0B api \\u4E4B\\u4E00\"}),(0,e.jsxs)(n.ul,{children:[(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"useId\"}),\" \\u662F\\u4E00\\u4E2A\\u65B0\\u7684 \",(0,e.jsx)(n.code,{children:\"Hook\"}),\"\\uFF0C\\u7528\\u4E8E\\u5728\\u5BA2\\u6237\\u7AEF\\u548C\\u670D\\u52A1\\u7AEF\\u751F\\u6210\\u552F\\u4E00 id\\uFF0C\\u540C\\u65F6\\u907F\\u514D \",(0,e.jsx)(n.code,{children:\"hydration\"}),\" \\u7684\\u4E0D\\u517C\\u5BB9\\uFF0C\\u8FD9\\u53EF\\u4EE5\\u89E3\\u51B3 \",(0,e.jsx)(n.code,{children:\"React 17\"}),\" \\u4EE5\\u53CA\\u66F4\\u4F4E\\u7248\\u672C\\u7684\\u95EE\\u9898\\u3002\"]}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"useSyncExternalStore\"}),\" \\u662F\\u4E00\\u4E2A\\u65B0\\u7684 \",(0,e.jsx)(n.code,{children:\"Hook\"}),\"\\uFF0C\\u5141\\u8BB8\\u5916\\u90E8\\u5B58\\u50A8\\u901A\\u8FC7\\u5F3A\\u5236\\u540C\\u6B65\\u66F4\\u65B0\\u6765\\u652F\\u6301\\u5E76\\u53D1\\u8BFB\\u53D6\\u3002\\u8FD9\\u4E2A\\u65B0\\u7684 API \\u63A8\\u8350\\u7528\\u4E8E\\u4EFB\\u4F55\\u4E0E React \\u5916\\u90E8\\u72B6\\u6001\\u96C6\\u6210\\u7684\\u5E93\\u3002\\u6709\\u5173\\u66F4\\u591A\\u4FE1\\u606F\\uFF0C\\u8BF7\\u53C2\\u89C1 useSyncExternalStore \\u6982\\u8FF0\\u6587\\u7AE0\\u548C useSyncExternalStore API \\u8BE6\\u7EC6\\u4FE1\\u606F\\u3002\"]}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"useInsertionEffect\"}),\" \\u662F\\u4E00\\u4E2A\\u65B0\\u7684 \",(0,e.jsx)(n.code,{children:\"Hook\"}),\"\\uFF0C\\u5B83\\u53EF\\u4EE5\\u89E3\\u51B3 \",(0,e.jsx)(n.code,{children:\"CSS-in-JS\"}),\" \\u5E93\\u5728\\u6E32\\u67D3\\u4E2D\\u52A8\\u6001\\u6CE8\\u5165\\u6837\\u5F0F\\u7684\\u6027\\u80FD\\u95EE\\u9898\\u3002\"]})]}),(0,e.jsxs)(n.p,{children:[\"React 18 \\u8FD8\\u4E3A\\u5E76\\u53D1\\u6E32\\u67D3\\u5F15\\u5165\\u4E86\\u65B0\\u7684 api\\uFF0C\\u4F8B\\u5982 \",(0,e.jsx)(n.code,{children:\"startTransition\"}),\" \\u548C \",(0,e.jsx)(n.code,{children:\"useDeferredValue\"}),\"\\uFF0C\\u5C06\\u5728\\u5373\\u5C06\\u53D1\\u5E03\\u7684\\u7A33\\u5B9A\\u7248\\u672C\\u4E2D\\u5206\\u4EAB\\u66F4\\u591A\\u76F8\\u5173\\u5185\\u5BB9\\u3002\"]}),(0,e.jsxs)(n.h2,{id:\"\\u66F4\\u65B0\\u4E25\\u683C\\u6A21\\u5F0F-strict-mode\",children:[(0,e.jsx)(n.a,{href:\"#\\u66F4\\u65B0\\u4E25\\u683C\\u6A21\\u5F0F-strict-mode\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u66F4\\u65B0\\u4E25\\u683C\\u6A21\\u5F0F (Strict Mode)\"]}),(0,e.jsx)(n.p,{children:\"\\u5728\\u672A\\u6765\\uFF0CReact \\u5E0C\\u671B\\u6DFB\\u52A0\\u4E00\\u4E2A\\u7279\\u6027\\uFF0C\\u5141\\u8BB8 React \\u6DFB\\u52A0\\u548C\\u5220\\u9664 UI \\u7684\\u90E8\\u5206\\uFF0C\\u540C\\u65F6\\u4FDD\\u7559\\u72B6\\u6001\\u3002\\u4F8B\\u5982\\uFF0C\\u5F53\\u7528\\u6237\\u9009\\u9879\\u5361\\u8FDC\\u79BB\\u5C4F\\u5E55\\u5E76\\u8FD4\\u56DE\\u65F6\\uFF0CReact \\u5E94\\u8BE5\\u80FD\\u591F\\u7ACB\\u5373\\u663E\\u793A\\u524D\\u4E00\\u4E2A\\u5C4F\\u5E55\\u3002\\u4E3A\\u6B64\\uFF0CReact \\u5C06\\u4F7F\\u7528\\u4E0E\\u524D\\u9762\\u76F8\\u540C\\u7684\\u7EC4\\u4EF6\\u72B6\\u6001\\u5378\\u8F7D\\u548C\\u91CD\\u65B0\\u6302\\u8F7D\\u6811\\u3002\"}),(0,e.jsx)(n.p,{children:\"\\u8FD9\\u4E2A\\u7279\\u6027\\u5C06\\u4F7F React \\u5177\\u6709\\u66F4\\u597D\\u7684\\u5F00\\u7BB1\\u5373\\u7528\\u6027\\u80FD\\uFF0C\\u4F46\\u662F\\u9700\\u8981\\u7EC4\\u4EF6\\u5BF9\\u591A\\u6B21\\u6302\\u8F7D\\u548C\\u9500\\u6BC1\\u7684\\u6548\\u679C\\u5177\\u6709\\u5F39\\u6027\\u3002\\u5927\\u591A\\u6570\\u6548\\u679C\\u4E0D\\u9700\\u8981\\u4EFB\\u4F55\\u6539\\u53D8\\u5C31\\u53EF\\u4EE5\\u5DE5\\u4F5C\\uFF0C\\u4F46\\u662F\\u6709\\u4E9B\\u6548\\u679C\\u5047\\u8BBE\\u5B83\\u4EEC\\u53EA\\u88AB\\u5B89\\u88C5\\u6216\\u8005\\u9500\\u6BC1\\u4E00\\u6B21\\u3002\"}),(0,e.jsx)(n.p,{children:\"\\u4E3A\\u4E86\\u5E2E\\u52A9\\u8868\\u9762\\u8FD9\\u4E9B\\u95EE\\u9898\\uFF0Creact 18 \\u5F15\\u5165\\u4E86\\u4E00\\u4E2A\\u65B0\\u7684\\u5F00\\u53D1-\\u53EA\\u68C0\\u67E5\\u4E25\\u683C\\u6A21\\u5F0F\\u3002\\u6BCF\\u5F53\\u4E00\\u4E2A\\u7EC4\\u4EF6\\u7B2C\\u4E00\\u6B21\\u6302\\u8F7D\\u65F6\\uFF0C\\u8FD9\\u4E2A\\u65B0\\u7684\\u68C0\\u67E5\\u5C06\\u81EA\\u52A8\\u5378\\u8F7D\\u548C\\u91CD\\u65B0\\u6302\\u8F7D\\u6BCF\\u4E2A\\u7EC4\\u4EF6\\uFF0C\\u6062\\u590D\\u7B2C\\u4E8C\\u6B21\\u6302\\u8F7D\\u65F6\\u4EE5\\u524D\\u7684\\u72B6\\u6001\\u3002\"}),(0,e.jsxs)(n.h2,{id:\"\\u914D\\u7F6E\\u4F60\\u7684\\u6D4B\\u8BD5\\u73AF\\u5883\",children:[(0,e.jsx)(n.a,{href:\"#\\u914D\\u7F6E\\u4F60\\u7684\\u6D4B\\u8BD5\\u73AF\\u5883\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u914D\\u7F6E\\u4F60\\u7684\\u6D4B\\u8BD5\\u73AF\\u5883\"]}),(0,e.jsx)(n.p,{children:\"\\u5F53\\u60A8\\u7B2C\\u4E00\\u6B21\\u66F4\\u65B0\\uFF0C\\u4F7F\\u7528\\u4E86 createRoot \\u65F6\\uFF0C\\u60A8\\u53EF\\u80FD\\u4F1A\\u5728\\u63A7\\u5236\\u53F0\\u4E2D\\u770B\\u5230\\u8FD9\\u4E2A\\u8B66\\u544A:\"}),(0,e.jsx)(n.blockquote,{children:(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"The current testing environment is not configured to support act(\\u2026)\"})})}),(0,e.jsxs)(n.p,{children:[\"\\u8981\\u89E3\\u51B3\\u8FD9\\u4E2A\\u95EE\\u9898\\uFF0C\\u8BF7\\u5728\\u8FD0\\u884C\\u6D4B\\u8BD5\\u4E4B\\u524D\\u5C06 \",(0,e.jsx)(n.code,{children:\"globalThis.IS react act act environment\"}),\" \\u8BBE\\u7F6E\\u4E3A \",(0,e.jsx)(n.code,{children:\"true\"}),\":\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsx)(n.code,{className:\"language-js code-highlight\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"globalThis\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"IS_REACT_ACT_ENVIRONMENT\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),`\n`]})})}),(0,e.jsxs)(n.p,{children:[\"\\u6807\\u5FD7\\u7684\\u4F5C\\u7528\\u662F\\u544A\\u8BC9 React \\u5B83\\u5728\\u7C7B\\u4F3C\\u4E8E\\u5355\\u5143\\u6D4B\\u8BD5\\u7684\\u73AF\\u5883\\u4E2D\\u8FD0\\u884C\\u3002\\u5982\\u679C\\u4F60\\u5FD8\\u8BB0\\u7528 \",(0,e.jsx)(n.code,{children:\"act\"}),\" \\u5305\\u88F9\\u66F4\\u65B0\\uFF0C\\u5219\\u54CD\\u5E94\\u5C06\\u8BB0\\u5F55\\u6709\\u7528\\u7684\\u8B66\\u544A\\u4FE1\\u606F\\u3002\"]}),(0,e.jsxs)(n.p,{children:[\"\\u60A8\\u8FD8\\u53EF\\u4EE5\\u5C06\\u6807\\u5FD7\\u8BBE\\u7F6E\\u4E3A \",(0,e.jsx)(n.code,{children:\"false\"}),\" \\u6765\\u544A\\u8BC9 React \",(0,e.jsx)(n.code,{children:\"act\"}),\" \\u662F\\u4E0D\\u5FC5\\u8981\\u7684\\u3002\\u8FD9\\u5BF9\\u4E8E\\u6A21\\u62DF\\u5B8C\\u6574\\u6D4F\\u89C8\\u5668\\u73AF\\u5883\\u7684\\u7AEF\\u5230\\u7AEF\\u6D4B\\u8BD5\\u975E\\u5E38\\u6709\\u7528\\u3002\"]}),(0,e.jsx)(n.p,{children:\"\\u6700\\u7EC8\\uFF0C\\u6211\\u4EEC\\u5E0C\\u671B\\u6D4B\\u8BD5\\u5E93\\u80FD\\u591F\\u81EA\\u52A8\\u4E3A\\u60A8\\u914D\\u7F6E\\u8FD9\\u4E2A\\u529F\\u80FD\\u3002\\u4F8B\\u5982\\uFF0C\\u4E0B\\u4E00\\u4E2A\\u7248\\u672C\\u7684 React Testing Library \\u5185\\u7F6E\\u4E86\\u5BF9 React 18 \\u7684\\u652F\\u6301\\uFF0C\\u800C\\u4E0D\\u9700\\u8981\\u4EFB\\u4F55\\u989D\\u5916\\u7684\\u914D\\u7F6E\\u3002\"}),(0,e.jsx)(n.blockquote,{children:(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.code,{children:\"act\"}),\" \\u540D\\u79F0\\u6765\\u81EA \",(0,e.jsx)(n.a,{href:\"http://wiki.c2.com/?ArrangeActAssert\",children:\"Arrange-Act-Assert\"}),\" \\u6A21\\u5F0F\\u3002\"]})}),(0,e.jsxs)(n.h2,{id:\"\\u4E0D\\u518D\\u652F\\u6301-ie-\\u6D4F\\u89C8\\u5668\",children:[(0,e.jsx)(n.a,{href:\"#\\u4E0D\\u518D\\u652F\\u6301-ie-\\u6D4F\\u89C8\\u5668\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u4E0D\\u518D\\u652F\\u6301 IE \\u6D4F\\u89C8\\u5668\"]}),(0,e.jsx)(n.p,{children:\"\\u5728\\u8FD9\\u4E2A\\u7248\\u672C\\u4E2D\\uFF0CReact \\u653E\\u5F03\\u4E86\\u5BF9 Internet Explorer \\u7684\\u652F\\u6301\\uFF0C\\u5B83\\u5C06\\u5728 2022 \\u5E74 6 \\u6708 15 \\u65E5\\u5931\\u53BB\\u652F\\u6301\\u3002React \\u505A\\u51FA\\u8FD9\\u4E2A\\u6539\\u53D8\\uFF0C\\u662F\\u56E0\\u4E3A\\u5728 React 18 \\u4E2D\\u5F15\\u5165\\u7684\\u65B0\\u7279\\u6027\\u662F\\u4F7F\\u7528\\u73B0\\u4EE3\\u6D4F\\u89C8\\u5668\\u7684\\u7279\\u6027\\u6784\\u5EFA\\u7684\\uFF0C\\u6BD4\\u5982\\u5FAE\\u4EFB\\u52A1\\uFF0C\\u8FD9\\u4E9B\\u7279\\u6027\\u5728 IE \\u4E2D\\u65E0\\u6CD5\\u5145\\u5206\\u586B\\u5145\\uFF08polyfilled\\uFF09\\u3002\"}),(0,e.jsxs)(n.h2,{id:\"\\u5176\\u4ED6\\u53D8\\u5316\",children:[(0,e.jsx)(n.a,{href:\"#\\u5176\\u4ED6\\u53D8\\u5316\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5176\\u4ED6\\u53D8\\u5316\"]}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://github.com/reactwg/react-18/discussions/82\",children:\"\\u66F4\\u65B0\\u4EE5\\u5220\\u9664\\u201CsetState on unmounted component\\u201D \\u8B66\\u544A\"})}),(0,e.jsx)(n.li,{children:(0,e.jsxs)(n.a,{href:\"https://github.com/reactwg/react-18/discussions/72\",children:[\"Suspense \\u4E0D\\u518D\\u9700\\u8981\",(0,e.jsx)(n.code,{children:\"fallback\"}),\"prop \\u6765\\u6355\\u6349\"]})}),(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://github.com/reactwg/react-18/discussions/75\",children:\"\\u7EC4\\u4EF6\\u73B0\\u5728\\u53EF\\u4EE5\\u6E32\\u67D3 undefined\"})}),(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://github.com/facebook/react/pull/23355\",children:\"\\u5F03\\u7528 renderSubtreeIntoContainer\"})}),(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://github.com/reactwg/react-18/discussions/96\",children:\"StrictMode \\u66F4\\u65B0\\u4E3A\\u9ED8\\u8BA4\\u60C5\\u51B5\\u4E0B\\u4E0D\\u4F1A\\u9759\\u9ED8\\u53CC\\u91CD\\u65E5\\u5FD7\\u8BB0\\u5F55\"})})]}),(0,e.jsxs)(n.p,{children:[\"\\u5982\\u679C\\u5927\\u5BB6\\u60F3\\u4E86\\u89E3\\u66F4\\u591A\\u5185\\u5BB9\\uFF0C\\u6B22\\u8FCE\\u67E5\\u770B \",(0,e.jsx)(n.code,{children:\"React\"}),\" \\u5B98\\u65B9\\u535A\\u5BA2\\uFF1A\",(0,e.jsx)(n.a,{href:\"https://reactjs.org/blog/2022/03/08/react-18-upgrade-guide.html\",children:\"https://reactjs.org/blog/2022/03/08/react-18-upgrade-guide.html\"})]}),(0,e.jsx)(n.p,{children:\"\\u4EE5\\u4E0A\\u5C31\\u662F\\u672C\\u6587\\u5168\\u90E8\\u5185\\u5BB9\\uFF0C\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u5BF9\\u5927\\u5BB6\\u6709\\u6240\\u5E2E\\u52A9\\uFF0C\\u4E5F\\u53EF\\u4EE5\\u53C2\\u8003\\u6211\\u5F80\\u671F\\u7684\\u6587\\u7AE0\\u6216\\u8005\\u5728\\u8BC4\\u8BBA\\u533A\\u4EA4\\u6D41\\u4F60\\u7684\\u60F3\\u6CD5\\u548C\\u5FC3\\u5F97\\uFF0C\\u6B22\\u8FCE\\u4E00\\u8D77\\u63A2\\u7D22\\u524D\\u7AEF\\u3002\"}),(0,e.jsxs)(n.p,{children:[\"\\u672C\\u6587\\u9996\\u53D1\\u6398\\u91D1\\u5E73\\u53F0\\uFF0C\\u6765\\u6E90\",(0,e.jsx)(n.a,{href:\"https://maqib.cn/blog/react-18-upgrade-guide%22\",children:\"\\u5C0F\\u9A6C\\u535A\\u5BA2\"})]})]})}}var w=R;function A(a,c){throw new Error(\"Expected \"+(c?\"component\":\"object\")+\" `\"+a+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return y(I);})();\n;return Component;","toc":[{"value":"安装","url":"#安装","depth":2},{"value":"客户端渲染 API 的更新","url":"#客户端渲染-api-的更新","depth":2},{"value":"1. 替换 render 函数为 createRoot","url":"#1-替换-render-函数为-createroot","depth":3},{"value":"hydrate 升级到 hydrateRoot","url":"#hydrate-升级到-hydrateroot","depth":3},{"value":"服务端渲染 API 的更新","url":"#服务端渲染-api-的更新","depth":2},{"value":"自动批处理 (Automatic Batching)","url":"#自动批处理-automatic-batching","depth":2},{"value":"用于第三方库的 API","url":"#用于第三方库的-api","depth":2},{"value":"更新严格模式 (Strict Mode)","url":"#更新严格模式-strict-mode","depth":2},{"value":"配置你的测试环境","url":"#配置你的测试环境","depth":2},{"value":"不再支持 IE 浏览器","url":"#不再支持-ie-浏览器","depth":2},{"value":"其他变化","url":"#其他变化","depth":2}],"frontMatter":{"readingTime":{"text":"7 min read","minutes":6.33,"time":379800,"words":1266},"slug":"react-18-upgrade-guide","fileName":"react-18-upgrade-guide.md","title":"如何升级到 React 18发布候选版 ","date":"2022-03-14T16:00:00.000Z","lastmod":"2022/3/15","tags":["前端","React.js"],"draft":false,"summary":"上周 react 官网 发布了react@rc 版本，该版本是候选版本(Release Candidate)，这意味API已经基本稳定，跟最终版本不会有太大差别，官网也发布博客《如何升级到 react18 RC 版本》，鼓励大家尝试升级，所以我们可以在项目组中使用了！下面内容来自是官方文档的翻译。","images":["https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e5ca9595ccd1479f86d71903184a4d0b~tplv-k3u1fbpfcp-watermark.image?"],"authors":["default"],"layout":"PostLayout"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.19,"time":11400,"words":38},"slug":["default"],"fileName":"default.md","name":"随风","avatar":"/static/images/avatar.jpeg","occupation":"前端工程师","company":"分享 JavaScript 热门框架，记录前端工程师学习成长历程。","email":"tianping888@163.com","juejin":"https://juejin.cn","zhihu":"https://www.zhihu.com","github":"https://github.com/balac2015","date":null}],"prev":{"title":"如何使用 react 和 three.js 在网站渲染自己的3D模型","date":"2022-03-11T16:00:00.000Z","lastmod":"2022/03/12","tags":["JavaScript","React.js"],"draft":false,"summary":"在本文中，我将介绍如何在 react 项目中使用 react-three-fiber 创建的一个3D 软件程序，配置3D 参数(如 Blender 或 Maya ) 。在本文结束时，您将能够在您的网站上渲染一个3D模型 (gltf / glb)。","images":["https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/03e816da47944c2da6ed00f76e0a7419~tplv-k3u1fbpfcp-zoom-crop-mark:3024:3024:3024:1702.awebp?"],"layout":"PostLayout","slug":"use-threejs-and-react-to-render-a-3d-model-of-your-self"},"next":{"title":"我用 nodejs 爬了一万多张小姐姐壁纸","date":"2022-03-22T16:00:00.000Z","lastmod":"2022/3/23","tags":["Node.js"],"draft":false,"summary":"本文主要讲述如何使用 nodejs 爬虫，以及如何用nodejs 下载图片。为什么要下载这么多图片呢？ 前几天使用 uniapp + uniCloud 免费部署了一个壁纸小程序。","layout":"PostLayout","slug":"node-reptile"}},"__N_SSG":true}