<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><title>一起来写 VS Code 插件：VS Code 版 CNode 已上线</title><meta name="robots" content="follow, index"/><meta name="description" content="CNode 社区为国内最专业的 Node.js 开源技术社区，致力于 Node.js 的技术研究。本篇将通过实现 VS Code 版 CNode， 来带领大家一起熟悉 VSCode Webview。"/><meta property="og:url" content="https://github.com/balac2015/blog/vscoe-extension-CNode-has-been-launched"/><meta property="og:type" content="article"/><meta property="og:site_name" content="Coding 工坊 | 随风"/><meta property="og:description" content="CNode 社区为国内最专业的 Node.js 开源技术社区，致力于 Node.js 的技术研究。本篇将通过实现 VS Code 版 CNode， 来带领大家一起熟悉 VSCode Webview。"/><meta property="og:title" content="一起来写 VS Code 插件：VS Code 版 CNode 已上线"/><meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8445f5813cb041998924400c705fd6b3~tplv-k3u1fbpfcp-watermark.image?"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site"/><meta name="twitter:title" content="一起来写 VS Code 插件：VS Code 版 CNode 已上线"/><meta name="twitter:description" content="CNode 社区为国内最专业的 Node.js 开源技术社区，致力于 Node.js 的技术研究。本篇将通过实现 VS Code 版 CNode， 来带领大家一起熟悉 VSCode Webview。"/><meta name="twitter:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8445f5813cb041998924400c705fd6b3~tplv-k3u1fbpfcp-watermark.image?"/><meta property="article:published_time" content="2021-11-22T16:00:00.000Z"/><meta property="article:modified_time" content="2021-11-22T16:00:00.000Z"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://github.com/balac2015/blog/vscoe-extension-CNode-has-been-launched"
  },
  "headline": "一起来写 VS Code 插件：VS Code 版 CNode 已上线",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8445f5813cb041998924400c705fd6b3~tplv-k3u1fbpfcp-watermark.image?"
    }
  ],
  "datePublished": "2021-11-22T16:00:00.000Z",
  "dateModified": "2021-11-22T16:00:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "随风"
    }
  ],
  "publisher": {
    "@type": "Organization",
    "name": "随风",
    "logo": {
      "@type": "ImageObject",
      "url": "https://github.com/balac2015/static/images/logo.png"
    }
  },
  "description": "CNode 社区为国内最专业的 Node.js 开源技术社区，致力于 Node.js 的技术研究。本篇将通过实现 VS Code 版 CNode， 来带领大家一起熟悉 VSCode Webview。"
}</script><meta name="next-head-count" content="20"/><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" content="#000000"/><meta name="referrer" content="no-referrer"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="preload" href="/_next/static/css/143263672f95f733.css" as="style"/><link rel="stylesheet" href="/_next/static/css/143263672f95f733.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-d162ed0bea313f71.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-b4cdd9636ac3694c.js" defer=""></script><script src="/_next/static/chunks/pages/_app-adb504928e1e223a.js" defer=""></script><script src="/_next/static/chunks/410-dc08c716b48ef576.js" defer=""></script><script src="/_next/static/chunks/606-bcfce32a938ad92d.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-a12f8dbad1f7fc24.js" defer=""></script><script src="/_next/static/tzs-XIByjtI7cz8CnRw3S/_buildManifest.js" defer=""></script><script src="/_next/static/tzs-XIByjtI7cz8CnRw3S/_ssgManifest.js" defer=""></script><script src="/_next/static/tzs-XIByjtI7cz8CnRw3S/_middlewareManifest.js" defer=""></script></head><body class="bg-white text-black antialiased dark:bg-gray-900 dark:text-white"><div id="__next" data-reactroot=""><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between"><header class="flex items-center justify-between py-10"><h1><a aria-label="随风小站" href="/"><div class="flex items-center justify-between"><span><svg width="52" height="26" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><image xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAaCAYAAADFTB7LAAAAAXNSR0IArs4c6QAAAHplWElmTU0AKgAAAAgAAwESAAMAAAABAAEAAAExAAIAAAAeAAAAModpAAQAAAABAAAAUAAAAABBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKQAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAAGgAAAACQIupnAAAEEWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ2RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQ1RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQzRkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ0RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo0psFQAAACSElEQVRYCc2WMUhVURjH79VQEISKDAfFAqVBbHDOLcFNB0scinJrkrbarMFBEAxSQXCJWuQNurgIEoJTOBRSrdFghqZgaIWv5+8v56qvd73vnKM37gc/znnnfN//+99z73v3BYFFFAqFengB67ALc9BsUZpuCiYuwjD8hH9jk4Vb6TpIUKf5Q9g44SrPfBam4a9Z32O8myCTzhZNnxsDGvbhDbRG3Zg/gD+gkPHBaC/1kWY9EJ3QW+YtcU1Z74IdiGKESRiXe25rNLgOW6ajvghVSeLst8OaydfwCi4k1XjvIVwF70CxAjU2YuRdg48QRY5JpU2tUw6io6bDV8YGl2LyL8Oyqdcw4lJfNhdBPU967rahrWxBTAJ1NaBnViGtzpg09yWE6kDPkb6tt90VjiuM1hdGhcba413PGSIvpUY88pQoKkOnA3SxiomiTZ8PiOj0Fn1qT6tBbwgUutUdp+VZrSOgq31mlWyZhF4lLIHiM1RblpakVbDyA/ZKds6wEIZhnvJ7sAU34Cn4hbnCJ37VyVVo94LiF8S+kZIVgkAnqKtMJTjJHMJToFs87tNEBjd9Ch1qHpP7CTo5xTsOdYepMrjhWuSSzynukt8Pv2EMk00u9f/jBANMvsfUfbgCeiVavxAigwWXq/LJxeQMdfpNXIcFTM5DH1xN0gtJGCChGoHJpMTz2qOf/jPKaDfchEvwHVbhAz5eMx6F/rtps/FoJeUJBnS3lgxlu+kW68gzGzK4lll3GJPBb5DPqskKnol9YzKTHg8A2r/9Qs/XFFsAAAAASUVORK5CYII=" height="26" width="40"></image><image href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAaCAYAAADFTB7LAAAAAXNSR0IArs4c6QAAAHplWElmTU0AKgAAAAgAAwESAAMAAAABAAEAAAExAAIAAAAeAAAAModpAAQAAAABAAAAUAAAAABBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKQAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAAGgAAAACQIupnAAAEEWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ2RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQ1RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQzRkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ0RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo0psFQAAACSElEQVRYCc2WMUhVURjH79VQEISKDAfFAqVBbHDOLcFNB0scinJrkrbarMFBEAxSQXCJWuQNurgIEoJTOBRSrdFghqZgaIWv5+8v56qvd73vnKM37gc/znnnfN//+99z73v3BYFFFAqFengB67ALc9BsUZpuCiYuwjD8hH9jk4Vb6TpIUKf5Q9g44SrPfBam4a9Z32O8myCTzhZNnxsDGvbhDbRG3Zg/gD+gkPHBaC/1kWY9EJ3QW+YtcU1Z74IdiGKESRiXe25rNLgOW6ajvghVSeLst8OaydfwCi4k1XjvIVwF70CxAjU2YuRdg48QRY5JpU2tUw6io6bDV8YGl2LyL8Oyqdcw4lJfNhdBPU967rahrWxBTAJ1NaBnViGtzpg09yWE6kDPkb6tt90VjiuM1hdGhcba413PGSIvpUY88pQoKkOnA3SxiomiTZ8PiOj0Fn1qT6tBbwgUutUdp+VZrSOgq31mlWyZhF4lLIHiM1RblpakVbDyA/ZKds6wEIZhnvJ7sAU34Cn4hbnCJ37VyVVo94LiF8S+kZIVgkAnqKtMJTjJHMJToFs87tNEBjd9Ch1qHpP7CTo5xTsOdYepMrjhWuSSzynukt8Pv2EMk00u9f/jBANMvsfUfbgCeiVavxAigwWXq/LJxeQMdfpNXIcFTM5DH1xN0gtJGCChGoHJpMTz2qOf/jPKaDfchEvwHVbhAz5eMx6F/rtps/FoJeUJBnS3lgxlu+kW68gzGzK4lll3GJPBb5DPqskKnol9YzKTHg8A2r/9Qs/XFFsAAAAASUVORK5CYII=" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAaCAYAAADFTB7LAAAAAXNSR0IArs4c6QAAAHplWElmTU0AKgAAAAgAAwESAAMAAAABAAEAAAExAAIAAAAeAAAAModpAAQAAAABAAAAUAAAAABBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKQAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAAGgAAAACQIupnAAAEEWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ2RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQ1RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQzRkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ0RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo0psFQAAACSElEQVRYCc2WMUhVURjH79VQEISKDAfFAqVBbHDOLcFNB0scinJrkrbarMFBEAxSQXCJWuQNurgIEoJTOBRSrdFghqZgaIWv5+8v56qvd73vnKM37gc/znnnfN//+99z73v3BYFFFAqFengB67ALc9BsUZpuCiYuwjD8hH9jk4Vb6TpIUKf5Q9g44SrPfBam4a9Z32O8myCTzhZNnxsDGvbhDbRG3Zg/gD+gkPHBaC/1kWY9EJ3QW+YtcU1Z74IdiGKESRiXe25rNLgOW6ajvghVSeLst8OaydfwCi4k1XjvIVwF70CxAjU2YuRdg48QRY5JpU2tUw6io6bDV8YGl2LyL8Oyqdcw4lJfNhdBPU967rahrWxBTAJ1NaBnViGtzpg09yWE6kDPkb6tt90VjiuM1hdGhcba413PGSIvpUY88pQoKkOnA3SxiomiTZ8PiOj0Fn1qT6tBbwgUutUdp+VZrSOgq31mlWyZhF4lLIHiM1RblpakVbDyA/ZKds6wEIZhnvJ7sAU34Cn4hbnCJ37VyVVo94LiF8S+kZIVgkAnqKtMJTjJHMJToFs87tNEBjd9Ch1qHpP7CTo5xTsOdYepMrjhWuSSzynukt8Pv2EMk00u9f/jBANMvsfUfbgCeiVavxAigwWXq/LJxeQMdfpNXIcFTM5DH1xN0gtJGCChGoHJpMTz2qOf/jPKaDfchEvwHVbhAz5eMx6F/rtps/FoJeUJBnS3lgxlu+kW68gzGzK4lll3GJPBb5DPqskKnol9YzKTHg8A2r/9Qs/XFFsAAAAASUVORK5CYII=" height="26" width="40" x="15"></image></svg></span><div class="hidden text-2xl font-semibold sm:block">随风小站</div></div></a></h1><div class="flex items-center text-base leading-5"><div class="hidden sm:block"><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/blog">文章</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/tags">标签</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/projects">项目</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/tool">工具</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/boilerplate">模板</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/about">关于</a></div><div class="ml-1 mr-1 flex items-center sm:ml-4"><a class="block p-1" title="RSS" href="/feed.xml"><svg fill="currentColor" class="h-5 w-5" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M3.75 3a.75.75 0 00-.75.75v.5c0 .414.336.75.75.75H4c6.075 0 11 4.925 11 11v.25c0 .414.336.75.75.75h.5a.75.75 0 00.75-.75V16C17 8.82 11.18 3 4 3h-.25z"></path><path d="M3 8.75A.75.75 0 013.75 8H4a8 8 0 018 8v.25a.75.75 0 01-.75.75h-.5a.75.75 0 01-.75-.75V16a6 6 0 00-6-6h-.25A.75.75 0 013 9.25v-.5zM7 15a2 2 0 11-4 0 2 2 0 014 0z"></path></svg></a><button aria-label="Toggle Dark Mode" type="button" class="h-7 w-7 rounded p-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button></div><div class="sm:hidden"><button type="button" class="ml-1 mr-1 h-8 w-8 rounded py-1" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed top-0 left-0 z-50 h-full w-full transform bg-gray-200 opacity-95 duration-300 ease-in-out dark:bg-gray-800 translate-x-full"><div class="flex justify-end"><button type="button" class="mr-5 mt-11 h-8 w-8 rounded" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><nav class="mt-8 h-full"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/blog">文章</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">标签</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/projects">项目</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tool">工具</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/boilerplate">模板</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/about">关于</a></div></nav></div></div></div></header><main class="mb-auto"><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div style="transform:translateX(-100%)" class="fixed top-0 left-0 h-1 w-full bg-primary-500 backdrop-blur-3xl transition-transform duration-150"></div><div class="fixed right-8 bottom-8 hidden flex-col gap-3 md:hidden"><button aria-label="Scroll To Comment" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path></svg></button><button aria-label="Scroll To Top" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div class="xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700"><header class="pt-6 xl:pb-6"><div class="space-y-1 text-center"><dl class="space-y-10"><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2021-11-22T16:00:00.000Z">2021年11月23日星期二</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">一起来写 VS Code 插件：VS Code 版 CNode 已上线</h1></div></div></header><div class="divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6 xl:divide-y-0" style="grid-template-rows:auto 1fr"><div class=""><dl class="pt-6 pb-10 xl:border-b xl:border-gray-200 xl:pt-11 xl:dark:border-gray-700"><dt class="sr-only">Authors</dt><dd><ul class="flex justify-center space-x-8 sm:space-x-12 xl:block xl:space-x-0 xl:space-y-8"><li class="flex items-center space-x-2"><img alt="avatar" src="/static/images/avatar.jpeg" width="38px" height="38px" class="h-10 w-10 rounded-full"/><dl class="whitespace-nowrap text-sm font-medium leading-5"><dt class="sr-only">作者</dt><dd class="text-gray-900 dark:text-gray-100">随风</dd></dl></li></ul></dd></dl><h2 class="pt-6 text-xs font-bold uppercase tracking-wide text-gray-500 dark:text-gray-400">目录</h2><ul class="py-4 text-sm font-medium leading-relaxed xl:border-b xl:border-gray-200 xl:dark:border-gray-700"><li class="false"><a class="text-primary-500" href="#前言">前言</a></li><li class="false"><a class="text-primary-500" href="#效果">效果</a></li><li class="false"><a class="text-primary-500" href="#初始化项目">初始化项目</a></li><li class="false"><a class="text-primary-500" href="#配置左侧导航图标">配置左侧导航图标</a></li><li class="ml-6"><a class="text-primary-500" href="#注册一个侧边栏">注册一个侧边栏</a></li><li class="ml-6"><a class="text-primary-500" href="#实现侧边栏">实现侧边栏</a></li><li class="false"><a class="text-primary-500" href="#实现侧边视图">实现侧边视图</a></li><li class="ml-6"><a class="text-primary-500" href="#配置-webpack-config">配置 webpack config</a></li><li class="ml-6"><a class="text-primary-500" href="#配置-tailwindcss">配置 tailwindcss</a></li><li class="ml-6"><a class="text-primary-500" href="#使用-react-来实现主题列表">使用 React 来实现主题列表</a></li><li class="false"><a class="text-primary-500" href="#预览页面实现">预览页面实现</a></li><li class="false"><a class="text-primary-500" href="#避免重复创建预览页">避免重复创建预览页</a></li><li class="false"><a class="text-primary-500" href="#主题适配">主题适配</a></li><li class="false"><a class="text-primary-500" href="#调试">调试</a></li><li class="false"><a class="text-primary-500" href="#状态保持">状态保持</a></li><li class="ml-6"><a class="text-primary-500" href="#state"> state</a></li><li class="ml-6"><a class="text-primary-500" href="#序列化">序列化</a></li><li class="ml-6"><a class="text-primary-500" href="#retaincontextwhenhidden"> retainContextWhenHidden</a></li><li class="false"><a class="text-primary-500" href="#发布">发布</a></li><li class="false"><a class="text-primary-500" href="#小结">小结</a></li></ul></div><div class="xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="mt-6"><img alt="一起来写 VS Code 插件：VS Code 版 CNode 已上线" class="w-full rounded object-cover shadow-lg" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8445f5813cb041998924400c705fd6b3~tplv-k3u1fbpfcp-watermark.image?"/></div><div class="prose max-w-none break-words pt-10 pb-8 dark:prose-dark"><h2 id="前言"><a href="#前言" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>前言</h2><p>本篇是 VS Code 插件开发实战系列第三篇，前面两篇是</p><ol><li><a target="_blank" rel="noopener noreferrer" href="https://juejin.cn/post/7030250953215311908">《一起来写 VS Code 插件：为你的团队提供常用代码片段》</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://juejin.cn/post/7031878482367873037">《一起来写 VS Code 插件：实现一个翻译插件》</a></li></ol><p><strong>CNode</strong>  社区为国内最专业的 Node.js 开源技术社区，致力于 Node.js 的技术研究。本篇将通过实现 VS Code 版 CNode， 来带领大家一起熟悉 VSCode Webview 强大的功能。在开始之前，我们先参考 <a target="_blank" rel="noopener noreferrer" href="https://code.visualstudio.com/api/extension-guides/webview">官网关于 webview</a> 的介绍。Webview API 允许扩展在 visualstudio 代码中创建完全可定制的视图，可以将 webview 看作是 VS Code 中的 iframe。</p><p>我们可以通过网页将事件消息传递给我们的服务端(包括 NodeJS)， 服务端处理完后可以把消息数据传递给网页。因此我们能在 extensions 中开发出跟网页一样的内容，但实现远比网页更强大的功能。</p><h2 id="效果"><a href="#效果" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>效果</h2><p>首先来看下实现的效果</p><p><img alt="nn.gif.gif" src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8a392349e6bf42b794853a2ec4c5c160~tplv-k3u1fbpfcp-watermark.image?"/></p><p>主要分为 2 部分，左侧是主题列表，右侧是主题详情。</p><h2 id="初始化项目"><a href="#初始化项目" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>初始化项目</h2><p>首先通过脚手架初始化一个 typescript + webpack 的工程</p><p><img alt="image.png" src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/de48d3e27a014f00b09f5a7449ae11f5~tplv-k3u1fbpfcp-watermark.image?"/></p><h2 id="配置左侧导航图标"><a href="#配置左侧导航图标" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>配置左侧导航图标</h2><div class="relative"><pre><code class="code-highlight language-json"><span class="code-line"> <span class="token property">&quot;icon&quot;</span><span class="token operator">:</span> <span class="token string">&quot;icon.png&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property">&quot;activationEvents&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">    <span class="token string">&quot;onView:vs-sidebar-view&quot;</span>
</span><span class="code-line">  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property">&quot;contributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">&quot;viewsContainers&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property">&quot;activitybar&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">        <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vs-sidebar-view&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">          <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CNODE 社区&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">          <span class="token property">&quot;icon&quot;</span><span class="token operator">:</span> <span class="token string">&quot;media/cnode_icon_64.png&quot;</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">]</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;views&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property">&quot;vs-sidebar-view&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">        <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webview&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">          <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vs-sidebar-view&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">          <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Topic 列表&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">          <span class="token property">&quot;icon&quot;</span><span class="token operator">:</span> <span class="token string">&quot;media/cnode_icon_64.png&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">          <span class="token property">&quot;contextualTitle&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Topic 列表&quot;</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">]</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  ...
</span><span class="code-line">
</span></code></pre></div><p>views 是配置视图列表,activitybar 是定义下显示在侧边导航上的视图。</p><h3 id="注册一个侧边栏"><a href="#注册一个侧边栏" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>注册一个侧边栏</h3><p>在 extension.ts 中注册一个 与 package.json 对应的 <code>vs-sidebar-view</code>侧边栏 ID</p><div class="relative"><pre><code class="code-highlight language-js"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token operator">*</span> <span class="token keyword module">as</span> vscode</span> <span class="token keyword module">from</span> <span class="token string">&#x27;vscode&#x27;</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">SidebarProvider</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;./SidebarProvider&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span><span class="token parameter"><span class="token property literal-property">context</span><span class="token operator">:</span> vscode<span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">ExtensionContext</span></span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> sidebarPanel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SidebarProvider</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token property-access">extensionUri</span><span class="token punctuation">)</span>
</span><span class="code-line">  context<span class="token punctuation">.</span><span class="token property-access">subscriptions</span><span class="token punctuation">.</span><span class="token property-access function method">push</span><span class="token punctuation">(</span>
</span><span class="code-line">    vscode<span class="token punctuation">.</span><span class="token property-access">window</span><span class="token punctuation">.</span><span class="token property-access function method">registerWebviewViewProvider</span><span class="token punctuation">(</span><span class="token string">&#x27;vs-sidebar-view&#x27;</span><span class="token punctuation">,</span> sidebarPanel<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><h3 id="实现侧边栏"><a href="#实现侧边栏" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>实现侧边栏</h3><div class="relative"><pre><code class="code-highlight language-js"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token operator">*</span> <span class="token keyword module">as</span> vscode</span> <span class="token keyword module">from</span> <span class="token string">&quot;vscode&quot;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> getNonce <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&quot;./getNonce&quot;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">class</span> <span class="token class-name">SidebarProvider</span> <span class="token keyword">implements</span> <span class="token class-name">vscode<span class="token punctuation">.</span>WebviewViewProvider</span> <span class="token punctuation">{</span>
</span><span class="code-line">  _view<span class="token operator">?</span><span class="token operator">:</span> vscode<span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">WebviewView</span></span><span class="token punctuation">;</span>
</span><span class="code-line">  _doc<span class="token operator">?</span><span class="token operator">:</span> vscode<span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">TextDocument</span></span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">private</span> readonly _extensionUri<span class="token operator">:</span> vscode<span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Uri</span></span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">public</span> <span class="token function">resolveWebviewView</span><span class="token punctuation">(</span><span class="token parameter"><span class="token property literal-property">webviewView</span><span class="token operator">:</span> vscode<span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">WebviewView</span></span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">_view</span> <span class="token operator">=</span> webviewView<span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    webviewView<span class="token punctuation">.</span><span class="token property-access">webview</span><span class="token punctuation">.</span><span class="token property-access">options</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token comment">// 在 webview 允许脚本</span>
</span><span class="code-line">      <span class="token property literal-property">enableScripts</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property literal-property">localResourceRoots</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">_extensionUri</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    webviewView<span class="token punctuation">.</span><span class="token property-access">webview</span><span class="token punctuation">.</span><span class="token property-access">html</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access function method">_getHtmlForWebview</span><span class="token punctuation">(</span>webviewView<span class="token punctuation">.</span><span class="token property-access">webview</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">public</span> <span class="token function">revive</span><span class="token punctuation">(</span><span class="token parameter"><span class="token property literal-property">panel</span><span class="token operator">:</span> vscode<span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">WebviewView</span></span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">_view</span> <span class="token operator">=</span> panel<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">private</span> <span class="token function">_getHtmlForWebview</span><span class="token punctuation">(</span><span class="token parameter"><span class="token property literal-property">webview</span><span class="token operator">:</span> vscode<span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Webview</span></span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> scriptUri <span class="token operator">=</span> webview<span class="token punctuation">.</span><span class="token property-access function method">asWebviewUri</span><span class="token punctuation">(</span>
</span><span class="code-line">      vscode<span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Uri</span></span><span class="token punctuation">.</span><span class="token property-access function method">joinPath</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">_extensionUri</span><span class="token punctuation">,</span> <span class="token string">&quot;build&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;static/js/main.js&quot;</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> styleMainUri <span class="token operator">=</span> webview<span class="token punctuation">.</span><span class="token property-access function method">asWebviewUri</span><span class="token punctuation">(</span>
</span><span class="code-line">      vscode<span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Uri</span></span><span class="token punctuation">.</span><span class="token property-access function method">joinPath</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">_extensionUri</span><span class="token punctuation">,</span> <span class="token string">&quot;build&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;main.css&quot;</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// Use a nonce to 只允许特定脚本运行.</span>
</span><span class="code-line">    <span class="token keyword">const</span> nonce <span class="token operator">=</span> <span class="token function">getNonce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword control-flow">return</span> <span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string">&lt;!DOCTYPE html&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">		&lt;html lang=&quot;en&quot;&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">		&lt;head&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">		&lt;meta charset=&quot;UTF-8&quot;&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">                &lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;img-src https: data:; style-src &#x27;unsafe-inline&#x27; </span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>webview<span class="token punctuation">.</span><span class="token property-access">cspSource</span><span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">; script-src &#x27;nonce-</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>nonce<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">&#x27;;&quot;&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">		&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">		&lt;link href=&quot;</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>styleMainUri<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">&quot; rel=&quot;stylesheet&quot;&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">                &lt;script nonce=&quot;</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>nonce<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">&quot;&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">                  const tsvscode = acquireVsCodeApi(); //内置函数，可以访问 VS Code API 对象
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">                  const apiBaseUrl = &#x27;https://cnodejs.org/&#x27;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">                &lt;/script&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">                &lt;/head&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">              &lt;body&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">                  &lt;div id=&quot;root&quot;&gt;&lt;/div&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">                  &lt;script nonce=&quot;</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>nonce<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">&quot; src=&quot;</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>scriptUri<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">&quot;&gt;&lt;/script&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">              &lt;/body&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">	&lt;/html&gt;</span><span class="token string template-punctuation">`</span></span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>上述代码采用面向对象的方式实现一个 <code>SidebarProvider</code>类，根据 <code>vscode.WebviewViewProvider</code>， 其实实现所有的 <code>WebviewViewProvider</code> 都是是这段代码，其他代码都是相同的，因为关于 webview 中的 HTML 我们都可以使用 js 来生成，这不正是我们的单页面应用开发吗？</p><p>上述代码中， <strong>Nonce</strong>是一个在加密通信只能使用一次的数字。在认证协议中，它往往是一个随机或伪随机数，以避免重放攻击。Nonce 也用于流密码以确保安全。如果需要使用相同的密钥加密一个以上的消息，就需要 Nonce 来确保不同的消息与该密钥加密的密钥流不同。 所以我们直接拷贝<a target="_blank" rel="noopener noreferrer" href="https://github.com/microsoft/vscode-extension-samples/blob/main/webview-sample/src/extension.ts">官方 demo</a> 中的代码。</p><div class="relative"><pre><code class="code-highlight language-js"><span class="code-line"><span class="token comment">//  生成特定随机数</span>
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">getNonce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">let</span> text <span class="token operator">=</span> <span class="token string">&#x27;&#x27;</span>
</span><span class="code-line">  <span class="token keyword">const</span> possible <span class="token operator">=</span> <span class="token string">&#x27;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789&#x27;</span>
</span><span class="code-line">  <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">32</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    text <span class="token operator">+=</span> possible<span class="token punctuation">.</span><span class="token property-access function method">charAt</span><span class="token punctuation">(</span><span class="token class-name known-class-name">Math</span><span class="token punctuation">.</span><span class="token property-access function method">floor</span><span class="token punctuation">(</span><span class="token class-name known-class-name">Math</span><span class="token punctuation">.</span><span class="token property-access function method">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> possible<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token keyword control-flow">return</span> text
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><h2 id="实现侧边视图"><a href="#实现侧边视图" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>实现侧边视图</h2><p>CNode 提供了允许跨域的 <a target="_blank" rel="noopener noreferrer" href="https://cnodejs.org/api">API</a>，我们可以在 js 中直接调用，如果你也想开发类似的功能请在 HTTP headers 中加入</p><div class="relative"><pre><code class="code-highlight"><span class="code-line">Access-Control-Allow-Origin: *
</span></code></pre></div><h3 id="配置-webpack-config"><a href="#配置-webpack-config" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>配置 webpack config</h3><p>在原先 <code>webpack.config.js</code> 中加入打包 React 的没配置，webpack5 支持多份 config 配置。</p><div class="relative"><pre><code class="code-highlight language-js"><span class="code-line"><span class="token keyword">const</span> viewConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property literal-property">entry</span><span class="token operator">:</span> <span class="token string">&#x27;./view/index.tsx&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property literal-property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property literal-property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token property-access function method">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#x27;build&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property literal-property">filename</span><span class="token operator">:</span> <span class="token string">&#x27;static/js/[name].js&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property literal-property">mode</span><span class="token operator">:</span> <span class="token string">&#x27;production&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property literal-property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">miniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property literal-property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property literal-property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">      <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token property literal-property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token language-regex regex-source"><span class="token escape special-escape">\.</span><span class="token punctuation group">(</span>ts<span class="token keyword alternation">|</span>tsx<span class="token punctuation group">)</span><span class="token function anchor">$</span></span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property literal-property">loader</span><span class="token operator">:</span> <span class="token string">&#x27;ts-loader&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property literal-property">exclude</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;/node_modules/&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token property literal-property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token language-regex regex-source"><span class="token escape special-escape">\.</span>css<span class="token function anchor">$</span></span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property literal-property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>miniCssExtractPlugin<span class="token punctuation">.</span><span class="token property-access">loader</span><span class="token punctuation">,</span> <span class="token string">&#x27;css-loader&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property literal-property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property literal-property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;.ts&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;.tsx&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> <span class="token punctuation">[</span>extensionConfig<span class="token punctuation">,</span> viewConfig<span class="token punctuation">]</span>
</span></code></pre></div><p>然后启动调试的时候，webpack 就会自动打包了；</p><p><strong>注意</strong> 这里的 <code>mode</code> 必须设置为 <code>production</code>，webpack <code>development</code> 模式会使用 <code>eval</code> 来执行代码，而 <code>eval</code> 在 VS Code webview 不允许执行。</p><h3 id="配置-tailwindcss"><a href="#配置-tailwindcss" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>配置 tailwindcss</h3><p>为了方便,我这边使用了 tailwindcss，因为我可以使用 <a target="_blank" rel="noopener noreferrer" href="https://github.com/tailwindlabs/tailwindcss-typography">tailwindcss-typography</a> 这个插件，帮我生成漂亮的文章类型排版。</p><div class="relative"><pre><code class="code-highlight"><span class="code-line">yarn add tailwindcss @tailwindcss/typography autoprefixer
</span></code></pre></div><p>使用命令初始化 tailwindcss config</p><div class="relative"><pre><code class="code-highlight"><span class="code-line">npx tailwindcss init
</span></code></pre></div><div class="relative"><pre><code class="code-highlight language-js"><span class="code-line">module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property literal-property">mode</span><span class="token operator">:</span> <span class="token string">&#x27;jit&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property literal-property">purge</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;./view/**/*.tsx&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property literal-property">darkMode</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// or &#x27;media&#x27; or &#x27;class&#x27;</span>
</span><span class="code-line">  <span class="token property literal-property">theme</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property literal-property">extend</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property literal-property">variants</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property literal-property">extend</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property literal-property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;@tailwindcss/typography&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>mode <code>jit</code> 是及时编译模式 tailwindcss 2.1 版本加的，忽略掉我们不需要的 css 代码。</p><p>生成文章页面的样式</p><div class="relative"><pre><code class="code-highlight language-css"><span class="code-line"><span class="token selector"><span class="token class">.markdown-preview</span></span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token atrule"><span class="token rule">@apply</span> prose prose-lg max-w-full bg-white p-20<span class="token punctuation">;</span></span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><h3 id="使用-react-来实现主题列表"><a href="#使用-react-来实现主题列表" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>使用 React 来实现主题列表</h3><p>使用 react 实现一个列表的代码我这边就不叙述了，跟我们平常写业务没什么区别，最主要的是 <strong>数据通信</strong>，当我们点击主题列表，右边要打开一个新的 webview 页面</p><div class="relative"><pre><code class="code-highlight language-jsx"><span class="code-line"><span class="token keyword">const</span> <span class="token function function-variable">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token property literal-property">item</span><span class="token operator">:</span> <span class="token maybe-class-name">Topic</span></span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token function">setCurrent</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  tsvscode<span class="token punctuation">.</span><span class="token property-access function method">postMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token property literal-property">type</span><span class="token operator">:</span> <span class="token string">&#x27;detail&#x27;</span><span class="token punctuation">,</span> <span class="token property literal-property">value</span><span class="token operator">:</span> item <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>根据官方<a target="_blank" rel="noopener noreferrer" href="https://code.visualstudio.com/api/extension-guides/webview#passing-messages-from-a-webview-to-an-extension">例子</a></p><p><img alt="scripts-webview_to_extension.gif" src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cf28024a81884adc91fd6620067f7459~tplv-k3u1fbpfcp-watermark.image?"/></p><p>Webviews 还可以将消息传递回它们的扩展。这是通过在 webview 中的特殊 VS Code API 对象上使用 <code>postMessage</code> 函数来实现的。要访问 VS Code API 对象，就要在 webview 中调用 <code>acquireVsCodeApi</code>函数。</p><p>定义 TS 全局对象</p><div class="relative"><pre><code class="code-highlight language-js"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token operator">*</span> <span class="token keyword module">as</span> _vscode</span> <span class="token keyword module">from</span> <span class="token string">&quot;vscode&quot;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">declare global <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token property literal-property">tsvscode</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function function-variable">postMessage</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> <span class="token property literal-property">type</span><span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token property literal-property">value</span><span class="token operator">:</span> any <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function function-variable">getState</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> any<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function function-variable">setState</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token property literal-property">state</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token property literal-property">apiBaseUrl</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>接着就可以在 <code>vs-sidebar-view</code> 接收数据了</p><div class="relative"><pre><code class="code-highlight language-js"><span class="code-line">webviewView<span class="token punctuation">.</span><span class="token property-access">webview</span><span class="token punctuation">.</span><span class="token property-access function method">onDidReceiveMessage</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword control-flow">switch</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token property-access">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">case</span> <span class="token string">&#x27;detail&#x27;</span><span class="token operator">:</span>
</span><span class="code-line">      <span class="token function">createPreviewPanel</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">_extensionUri</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span>
</span><span class="code-line">      <span class="token keyword control-flow">break</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword module">default</span><span class="token operator">:</span>
</span><span class="code-line">      <span class="token keyword control-flow">break</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></code></pre></div><p>实收到数据后可以就可以打开一个预览页面了</p><h2 id="预览页面实现"><a href="#预览页面实现" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>预览页面实现</h2><div class="relative"><pre><code class="code-highlight language-js"><span class="code-line"><span class="token keyword">function</span> <span class="token function">createPreviewPanel</span><span class="token punctuation">(</span><span class="token parameter"><span class="token property literal-property">topic</span><span class="token operator">:</span> <span class="token maybe-class-name">Topic</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token comment">// 创建一个新的 panel.</span>
</span><span class="code-line">  <span class="token keyword">const</span> panel <span class="token operator">=</span> vscode<span class="token punctuation">.</span><span class="token property-access">window</span><span class="token punctuation">.</span><span class="token property-access function method">createWebviewPanel</span><span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token string">&#x27;cnode-preview&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&#x27;CNODE 技术社区&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    column <span class="token operator">||</span> vscode<span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">ViewColumn</span></span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">One</span></span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token comment">// 在 webview 允许脚本</span>
</span><span class="code-line">      <span class="token property literal-property">enableScripts</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token comment">// 限制 从 media 文件夹加载资源</span>
</span><span class="code-line">      <span class="token property literal-property">localResourceRoots</span><span class="token operator">:</span> <span class="token punctuation">[</span>vscode<span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Uri</span></span><span class="token punctuation">.</span><span class="token property-access function method">joinPath</span><span class="token punctuation">(</span>extensionUri<span class="token punctuation">,</span> <span class="token string">&#x27;build&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  panel<span class="token punctuation">.</span><span class="token property-access">webview</span><span class="token punctuation">.</span><span class="token property-access">html</span> <span class="token operator">=</span> <span class="token function">_getHtmlForWebview</span><span class="token punctuation">(</span>panel<span class="token punctuation">.</span><span class="token property-access">webview</span><span class="token punctuation">,</span> topic<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>可以使用 内置方法 <code>vscode.window.createWebviewPanel</code> 创建一个新的面板，并且接收主题数据。 <code>_getHtmlForWebview</code> 与 SidebarProvider 中的 <code>_getHtmlForWebview</code> 一致，返回 HTML 即可。</p><h2 id="避免重复创建预览页"><a href="#避免重复创建预览页" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>避免重复创建预览页</h2><p>当然也可以通过 postMessage 传递属性</p><p><strong>extension 端</strong></p><div class="relative"><pre><code class="code-highlight"><span class="code-line">panel.webview.postMessage({text: &#x27;hello&#x27;});
</span></code></pre></div><p><strong>webview 端</strong></p><div class="relative"><pre><code class="code-highlight"><span class="code-line">window.addEventListener(&#x27;message&#x27;, event =&gt; {
</span><span class="code-line">    const message = event.data;
</span><span class="code-line">    console.log(&#x27;Webview接收到的消息：&#x27;, message);
</span><span class="code-line">}
</span></code></pre></div><h2 id="主题适配"><a href="#主题适配" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>主题适配</h2><p>VS Code 将主题分为三类，并在 body 元素中添加一个 class 来指示当前主题:</p><div class="relative"><pre><code class="code-highlight language-css"><span class="code-line"><span class="token selector">body<span class="token class">.vscode-light</span></span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">black</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token selector">body<span class="token class">.vscode-dark</span></span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">white</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token selector">body<span class="token class">.vscode-high-contrast</span></span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">red</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>Webviews 还可以使用 CSS 变量访问 VS Code <a target="_blank" rel="noopener noreferrer" href="https://code.visualstudio.com/api/references/theme-color">主题颜色</a>。这些变量名以 vscode 作为前缀，并用-替换.。例如 editor.foreground 变为 var (--vscode-editor-foreground)。</p><p>查看可用主题变量的<a target="_blank" rel="noopener noreferrer" href="https://code.visualstudio.com/api/references/theme-color">主题颜色参考</a>。还有一个<a target="_blank" rel="noopener noreferrer" href="https://marketplace.visualstudio.com/items?itemName=connor4312.css-theme-completions">扩展</a>可以为变量提供智能建议。</p><h2 id="调试"><a href="#调试" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>调试</h2><p>要调试 Webview 不能直接把 VSCode 的开发者工具打开，直接打开你只能看到一个<code>&lt;webview&gt;&lt;/webview&gt;</code>标签，看不到代码，要看代码需要按下<code>Ctrl+Shift+P</code>然后执行<code>打开Webview开发工具</code>，英文版应该是<code>Open Webview Developer Tools</code>：</p><p><img alt="image.png" src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3c22a746497f4ef28318f9fd04c5e82d~tplv-k3u1fbpfcp-watermark.image?"/></p><p>从上图也可以看的 在 html 标签上注入了当前皮肤的 css 变量。</p><h2 id="状态保持"><a href="#状态保持" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>状态保持</h2><p>与浏览器标签不一样的是，当 webview 移动到后台又再次显示时，webview 中的任何状态都将丢失。因为 webview 是基于 iframe 实现的。</p><p>解决此问题的最佳方法是使你的 webview 无状态，通过消息传递来保存 webview 的状态。</p><h3 id="state"><a href="#state" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a> state</h3><p>在 webview 的 js 中我们可以使用<code>vscode.getState()</code>和<code>vscode.setState()</code>方法来保存和恢复 JSON 可序列化状态对象。当 webview 被隐藏时，即使 webview 内容本身被破坏，这些状态仍然会保存。当然了，当 webview 被销毁时，状态将被销毁。</p><h3 id="序列化"><a href="#序列化" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>序列化</h3><p>通过注册<code>WebviewPanelSerializer</code>可以实现在<code>VScode</code>重启后自动恢复你的<code>webview</code>，当然，序列化其实也是建立在<code>getState</code>和<code>setState</code>之上的。</p><p>注册方法：<code>vscode.window.registerWebviewPanelSerializer</code></p><h3 id="retaincontextwhenhidden"><a href="#retaincontextwhenhidden" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a> retainContextWhenHidden</h3><p>对于具有非常复杂的 UI 或状态且无法快速保存和恢复的<code>webview</code>，我们可以直接使用<code>retainContextWhenHidden</code>选项。设置<code>retainContextWhenHidden: true</code>后即使 webview 被隐藏到后台其状态也不会丢失。</p><p>尽管<code>retainContextWhenHidden</code>很有吸引力，但它需要很高的内存开销，一般建议在实在没办法的时候才启用。</p><p><code>getState</code>和<code>setState</code>是持久化的首选方式，因为它们的性能开销要比<code>retainContextWhenHidden</code>低得多。</p><h2 id="发布"><a href="#发布" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>发布</h2><p>关于发布可以看我的上一篇 <a target="_blank" rel="noopener noreferrer" href="http://juejin.cn/post/7030250953215311908">一起来写 VS Code 插件:为你的团队提供常用代码片段</a></p><h2 id="小结"><a href="#小结" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>小结</h2><p>本篇通过实现 VS Code 版 CNode 来帮我们熟悉 webview 的 api，当然还可以增加评论系统，创建主题，基于用户系统可以实现点赞收藏等。</p><p>开发更复杂的功能，只缺你的想象力。例如：</p><ol><li><p><a target="_blank" rel="noopener noreferrer" href="https://zhuanlan.zhihu.com/p/166683895">韭菜盒子，做最好用的股票和基金插件</a></p></li><li><p><a target="_blank" rel="noopener noreferrer" href="https://marketplace.visualstudio.com/items?itemName=Thinker.create-app&amp;ssr=false#overview">create-app 可视化 CLI 工具</a></p></li></ol><p><strong>最后</strong></p><p>附上本插件的<a target="_blank" rel="noopener noreferrer" href="https://marketplace.visualstudio.com/items?itemName=maqi1520.CNODE">下载地址</a>和<a target="_blank" rel="noopener noreferrer" href="https://github.com/maqi1520/vscode-extension-cnode">源码</a></p><p>同时 vscode extensions 开发门槛不高，欢迎大家尝试，或者将有意思的 extensions 推荐在评论区。</p><p>希望这篇文章对大家有所帮助，也可以参考我往期的文章或者在评论区交流你的想法和心得，欢迎一起探索前端。</p></div><div class="border-t border-gray-200 pt-6 pb-6 text-sm text-gray-700 dark:border-gray-700 dark:text-gray-300"><div class="mb-3"><img alt="runjs-cool" width="384" height="140" src="/static/images/runjs-cool.webp"/></div><span>关注微信公众号，获取最新原创文章（首发）</span><a target="_blank" rel="noopener noreferrer" href="https://github.com/balac2015/blob/main/data/blog/vscoe-extension-CNode-has-been-launched.md">View on GitHub</a></div><div id="comment"></div></div><footer><div class="divide-gray-200 text-sm font-medium leading-5 dark:divide-gray-700 xl:col-start-1 xl:row-start-2 xl:divide-y"><div class="py-4 xl:py-8"><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">标签</h2><div class="mt-3 flex flex-wrap"><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/%E5%89%8D%E7%AB%AF">前端</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/visual-studio-code">Visual-Studio-Code</a></div></div><div class="flex justify-between py-4 xl:block xl:space-y-8 xl:py-8"><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">上一篇 文章</h2><div class="mt-3 text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/Implement-a-vscode-translation-extension">一起来写 VS Code 插件：实现一个翻译插件</a></div></div><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">下一篇 文章</h2><div class="mt-3 text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/React-and-NodeJS-Full-stack-project">使用 React 和 NodeJS 创建一个全栈项目</a></div></div></div></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog">← 返回文章列表</a></div></footer></div></div></article></div></main></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var d=Object.create;var i=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var t=a=\u003ei(a,\"__esModule\",{value:!0});var k=(a,s)=\u003e()=\u003e(s||a((s={exports:{}}).exports,s),s.exports),g=(a,s)=\u003e{for(var c in s)i(a,c,{get:s[c],enumerable:!0})},o=(a,s,c,n)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let l of m(s))!u.call(a,l)\u0026\u0026(c||l!==\"default\")\u0026\u0026i(a,l,{get:()=\u003es[l],enumerable:!(n=h(s,l))||n.enumerable});return a},w=(a,s)=\u003eo(t(i(a!=null?d(N(a)):{},\"default\",!s\u0026\u0026a\u0026\u0026a.__esModule?{get:()=\u003ea.default,enumerable:!0}:{value:a,enumerable:!0})),a),y=(a=\u003e(s,c)=\u003ea\u0026\u0026a.get(s)||(c=o(t({}),s,1),a\u0026\u0026a.set(s,c),c))(typeof WeakMap!=\"undefined\"?new WeakMap:0);var p=k((C,r)=\u003e{r.exports=_jsx_runtime});var x={};g(x,{default:()=\u003ef,frontmatter:()=\u003ev});var e=w(p()),v={title:\"\\u4E00\\u8D77\\u6765\\u5199 VS Code \\u63D2\\u4EF6\\uFF1AVS Code \\u7248 CNode \\u5DF2\\u4E0A\\u7EBF\",date:\"2021/11/23\",lastmod:\"2021/11/23\",tags:[\"\\u524D\\u7AEF\",\"Visual Studio Code\"],draft:!1,summary:\"CNode\\xA0\\u793E\\u533A\\u4E3A\\u56FD\\u5185\\u6700\\u4E13\\u4E1A\\u7684 Node.js \\u5F00\\u6E90\\u6280\\u672F\\u793E\\u533A\\uFF0C\\u81F4\\u529B\\u4E8E Node.js \\u7684\\u6280\\u672F\\u7814\\u7A76\\u3002\\u672C\\u7BC7\\u5C06\\u901A\\u8FC7\\u5B9E\\u73B0 VS Code \\u7248 CNode\\uFF0C \\u6765\\u5E26\\u9886\\u5927\\u5BB6\\u4E00\\u8D77\\u719F\\u6089 VSCode Webview\\u3002\",images:[\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8445f5813cb041998924400c705fd6b3~tplv-k3u1fbpfcp-watermark.image?\"],authors:[\"default\"],layout:\"PostLayout\"};function b(a={}){let{wrapper:s}=a.components||{};return s?(0,e.jsx)(s,Object.assign({},a,{children:(0,e.jsx)(c,{})})):c();function c(){let n=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",p:\"p\",ol:\"ol\",li:\"li\",strong:\"strong\",img:\"img\",pre:\"pre\",code:\"code\",h3:\"h3\"},a.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h2,{id:\"\\u524D\\u8A00\",children:[(0,e.jsx)(n.a,{href:\"#\\u524D\\u8A00\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u524D\\u8A00\"]}),(0,e.jsx)(n.p,{children:\"\\u672C\\u7BC7\\u662F VS Code \\u63D2\\u4EF6\\u5F00\\u53D1\\u5B9E\\u6218\\u7CFB\\u5217\\u7B2C\\u4E09\\u7BC7\\uFF0C\\u524D\\u9762\\u4E24\\u7BC7\\u662F\"}),(0,e.jsxs)(n.ol,{children:[(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://juejin.cn/post/7030250953215311908\",children:\"\\u300A\\u4E00\\u8D77\\u6765\\u5199 VS Code \\u63D2\\u4EF6\\uFF1A\\u4E3A\\u4F60\\u7684\\u56E2\\u961F\\u63D0\\u4F9B\\u5E38\\u7528\\u4EE3\\u7801\\u7247\\u6BB5\\u300B\"})}),(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://juejin.cn/post/7031878482367873037\",children:\"\\u300A\\u4E00\\u8D77\\u6765\\u5199 VS Code \\u63D2\\u4EF6\\uFF1A\\u5B9E\\u73B0\\u4E00\\u4E2A\\u7FFB\\u8BD1\\u63D2\\u4EF6\\u300B\"})})]}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"CNode\"}),\"\\xA0 \\u793E\\u533A\\u4E3A\\u56FD\\u5185\\u6700\\u4E13\\u4E1A\\u7684 Node.js \\u5F00\\u6E90\\u6280\\u672F\\u793E\\u533A\\uFF0C\\u81F4\\u529B\\u4E8E Node.js \\u7684\\u6280\\u672F\\u7814\\u7A76\\u3002\\u672C\\u7BC7\\u5C06\\u901A\\u8FC7\\u5B9E\\u73B0 VS Code \\u7248 CNode\\uFF0C \\u6765\\u5E26\\u9886\\u5927\\u5BB6\\u4E00\\u8D77\\u719F\\u6089 VSCode Webview \\u5F3A\\u5927\\u7684\\u529F\\u80FD\\u3002\\u5728\\u5F00\\u59CB\\u4E4B\\u524D\\uFF0C\\u6211\\u4EEC\\u5148\\u53C2\\u8003 \",(0,e.jsx)(n.a,{href:\"https://code.visualstudio.com/api/extension-guides/webview\",children:\"\\u5B98\\u7F51\\u5173\\u4E8E webview\"}),\" \\u7684\\u4ECB\\u7ECD\\u3002Webview API \\u5141\\u8BB8\\u6269\\u5C55\\u5728 visualstudio \\u4EE3\\u7801\\u4E2D\\u521B\\u5EFA\\u5B8C\\u5168\\u53EF\\u5B9A\\u5236\\u7684\\u89C6\\u56FE\\uFF0C\\u53EF\\u4EE5\\u5C06 webview \\u770B\\u4F5C\\u662F VS Code \\u4E2D\\u7684 iframe\\u3002\"]}),(0,e.jsx)(n.p,{children:\"\\u6211\\u4EEC\\u53EF\\u4EE5\\u901A\\u8FC7\\u7F51\\u9875\\u5C06\\u4E8B\\u4EF6\\u6D88\\u606F\\u4F20\\u9012\\u7ED9\\u6211\\u4EEC\\u7684\\u670D\\u52A1\\u7AEF(\\u5305\\u62EC NodeJS)\\uFF0C \\u670D\\u52A1\\u7AEF\\u5904\\u7406\\u5B8C\\u540E\\u53EF\\u4EE5\\u628A\\u6D88\\u606F\\u6570\\u636E\\u4F20\\u9012\\u7ED9\\u7F51\\u9875\\u3002\\u56E0\\u6B64\\u6211\\u4EEC\\u80FD\\u5728 extensions \\u4E2D\\u5F00\\u53D1\\u51FA\\u8DDF\\u7F51\\u9875\\u4E00\\u6837\\u7684\\u5185\\u5BB9\\uFF0C\\u4F46\\u5B9E\\u73B0\\u8FDC\\u6BD4\\u7F51\\u9875\\u66F4\\u5F3A\\u5927\\u7684\\u529F\\u80FD\\u3002\"}),(0,e.jsxs)(n.h2,{id:\"\\u6548\\u679C\",children:[(0,e.jsx)(n.a,{href:\"#\\u6548\\u679C\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u6548\\u679C\"]}),(0,e.jsx)(n.p,{children:\"\\u9996\\u5148\\u6765\\u770B\\u4E0B\\u5B9E\\u73B0\\u7684\\u6548\\u679C\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"nn.gif.gif\",src:\"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8a392349e6bf42b794853a2ec4c5c160~tplv-k3u1fbpfcp-watermark.image?\"})}),(0,e.jsx)(n.p,{children:\"\\u4E3B\\u8981\\u5206\\u4E3A 2 \\u90E8\\u5206\\uFF0C\\u5DE6\\u4FA7\\u662F\\u4E3B\\u9898\\u5217\\u8868\\uFF0C\\u53F3\\u4FA7\\u662F\\u4E3B\\u9898\\u8BE6\\u60C5\\u3002\"}),(0,e.jsxs)(n.h2,{id:\"\\u521D\\u59CB\\u5316\\u9879\\u76EE\",children:[(0,e.jsx)(n.a,{href:\"#\\u521D\\u59CB\\u5316\\u9879\\u76EE\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u521D\\u59CB\\u5316\\u9879\\u76EE\"]}),(0,e.jsx)(n.p,{children:\"\\u9996\\u5148\\u901A\\u8FC7\\u811A\\u624B\\u67B6\\u521D\\u59CB\\u5316\\u4E00\\u4E2A typescript + webpack \\u7684\\u5DE5\\u7A0B\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"image.png\",src:\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/de48d3e27a014f00b09f5a7449ae11f5~tplv-k3u1fbpfcp-watermark.image?\"})}),(0,e.jsxs)(n.h2,{id:\"\\u914D\\u7F6E\\u5DE6\\u4FA7\\u5BFC\\u822A\\u56FE\\u6807\",children:[(0,e.jsx)(n.a,{href:\"#\\u914D\\u7F6E\\u5DE6\\u4FA7\\u5BFC\\u822A\\u56FE\\u6807\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u914D\\u7F6E\\u5DE6\\u4FA7\\u5BFC\\u822A\\u56FE\\u6807\"]}),(0,e.jsx)(n.pre,{className:\"language-json\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-json\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\" \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"icon\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"icon.png\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"activationEvents\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"onView:vs-sidebar-view\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"contributes\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"viewsContainers\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"activitybar\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"id\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"vs-sidebar-view\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"title\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"CNODE \\u793E\\u533A\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"icon\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"media/cnode_icon_64.png\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"views\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"vs-sidebar-view\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"type\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"webview\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"id\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"vs-sidebar-view\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"name\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"Topic \\u5217\\u8868\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"icon\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"media/cnode_icon_64.png\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"contextualTitle\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"Topic \\u5217\\u8868\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  ...\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`})]})}),(0,e.jsx)(n.p,{children:\"views \\u662F\\u914D\\u7F6E\\u89C6\\u56FE\\u5217\\u8868,activitybar \\u662F\\u5B9A\\u4E49\\u4E0B\\u663E\\u793A\\u5728\\u4FA7\\u8FB9\\u5BFC\\u822A\\u4E0A\\u7684\\u89C6\\u56FE\\u3002\"}),(0,e.jsxs)(n.h3,{id:\"\\u6CE8\\u518C\\u4E00\\u4E2A\\u4FA7\\u8FB9\\u680F\",children:[(0,e.jsx)(n.a,{href:\"#\\u6CE8\\u518C\\u4E00\\u4E2A\\u4FA7\\u8FB9\\u680F\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u6CE8\\u518C\\u4E00\\u4E2A\\u4FA7\\u8FB9\\u680F\"]}),(0,e.jsxs)(n.p,{children:[\"\\u5728 extension.ts \\u4E2D\\u6CE8\\u518C\\u4E00\\u4E2A \\u4E0E package.json \\u5BF9\\u5E94\\u7684 \",(0,e.jsx)(n.code,{children:\"vs-sidebar-view\"}),\"\\u4FA7\\u8FB9\\u680F ID\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-js\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsxs)(n.span,{className:\"token imports\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"as\"}),\" vscode\"]}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'vscode'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsxs)(n.span,{className:\"token imports\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"SidebarProvider\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'./SidebarProvider'\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"activate\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"context\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" vscode\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ExtensionContext\"})})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" sidebarPanel \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"SidebarProvider\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"context\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"extensionUri\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  context\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"subscriptions\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"push\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    vscode\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"window\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"registerWebviewViewProvider\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'vs-sidebar-view'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" sidebarPanel\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"\\u5B9E\\u73B0\\u4FA7\\u8FB9\\u680F\",children:[(0,e.jsx)(n.a,{href:\"#\\u5B9E\\u73B0\\u4FA7\\u8FB9\\u680F\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5B9E\\u73B0\\u4FA7\\u8FB9\\u680F\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-js\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsxs)(n.span,{className:\"token imports\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"as\"}),\" vscode\"]}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"vscode\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsxs)(n.span,{className:\"token imports\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" getNonce \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"./getNonce\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"SidebarProvider\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"implements\"}),\" \",(0,e.jsxs)(n.span,{className:\"token class-name\",children:[\"vscode\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"WebviewViewProvider\"]}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  _view\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" vscode\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"WebviewView\"})}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  _doc\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" vscode\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"TextDocument\"})}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token function\",children:\"constructor\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"private\"}),\" readonly _extensionUri\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" vscode\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Uri\"})})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"resolveWebviewView\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"webviewView\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" vscode\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"WebviewView\"})})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"_view\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" webviewView\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    webviewView\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"webview\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"options\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u5728 webview \\u5141\\u8BB8\\u811A\\u672C\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"enableScripts\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"localResourceRoots\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"_extensionUri\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    webviewView\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"webview\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"html\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"_getHtmlForWebview\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"webviewView\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"webview\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"revive\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"panel\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" vscode\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"WebviewView\"})})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"_view\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" panel\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"private\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"_getHtmlForWebview\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"webview\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" vscode\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Webview\"})})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" scriptUri \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" webview\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"asWebviewUri\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      vscode\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Uri\"})}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"joinPath\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"_extensionUri\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"build\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"static/js/main.js\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" styleMainUri \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" webview\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"asWebviewUri\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      vscode\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Uri\"})}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"joinPath\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"_extensionUri\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"build\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"main.css\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// Use a nonce to \\u53EA\\u5141\\u8BB8\\u7279\\u5B9A\\u811A\\u672C\\u8FD0\\u884C.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" nonce \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"getNonce\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,e.jsx)(n.span,{className:\"token string\",children:`\u003c!DOCTYPE html\u003e\n`})]})]}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsx)(n.span,{className:\"token string\",children:`\t\t\u003chtml lang=\"en\"\u003e\n`})})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsx)(n.span,{className:\"token string\",children:`\t\t\u003chead\u003e\n`})})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsx)(n.span,{className:\"token string\",children:`\t\t\u003cmeta charset=\"UTF-8\"\u003e\n`})})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token string\",children:`                \u003cmeta http-equiv=\"Content-Security-Policy\" content=\"img-src https: data:; style-src 'unsafe-inline' `}),(0,e.jsxs)(n.span,{className:\"token interpolation\",children:[(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"webview\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"cspSource\"}),(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token string\",children:\"; script-src 'nonce-\"}),(0,e.jsxs)(n.span,{className:\"token interpolation\",children:[(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"nonce\",(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token string\",children:`';\"\u003e\n`})]})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsx)(n.span,{className:\"token string\",children:`\t\t\u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e\n`})})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token string\",children:'\t\t\u003clink href=\"'}),(0,e.jsxs)(n.span,{className:\"token interpolation\",children:[(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"styleMainUri\",(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token string\",children:`\" rel=\"stylesheet\"\u003e\n`})]})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token string\",children:'                \u003cscript nonce=\"'}),(0,e.jsxs)(n.span,{className:\"token interpolation\",children:[(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"nonce\",(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token string\",children:`\"\u003e\n`})]})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsx)(n.span,{className:\"token string\",children:`                  const tsvscode = acquireVsCodeApi(); //\\u5185\\u7F6E\\u51FD\\u6570\\uFF0C\\u53EF\\u4EE5\\u8BBF\\u95EE VS Code API \\u5BF9\\u8C61\n`})})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsx)(n.span,{className:\"token string\",children:`                  const apiBaseUrl = 'https://cnodejs.org/'\n`})})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsx)(n.span,{className:\"token string\",children:`                \u003c\\/script\u003e\n`})})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsx)(n.span,{className:\"token string\",children:`                \u003c/head\u003e\n`})})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsx)(n.span,{className:\"token string\",children:`              \u003cbody\u003e\n`})})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsx)(n.span,{className:\"token string\",children:`                  \u003cdiv id=\"root\"\u003e\u003c/div\u003e\n`})})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token string\",children:'                  \u003cscript nonce=\"'}),(0,e.jsxs)(n.span,{className:\"token interpolation\",children:[(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"nonce\",(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token string\",children:'\" src=\"'}),(0,e.jsxs)(n.span,{className:\"token interpolation\",children:[(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"scriptUri\",(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token string\",children:`\"\u003e\u003c\\/script\u003e\n`})]})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsx)(n.span,{className:\"token string\",children:`              \u003c/body\u003e\n`})})}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token string\",children:\"\t\u003c/html\u003e\"}),(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\u4E0A\\u8FF0\\u4EE3\\u7801\\u91C7\\u7528\\u9762\\u5411\\u5BF9\\u8C61\\u7684\\u65B9\\u5F0F\\u5B9E\\u73B0\\u4E00\\u4E2A \",(0,e.jsx)(n.code,{children:\"SidebarProvider\"}),\"\\u7C7B\\uFF0C\\u6839\\u636E \",(0,e.jsx)(n.code,{children:\"vscode.WebviewViewProvider\"}),\"\\uFF0C \\u5176\\u5B9E\\u5B9E\\u73B0\\u6240\\u6709\\u7684 \",(0,e.jsx)(n.code,{children:\"WebviewViewProvider\"}),\" \\u90FD\\u662F\\u662F\\u8FD9\\u6BB5\\u4EE3\\u7801\\uFF0C\\u5176\\u4ED6\\u4EE3\\u7801\\u90FD\\u662F\\u76F8\\u540C\\u7684\\uFF0C\\u56E0\\u4E3A\\u5173\\u4E8E webview \\u4E2D\\u7684 HTML \\u6211\\u4EEC\\u90FD\\u53EF\\u4EE5\\u4F7F\\u7528 js \\u6765\\u751F\\u6210\\uFF0C\\u8FD9\\u4E0D\\u6B63\\u662F\\u6211\\u4EEC\\u7684\\u5355\\u9875\\u9762\\u5E94\\u7528\\u5F00\\u53D1\\u5417\\uFF1F\"]}),(0,e.jsxs)(n.p,{children:[\"\\u4E0A\\u8FF0\\u4EE3\\u7801\\u4E2D\\uFF0C \",(0,e.jsx)(n.strong,{children:\"Nonce\"}),\"\\u662F\\u4E00\\u4E2A\\u5728\\u52A0\\u5BC6\\u901A\\u4FE1\\u53EA\\u80FD\\u4F7F\\u7528\\u4E00\\u6B21\\u7684\\u6570\\u5B57\\u3002\\u5728\\u8BA4\\u8BC1\\u534F\\u8BAE\\u4E2D\\uFF0C\\u5B83\\u5F80\\u5F80\\u662F\\u4E00\\u4E2A\\u968F\\u673A\\u6216\\u4F2A\\u968F\\u673A\\u6570\\uFF0C\\u4EE5\\u907F\\u514D\\u91CD\\u653E\\u653B\\u51FB\\u3002Nonce \\u4E5F\\u7528\\u4E8E\\u6D41\\u5BC6\\u7801\\u4EE5\\u786E\\u4FDD\\u5B89\\u5168\\u3002\\u5982\\u679C\\u9700\\u8981\\u4F7F\\u7528\\u76F8\\u540C\\u7684\\u5BC6\\u94A5\\u52A0\\u5BC6\\u4E00\\u4E2A\\u4EE5\\u4E0A\\u7684\\u6D88\\u606F\\uFF0C\\u5C31\\u9700\\u8981 Nonce \\u6765\\u786E\\u4FDD\\u4E0D\\u540C\\u7684\\u6D88\\u606F\\u4E0E\\u8BE5\\u5BC6\\u94A5\\u52A0\\u5BC6\\u7684\\u5BC6\\u94A5\\u6D41\\u4E0D\\u540C\\u3002 \\u6240\\u4EE5\\u6211\\u4EEC\\u76F4\\u63A5\\u62F7\\u8D1D\",(0,e.jsx)(n.a,{href:\"https://github.com/microsoft/vscode-extension-samples/blob/main/webview-sample/src/extension.ts\",children:\"\\u5B98\\u65B9 demo\"}),\" \\u4E2D\\u7684\\u4EE3\\u7801\\u3002\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-js\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"//  \\u751F\\u6210\\u7279\\u5B9A\\u968F\\u673A\\u6570\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"getNonce\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" text \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"''\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" possible \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"for\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" i \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" i \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"32\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" i\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"++\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    text \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+=\"}),\" possible\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"charAt\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token class-name known-class-name\",children:\"Math\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"floor\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token class-name known-class-name\",children:\"Math\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"random\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" possible\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"length\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),` text\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.h2,{id:\"\\u5B9E\\u73B0\\u4FA7\\u8FB9\\u89C6\\u56FE\",children:[(0,e.jsx)(n.a,{href:\"#\\u5B9E\\u73B0\\u4FA7\\u8FB9\\u89C6\\u56FE\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5B9E\\u73B0\\u4FA7\\u8FB9\\u89C6\\u56FE\"]}),(0,e.jsxs)(n.p,{children:[\"CNode \\u63D0\\u4F9B\\u4E86\\u5141\\u8BB8\\u8DE8\\u57DF\\u7684 \",(0,e.jsx)(n.a,{href:\"https://cnodejs.org/api\",children:\"API\"}),\"\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u5728 js \\u4E2D\\u76F4\\u63A5\\u8C03\\u7528\\uFF0C\\u5982\\u679C\\u4F60\\u4E5F\\u60F3\\u5F00\\u53D1\\u7C7B\\u4F3C\\u7684\\u529F\\u80FD\\u8BF7\\u5728 HTTP headers \\u4E2D\\u52A0\\u5165\"]}),(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"code-highlight\",children:(0,e.jsx)(n.span,{className:\"code-line\",children:`Access-Control-Allow-Origin: *\n`})})}),(0,e.jsxs)(n.h3,{id:\"\\u914D\\u7F6E-webpack-config\",children:[(0,e.jsx)(n.a,{href:\"#\\u914D\\u7F6E-webpack-config\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u914D\\u7F6E webpack config\"]}),(0,e.jsxs)(n.p,{children:[\"\\u5728\\u539F\\u5148 \",(0,e.jsx)(n.code,{children:\"webpack.config.js\"}),\" \\u4E2D\\u52A0\\u5165\\u6253\\u5305 React \\u7684\\u6CA1\\u914D\\u7F6E\\uFF0Cwebpack5 \\u652F\\u6301\\u591A\\u4EFD config \\u914D\\u7F6E\\u3002\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-js\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" viewConfig \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"entry\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'./view/index.tsx'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"output\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"path\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" path\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"resolve\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"__dirname\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'build'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"filename\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'static/js/[name].js'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"mode\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'production'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"plugins\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"miniCssExtractPlugin\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"module\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"rules\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"test\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsxs)(n.span,{className:\"token regex\",children:[(0,e.jsx)(n.span,{className:\"token regex-delimiter\",children:\"/\"}),(0,e.jsxs)(n.span,{className:\"token language-regex regex-source\",children:[(0,e.jsx)(n.span,{className:\"token escape special-escape\",children:\"\\\\.\"}),(0,e.jsx)(n.span,{className:\"token punctuation group\",children:\"(\"}),\"ts\",(0,e.jsx)(n.span,{className:\"token keyword alternation\",children:\"|\"}),\"tsx\",(0,e.jsx)(n.span,{className:\"token punctuation group\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token function anchor\",children:\"$\"})]}),(0,e.jsx)(n.span,{className:\"token regex-delimiter\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token regex-flags\",children:\"i\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"loader\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'ts-loader'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"exclude\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'/node_modules/'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"test\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsxs)(n.span,{className:\"token regex\",children:[(0,e.jsx)(n.span,{className:\"token regex-delimiter\",children:\"/\"}),(0,e.jsxs)(n.span,{className:\"token language-regex regex-source\",children:[(0,e.jsx)(n.span,{className:\"token escape special-escape\",children:\"\\\\.\"}),\"css\",(0,e.jsx)(n.span,{className:\"token function anchor\",children:\"$\"})]}),(0,e.jsx)(n.span,{className:\"token regex-delimiter\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token regex-flags\",children:\"i\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"use\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"miniCssExtractPlugin\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"loader\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'css-loader'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'postcss-loader'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"resolve\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"extensions\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'.ts'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'.tsx'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"module\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"exports\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"extensionConfig\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" viewConfig\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\u7136\\u540E\\u542F\\u52A8\\u8C03\\u8BD5\\u7684\\u65F6\\u5019\\uFF0Cwebpack \\u5C31\\u4F1A\\u81EA\\u52A8\\u6253\\u5305\\u4E86\\uFF1B\"}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u6CE8\\u610F\"}),\" \\u8FD9\\u91CC\\u7684 \",(0,e.jsx)(n.code,{children:\"mode\"}),\" \\u5FC5\\u987B\\u8BBE\\u7F6E\\u4E3A \",(0,e.jsx)(n.code,{children:\"production\"}),\"\\uFF0Cwebpack \",(0,e.jsx)(n.code,{children:\"development\"}),\" \\u6A21\\u5F0F\\u4F1A\\u4F7F\\u7528 \",(0,e.jsx)(n.code,{children:\"eval\"}),\" \\u6765\\u6267\\u884C\\u4EE3\\u7801\\uFF0C\\u800C \",(0,e.jsx)(n.code,{children:\"eval\"}),\" \\u5728 VS Code webview \\u4E0D\\u5141\\u8BB8\\u6267\\u884C\\u3002\"]}),(0,e.jsxs)(n.h3,{id:\"\\u914D\\u7F6E-tailwindcss\",children:[(0,e.jsx)(n.a,{href:\"#\\u914D\\u7F6E-tailwindcss\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u914D\\u7F6E tailwindcss\"]}),(0,e.jsxs)(n.p,{children:[\"\\u4E3A\\u4E86\\u65B9\\u4FBF,\\u6211\\u8FD9\\u8FB9\\u4F7F\\u7528\\u4E86 tailwindcss\\uFF0C\\u56E0\\u4E3A\\u6211\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,e.jsx)(n.a,{href:\"https://github.com/tailwindlabs/tailwindcss-typography\",children:\"tailwindcss-typography\"}),\" \\u8FD9\\u4E2A\\u63D2\\u4EF6\\uFF0C\\u5E2E\\u6211\\u751F\\u6210\\u6F02\\u4EAE\\u7684\\u6587\\u7AE0\\u7C7B\\u578B\\u6392\\u7248\\u3002\"]}),(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"code-highlight\",children:(0,e.jsx)(n.span,{className:\"code-line\",children:`yarn add tailwindcss @tailwindcss/typography autoprefixer\n`})})}),(0,e.jsx)(n.p,{children:\"\\u4F7F\\u7528\\u547D\\u4EE4\\u521D\\u59CB\\u5316 tailwindcss config\"}),(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"code-highlight\",children:(0,e.jsx)(n.span,{className:\"code-line\",children:`npx tailwindcss init\n`})})}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-js\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"module\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"exports\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"mode\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'jit'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"purge\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'./view/**/*.tsx'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"darkMode\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// or 'media' or 'class'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"theme\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"extend\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"variants\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"extend\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"plugins\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"require\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'@tailwindcss/typography'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"mode \",(0,e.jsx)(n.code,{children:\"jit\"}),\" \\u662F\\u53CA\\u65F6\\u7F16\\u8BD1\\u6A21\\u5F0F tailwindcss 2.1 \\u7248\\u672C\\u52A0\\u7684\\uFF0C\\u5FFD\\u7565\\u6389\\u6211\\u4EEC\\u4E0D\\u9700\\u8981\\u7684 css \\u4EE3\\u7801\\u3002\"]}),(0,e.jsx)(n.p,{children:\"\\u751F\\u6210\\u6587\\u7AE0\\u9875\\u9762\\u7684\\u6837\\u5F0F\"}),(0,e.jsx)(n.pre,{className:\"language-css\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-css\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token selector\",children:(0,e.jsx)(n.span,{className:\"token class\",children:\".markdown-preview\"})}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsxs)(n.span,{className:\"token atrule\",children:[(0,e.jsx)(n.span,{className:\"token rule\",children:\"@apply\"}),\" prose prose-lg max-w-full bg-white p-20\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"})]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"\\u4F7F\\u7528-react-\\u6765\\u5B9E\\u73B0\\u4E3B\\u9898\\u5217\\u8868\",children:[(0,e.jsx)(n.a,{href:\"#\\u4F7F\\u7528-react-\\u6765\\u5B9E\\u73B0\\u4E3B\\u9898\\u5217\\u8868\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u4F7F\\u7528 React \\u6765\\u5B9E\\u73B0\\u4E3B\\u9898\\u5217\\u8868\"]}),(0,e.jsxs)(n.p,{children:[\"\\u4F7F\\u7528 react \\u5B9E\\u73B0\\u4E00\\u4E2A\\u5217\\u8868\\u7684\\u4EE3\\u7801\\u6211\\u8FD9\\u8FB9\\u5C31\\u4E0D\\u53D9\\u8FF0\\u4E86\\uFF0C\\u8DDF\\u6211\\u4EEC\\u5E73\\u5E38\\u5199\\u4E1A\\u52A1\\u6CA1\\u4EC0\\u4E48\\u533A\\u522B\\uFF0C\\u6700\\u4E3B\\u8981\\u7684\\u662F \",(0,e.jsx)(n.strong,{children:\"\\u6570\\u636E\\u901A\\u4FE1\"}),\"\\uFF0C\\u5F53\\u6211\\u4EEC\\u70B9\\u51FB\\u4E3B\\u9898\\u5217\\u8868\\uFF0C\\u53F3\\u8FB9\\u8981\\u6253\\u5F00\\u4E00\\u4E2A\\u65B0\\u7684 webview \\u9875\\u9762\"]}),(0,e.jsx)(n.pre,{className:\"language-jsx\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-jsx\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token function function-variable\",children:\"handleClick\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"item\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Topic\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token function\",children:\"setCurrent\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"item\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  tsvscode\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"postMessage\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'detail'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"value\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" item \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\u6839\\u636E\\u5B98\\u65B9\",(0,e.jsx)(n.a,{href:\"https://code.visualstudio.com/api/extension-guides/webview#passing-messages-from-a-webview-to-an-extension\",children:\"\\u4F8B\\u5B50\"})]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"scripts-webview_to_extension.gif\",src:\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cf28024a81884adc91fd6620067f7459~tplv-k3u1fbpfcp-watermark.image?\"})}),(0,e.jsxs)(n.p,{children:[\"Webviews \\u8FD8\\u53EF\\u4EE5\\u5C06\\u6D88\\u606F\\u4F20\\u9012\\u56DE\\u5B83\\u4EEC\\u7684\\u6269\\u5C55\\u3002\\u8FD9\\u662F\\u901A\\u8FC7\\u5728 webview \\u4E2D\\u7684\\u7279\\u6B8A VS Code API \\u5BF9\\u8C61\\u4E0A\\u4F7F\\u7528 \",(0,e.jsx)(n.code,{children:\"postMessage\"}),\" \\u51FD\\u6570\\u6765\\u5B9E\\u73B0\\u7684\\u3002\\u8981\\u8BBF\\u95EE VS Code API \\u5BF9\\u8C61\\uFF0C\\u5C31\\u8981\\u5728 webview \\u4E2D\\u8C03\\u7528 \",(0,e.jsx)(n.code,{children:\"acquireVsCodeApi\"}),\"\\u51FD\\u6570\\u3002\"]}),(0,e.jsx)(n.p,{children:\"\\u5B9A\\u4E49 TS \\u5168\\u5C40\\u5BF9\\u8C61\"}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-js\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsxs)(n.span,{className:\"token imports\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"as\"}),\" _vscode\"]}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"vscode\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"declare global \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"tsvscode\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token function function-variable\",children:\"postMessage\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" string\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"value\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" any \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"void\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token function function-variable\",children:\"getState\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" any\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token function function-variable\",children:\"setState\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"state\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" any\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"void\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"apiBaseUrl\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" string\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\u63A5\\u7740\\u5C31\\u53EF\\u4EE5\\u5728 \",(0,e.jsx)(n.code,{children:\"vs-sidebar-view\"}),\" \\u63A5\\u6536\\u6570\\u636E\\u4E86\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-js\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"webviewView\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"webview\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"onDidReceiveMessage\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"data\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"switch\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"case\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'detail'\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token function\",children:\"createPreviewPanel\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"_extensionUri\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"value\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"break\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"default\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"break\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\u5B9E\\u6536\\u5230\\u6570\\u636E\\u540E\\u53EF\\u4EE5\\u5C31\\u53EF\\u4EE5\\u6253\\u5F00\\u4E00\\u4E2A\\u9884\\u89C8\\u9875\\u9762\\u4E86\"}),(0,e.jsxs)(n.h2,{id:\"\\u9884\\u89C8\\u9875\\u9762\\u5B9E\\u73B0\",children:[(0,e.jsx)(n.a,{href:\"#\\u9884\\u89C8\\u9875\\u9762\\u5B9E\\u73B0\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u9884\\u89C8\\u9875\\u9762\\u5B9E\\u73B0\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-js\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"createPreviewPanel\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"topic\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Topic\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u521B\\u5EFA\\u4E00\\u4E2A\\u65B0\\u7684 panel.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" panel \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" vscode\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"window\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"createWebviewPanel\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'cnode-preview'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'CNODE \\u6280\\u672F\\u793E\\u533A'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    column \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"||\"}),\" vscode\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ViewColumn\"})}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"One\"})}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u5728 webview \\u5141\\u8BB8\\u811A\\u672C\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"enableScripts\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u9650\\u5236 \\u4ECE media \\u6587\\u4EF6\\u5939\\u52A0\\u8F7D\\u8D44\\u6E90\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"localResourceRoots\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"vscode\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Uri\"})}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"joinPath\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"extensionUri\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'build'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  panel\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"webview\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"html\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"_getHtmlForWebview\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"panel\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"webview\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" topic\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\u53EF\\u4EE5\\u4F7F\\u7528 \\u5185\\u7F6E\\u65B9\\u6CD5 \",(0,e.jsx)(n.code,{children:\"vscode.window.createWebviewPanel\"}),\" \\u521B\\u5EFA\\u4E00\\u4E2A\\u65B0\\u7684\\u9762\\u677F\\uFF0C\\u5E76\\u4E14\\u63A5\\u6536\\u4E3B\\u9898\\u6570\\u636E\\u3002 \",(0,e.jsx)(n.code,{children:\"_getHtmlForWebview\"}),\" \\u4E0E SidebarProvider \\u4E2D\\u7684 \",(0,e.jsx)(n.code,{children:\"_getHtmlForWebview\"}),\" \\u4E00\\u81F4\\uFF0C\\u8FD4\\u56DE HTML \\u5373\\u53EF\\u3002\"]}),(0,e.jsxs)(n.h2,{id:\"\\u907F\\u514D\\u91CD\\u590D\\u521B\\u5EFA\\u9884\\u89C8\\u9875\",children:[(0,e.jsx)(n.a,{href:\"#\\u907F\\u514D\\u91CD\\u590D\\u521B\\u5EFA\\u9884\\u89C8\\u9875\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u907F\\u514D\\u91CD\\u590D\\u521B\\u5EFA\\u9884\\u89C8\\u9875\"]}),(0,e.jsx)(n.p,{children:\"\\u5F53\\u7136\\u4E5F\\u53EF\\u4EE5\\u901A\\u8FC7 postMessage \\u4F20\\u9012\\u5C5E\\u6027\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"extension \\u7AEF\"})}),(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"code-highlight\",children:(0,e.jsx)(n.span,{className:\"code-line\",children:`panel.webview.postMessage({text: 'hello'});\n`})})}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"webview \\u7AEF\"})}),(0,e.jsx)(n.pre,{children:(0,e.jsxs)(n.code,{className:\"code-highlight\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`window.addEventListener('message', event =\u003e {\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    const message = event.data;\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    console.log('Webview\\u63A5\\u6536\\u5230\\u7684\\u6D88\\u606F\\uFF1A', message);\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`}\n`})]})}),(0,e.jsxs)(n.h2,{id:\"\\u4E3B\\u9898\\u9002\\u914D\",children:[(0,e.jsx)(n.a,{href:\"#\\u4E3B\\u9898\\u9002\\u914D\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u4E3B\\u9898\\u9002\\u914D\"]}),(0,e.jsx)(n.p,{children:\"VS Code \\u5C06\\u4E3B\\u9898\\u5206\\u4E3A\\u4E09\\u7C7B\\uFF0C\\u5E76\\u5728 body \\u5143\\u7D20\\u4E2D\\u6DFB\\u52A0\\u4E00\\u4E2A class \\u6765\\u6307\\u793A\\u5F53\\u524D\\u4E3B\\u9898:\"}),(0,e.jsx)(n.pre,{className:\"language-css\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-css\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token selector\",children:[\"body\",(0,e.jsx)(n.span,{className:\"token class\",children:\".vscode-light\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property\",children:\"color\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token color\",children:\"black\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token selector\",children:[\"body\",(0,e.jsx)(n.span,{className:\"token class\",children:\".vscode-dark\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property\",children:\"color\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token color\",children:\"white\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token selector\",children:[\"body\",(0,e.jsx)(n.span,{className:\"token class\",children:\".vscode-high-contrast\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property\",children:\"color\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token color\",children:\"red\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"Webviews \\u8FD8\\u53EF\\u4EE5\\u4F7F\\u7528 CSS \\u53D8\\u91CF\\u8BBF\\u95EE VS Code \",(0,e.jsx)(n.a,{href:\"https://code.visualstudio.com/api/references/theme-color\",children:\"\\u4E3B\\u9898\\u989C\\u8272\"}),\"\\u3002\\u8FD9\\u4E9B\\u53D8\\u91CF\\u540D\\u4EE5 vscode \\u4F5C\\u4E3A\\u524D\\u7F00\\uFF0C\\u5E76\\u7528-\\u66FF\\u6362.\\u3002\\u4F8B\\u5982 editor.foreground \\u53D8\\u4E3A var (--vscode-editor-foreground)\\u3002\"]}),(0,e.jsxs)(n.p,{children:[\"\\u67E5\\u770B\\u53EF\\u7528\\u4E3B\\u9898\\u53D8\\u91CF\\u7684\",(0,e.jsx)(n.a,{href:\"https://code.visualstudio.com/api/references/theme-color\",children:\"\\u4E3B\\u9898\\u989C\\u8272\\u53C2\\u8003\"}),\"\\u3002\\u8FD8\\u6709\\u4E00\\u4E2A\",(0,e.jsx)(n.a,{href:\"https://marketplace.visualstudio.com/items?itemName=connor4312.css-theme-completions\",children:\"\\u6269\\u5C55\"}),\"\\u53EF\\u4EE5\\u4E3A\\u53D8\\u91CF\\u63D0\\u4F9B\\u667A\\u80FD\\u5EFA\\u8BAE\\u3002\"]}),(0,e.jsxs)(n.h2,{id:\"\\u8C03\\u8BD5\",children:[(0,e.jsx)(n.a,{href:\"#\\u8C03\\u8BD5\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u8C03\\u8BD5\"]}),(0,e.jsxs)(n.p,{children:[\"\\u8981\\u8C03\\u8BD5 Webview \\u4E0D\\u80FD\\u76F4\\u63A5\\u628A VSCode \\u7684\\u5F00\\u53D1\\u8005\\u5DE5\\u5177\\u6253\\u5F00\\uFF0C\\u76F4\\u63A5\\u6253\\u5F00\\u4F60\\u53EA\\u80FD\\u770B\\u5230\\u4E00\\u4E2A\",(0,e.jsx)(n.code,{children:\"\u003cwebview\u003e\u003c/webview\u003e\"}),\"\\u6807\\u7B7E\\uFF0C\\u770B\\u4E0D\\u5230\\u4EE3\\u7801\\uFF0C\\u8981\\u770B\\u4EE3\\u7801\\u9700\\u8981\\u6309\\u4E0B\",(0,e.jsx)(n.code,{children:\"Ctrl+Shift+P\"}),\"\\u7136\\u540E\\u6267\\u884C\",(0,e.jsx)(n.code,{children:\"\\u6253\\u5F00Webview\\u5F00\\u53D1\\u5DE5\\u5177\"}),\"\\uFF0C\\u82F1\\u6587\\u7248\\u5E94\\u8BE5\\u662F\",(0,e.jsx)(n.code,{children:\"Open Webview Developer Tools\"}),\"\\uFF1A\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"image.png\",src:\"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3c22a746497f4ef28318f9fd04c5e82d~tplv-k3u1fbpfcp-watermark.image?\"})}),(0,e.jsx)(n.p,{children:\"\\u4ECE\\u4E0A\\u56FE\\u4E5F\\u53EF\\u4EE5\\u770B\\u7684 \\u5728 html \\u6807\\u7B7E\\u4E0A\\u6CE8\\u5165\\u4E86\\u5F53\\u524D\\u76AE\\u80A4\\u7684 css \\u53D8\\u91CF\\u3002\"}),(0,e.jsxs)(n.h2,{id:\"\\u72B6\\u6001\\u4FDD\\u6301\",children:[(0,e.jsx)(n.a,{href:\"#\\u72B6\\u6001\\u4FDD\\u6301\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u72B6\\u6001\\u4FDD\\u6301\"]}),(0,e.jsx)(n.p,{children:\"\\u4E0E\\u6D4F\\u89C8\\u5668\\u6807\\u7B7E\\u4E0D\\u4E00\\u6837\\u7684\\u662F\\uFF0C\\u5F53 webview \\u79FB\\u52A8\\u5230\\u540E\\u53F0\\u53C8\\u518D\\u6B21\\u663E\\u793A\\u65F6\\uFF0Cwebview \\u4E2D\\u7684\\u4EFB\\u4F55\\u72B6\\u6001\\u90FD\\u5C06\\u4E22\\u5931\\u3002\\u56E0\\u4E3A webview \\u662F\\u57FA\\u4E8E iframe \\u5B9E\\u73B0\\u7684\\u3002\"}),(0,e.jsx)(n.p,{children:\"\\u89E3\\u51B3\\u6B64\\u95EE\\u9898\\u7684\\u6700\\u4F73\\u65B9\\u6CD5\\u662F\\u4F7F\\u4F60\\u7684 webview \\u65E0\\u72B6\\u6001\\uFF0C\\u901A\\u8FC7\\u6D88\\u606F\\u4F20\\u9012\\u6765\\u4FDD\\u5B58 webview \\u7684\\u72B6\\u6001\\u3002\"}),(0,e.jsxs)(n.h3,{id:\"state\",children:[(0,e.jsx)(n.a,{href:\"#state\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\xA0state\"]}),(0,e.jsxs)(n.p,{children:[\"\\u5728 webview \\u7684 js \\u4E2D\\u6211\\u4EEC\\u53EF\\u4EE5\\u4F7F\\u7528\",(0,e.jsx)(n.code,{children:\"vscode.getState()\"}),\"\\u548C\",(0,e.jsx)(n.code,{children:\"vscode.setState()\"}),\"\\u65B9\\u6CD5\\u6765\\u4FDD\\u5B58\\u548C\\u6062\\u590D JSON \\u53EF\\u5E8F\\u5217\\u5316\\u72B6\\u6001\\u5BF9\\u8C61\\u3002\\u5F53 webview \\u88AB\\u9690\\u85CF\\u65F6\\uFF0C\\u5373\\u4F7F webview \\u5185\\u5BB9\\u672C\\u8EAB\\u88AB\\u7834\\u574F\\uFF0C\\u8FD9\\u4E9B\\u72B6\\u6001\\u4ECD\\u7136\\u4F1A\\u4FDD\\u5B58\\u3002\\u5F53\\u7136\\u4E86\\uFF0C\\u5F53 webview \\u88AB\\u9500\\u6BC1\\u65F6\\uFF0C\\u72B6\\u6001\\u5C06\\u88AB\\u9500\\u6BC1\\u3002\"]}),(0,e.jsxs)(n.h3,{id:\"\\u5E8F\\u5217\\u5316\",children:[(0,e.jsx)(n.a,{href:\"#\\u5E8F\\u5217\\u5316\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5E8F\\u5217\\u5316\"]}),(0,e.jsxs)(n.p,{children:[\"\\u901A\\u8FC7\\u6CE8\\u518C\",(0,e.jsx)(n.code,{children:\"WebviewPanelSerializer\"}),\"\\u53EF\\u4EE5\\u5B9E\\u73B0\\u5728\",(0,e.jsx)(n.code,{children:\"VScode\"}),\"\\u91CD\\u542F\\u540E\\u81EA\\u52A8\\u6062\\u590D\\u4F60\\u7684\",(0,e.jsx)(n.code,{children:\"webview\"}),\"\\uFF0C\\u5F53\\u7136\\uFF0C\\u5E8F\\u5217\\u5316\\u5176\\u5B9E\\u4E5F\\u662F\\u5EFA\\u7ACB\\u5728\",(0,e.jsx)(n.code,{children:\"getState\"}),\"\\u548C\",(0,e.jsx)(n.code,{children:\"setState\"}),\"\\u4E4B\\u4E0A\\u7684\\u3002\"]}),(0,e.jsxs)(n.p,{children:[\"\\u6CE8\\u518C\\u65B9\\u6CD5\\uFF1A\",(0,e.jsx)(n.code,{children:\"vscode.window.registerWebviewPanelSerializer\"})]}),(0,e.jsxs)(n.h3,{id:\"retaincontextwhenhidden\",children:[(0,e.jsx)(n.a,{href:\"#retaincontextwhenhidden\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\xA0retainContextWhenHidden\"]}),(0,e.jsxs)(n.p,{children:[\"\\u5BF9\\u4E8E\\u5177\\u6709\\u975E\\u5E38\\u590D\\u6742\\u7684 UI \\u6216\\u72B6\\u6001\\u4E14\\u65E0\\u6CD5\\u5FEB\\u901F\\u4FDD\\u5B58\\u548C\\u6062\\u590D\\u7684\",(0,e.jsx)(n.code,{children:\"webview\"}),\"\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u76F4\\u63A5\\u4F7F\\u7528\",(0,e.jsx)(n.code,{children:\"retainContextWhenHidden\"}),\"\\u9009\\u9879\\u3002\\u8BBE\\u7F6E\",(0,e.jsx)(n.code,{children:\"retainContextWhenHidden: true\"}),\"\\u540E\\u5373\\u4F7F webview \\u88AB\\u9690\\u85CF\\u5230\\u540E\\u53F0\\u5176\\u72B6\\u6001\\u4E5F\\u4E0D\\u4F1A\\u4E22\\u5931\\u3002\"]}),(0,e.jsxs)(n.p,{children:[\"\\u5C3D\\u7BA1\",(0,e.jsx)(n.code,{children:\"retainContextWhenHidden\"}),\"\\u5F88\\u6709\\u5438\\u5F15\\u529B\\uFF0C\\u4F46\\u5B83\\u9700\\u8981\\u5F88\\u9AD8\\u7684\\u5185\\u5B58\\u5F00\\u9500\\uFF0C\\u4E00\\u822C\\u5EFA\\u8BAE\\u5728\\u5B9E\\u5728\\u6CA1\\u529E\\u6CD5\\u7684\\u65F6\\u5019\\u624D\\u542F\\u7528\\u3002\"]}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.code,{children:\"getState\"}),\"\\u548C\",(0,e.jsx)(n.code,{children:\"setState\"}),\"\\u662F\\u6301\\u4E45\\u5316\\u7684\\u9996\\u9009\\u65B9\\u5F0F\\uFF0C\\u56E0\\u4E3A\\u5B83\\u4EEC\\u7684\\u6027\\u80FD\\u5F00\\u9500\\u8981\\u6BD4\",(0,e.jsx)(n.code,{children:\"retainContextWhenHidden\"}),\"\\u4F4E\\u5F97\\u591A\\u3002\"]}),(0,e.jsxs)(n.h2,{id:\"\\u53D1\\u5E03\",children:[(0,e.jsx)(n.a,{href:\"#\\u53D1\\u5E03\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u53D1\\u5E03\"]}),(0,e.jsxs)(n.p,{children:[\"\\u5173\\u4E8E\\u53D1\\u5E03\\u53EF\\u4EE5\\u770B\\u6211\\u7684\\u4E0A\\u4E00\\u7BC7 \",(0,e.jsx)(n.a,{href:\"http://juejin.cn/post/7030250953215311908\",children:\"\\u4E00\\u8D77\\u6765\\u5199 VS Code \\u63D2\\u4EF6:\\u4E3A\\u4F60\\u7684\\u56E2\\u961F\\u63D0\\u4F9B\\u5E38\\u7528\\u4EE3\\u7801\\u7247\\u6BB5\"})]}),(0,e.jsxs)(n.h2,{id:\"\\u5C0F\\u7ED3\",children:[(0,e.jsx)(n.a,{href:\"#\\u5C0F\\u7ED3\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5C0F\\u7ED3\"]}),(0,e.jsx)(n.p,{children:\"\\u672C\\u7BC7\\u901A\\u8FC7\\u5B9E\\u73B0 VS Code \\u7248 CNode \\u6765\\u5E2E\\u6211\\u4EEC\\u719F\\u6089 webview \\u7684 api\\uFF0C\\u5F53\\u7136\\u8FD8\\u53EF\\u4EE5\\u589E\\u52A0\\u8BC4\\u8BBA\\u7CFB\\u7EDF\\uFF0C\\u521B\\u5EFA\\u4E3B\\u9898\\uFF0C\\u57FA\\u4E8E\\u7528\\u6237\\u7CFB\\u7EDF\\u53EF\\u4EE5\\u5B9E\\u73B0\\u70B9\\u8D5E\\u6536\\u85CF\\u7B49\\u3002\"}),(0,e.jsx)(n.p,{children:\"\\u5F00\\u53D1\\u66F4\\u590D\\u6742\\u7684\\u529F\\u80FD\\uFF0C\\u53EA\\u7F3A\\u4F60\\u7684\\u60F3\\u8C61\\u529B\\u3002\\u4F8B\\u5982\\uFF1A\"}),(0,e.jsxs)(n.ol,{children:[(0,e.jsx)(n.li,{children:(0,e.jsx)(n.p,{children:(0,e.jsx)(n.a,{href:\"https://zhuanlan.zhihu.com/p/166683895\",children:\"\\u97ED\\u83DC\\u76D2\\u5B50\\uFF0C\\u505A\\u6700\\u597D\\u7528\\u7684\\u80A1\\u7968\\u548C\\u57FA\\u91D1\\u63D2\\u4EF6\"})})}),(0,e.jsx)(n.li,{children:(0,e.jsx)(n.p,{children:(0,e.jsx)(n.a,{href:\"https://marketplace.visualstudio.com/items?itemName=Thinker.create-app\u0026ssr=false#overview\",children:\"create-app \\u53EF\\u89C6\\u5316 CLI \\u5DE5\\u5177\"})})})]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"\\u6700\\u540E\"})}),(0,e.jsxs)(n.p,{children:[\"\\u9644\\u4E0A\\u672C\\u63D2\\u4EF6\\u7684\",(0,e.jsx)(n.a,{href:\"https://marketplace.visualstudio.com/items?itemName=maqi1520.CNODE\",children:\"\\u4E0B\\u8F7D\\u5730\\u5740\"}),\"\\u548C\",(0,e.jsx)(n.a,{href:\"https://github.com/maqi1520/vscode-extension-cnode\",children:\"\\u6E90\\u7801\"})]}),(0,e.jsx)(n.p,{children:\"\\u540C\\u65F6 vscode extensions \\u5F00\\u53D1\\u95E8\\u69DB\\u4E0D\\u9AD8\\uFF0C\\u6B22\\u8FCE\\u5927\\u5BB6\\u5C1D\\u8BD5\\uFF0C\\u6216\\u8005\\u5C06\\u6709\\u610F\\u601D\\u7684 extensions \\u63A8\\u8350\\u5728\\u8BC4\\u8BBA\\u533A\\u3002\"}),(0,e.jsx)(n.p,{children:\"\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u5BF9\\u5927\\u5BB6\\u6709\\u6240\\u5E2E\\u52A9\\uFF0C\\u4E5F\\u53EF\\u4EE5\\u53C2\\u8003\\u6211\\u5F80\\u671F\\u7684\\u6587\\u7AE0\\u6216\\u8005\\u5728\\u8BC4\\u8BBA\\u533A\\u4EA4\\u6D41\\u4F60\\u7684\\u60F3\\u6CD5\\u548C\\u5FC3\\u5F97\\uFF0C\\u6B22\\u8FCE\\u4E00\\u8D77\\u63A2\\u7D22\\u524D\\u7AEF\\u3002\"})]})}}var f=b;return y(x);})();\n;return Component;","toc":[{"value":"前言","url":"#前言","depth":2},{"value":"效果","url":"#效果","depth":2},{"value":"初始化项目","url":"#初始化项目","depth":2},{"value":"配置左侧导航图标","url":"#配置左侧导航图标","depth":2},{"value":"注册一个侧边栏","url":"#注册一个侧边栏","depth":3},{"value":"实现侧边栏","url":"#实现侧边栏","depth":3},{"value":"实现侧边视图","url":"#实现侧边视图","depth":2},{"value":"配置 webpack config","url":"#配置-webpack-config","depth":3},{"value":"配置 tailwindcss","url":"#配置-tailwindcss","depth":3},{"value":"使用 React 来实现主题列表","url":"#使用-react-来实现主题列表","depth":3},{"value":"预览页面实现","url":"#预览页面实现","depth":2},{"value":"避免重复创建预览页","url":"#避免重复创建预览页","depth":2},{"value":"主题适配","url":"#主题适配","depth":2},{"value":"调试","url":"#调试","depth":2},{"value":"状态保持","url":"#状态保持","depth":2},{"value":" state","url":"#state","depth":3},{"value":"序列化","url":"#序列化","depth":3},{"value":" retainContextWhenHidden","url":"#retaincontextwhenhidden","depth":3},{"value":"发布","url":"#发布","depth":2},{"value":"小结","url":"#小结","depth":2}],"frontMatter":{"readingTime":{"text":"10 min read","minutes":9.305,"time":558300,"words":1861},"slug":"vscoe-extension-CNode-has-been-launched","fileName":"vscoe-extension-CNode-has-been-launched.md","title":"一起来写 VS Code 插件：VS Code 版 CNode 已上线","date":"2021-11-22T16:00:00.000Z","lastmod":"2021/11/23","tags":["前端","Visual Studio Code"],"draft":false,"summary":"CNode 社区为国内最专业的 Node.js 开源技术社区，致力于 Node.js 的技术研究。本篇将通过实现 VS Code 版 CNode， 来带领大家一起熟悉 VSCode Webview。","images":["https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8445f5813cb041998924400c705fd6b3~tplv-k3u1fbpfcp-watermark.image?"],"authors":["default"],"layout":"PostLayout"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.19,"time":11400,"words":38},"slug":["default"],"fileName":"default.md","name":"随风","avatar":"/static/images/avatar.jpeg","occupation":"前端工程师","company":"分享 JavaScript 热门框架，记录前端工程师学习成长历程。","email":"tianping888@163.com","juejin":"https://juejin.cn","zhihu":"https://www.zhihu.com","github":"https://github.com/balac2015","date":null}],"prev":{"title":"一起来写 VS Code 插件：实现一个翻译插件","date":"2021-11-17T16:00:00.000Z","lastmod":"2021/11/19","tags":["Visual Studio Code","JavaScript"],"draft":false,"summary":"本文将通过实现一个翻译插件实例的方式来熟悉 VS Code 插件","images":["https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/179abac4c4a84e5783147d8195c9ff9b~tplv-k3u1fbpfcp-watermark.image?"],"authors":["default"],"layout":"PostLayout","slug":"Implement-a-vscode-translation-extension"},"next":{"title":"使用 React 和 NodeJS 创建一个全栈项目","date":"2021-11-24T16:00:00.000Z","lastmod":"2022/1/14","tags":["前端","Node.js"],"draft":false,"summary":"在本文中，我将使用 React 和 NodeJS 创建一个全栈项目。介绍下如何让 Node.js 作为 web 服务器来加载静态资源，如何让 React 程序可以直接调用 Node API。","images":["https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c6236799d10b46e798a8cc26e7e1d1e4~tplv-k3u1fbpfcp-watermark.image?"],"authors":["default"],"layout":"PostLayout","slug":"React-and-NodeJS-Full-stack-project"}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["vscoe-extension-CNode-has-been-launched"]},"buildId":"tzs-XIByjtI7cz8CnRw3S","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>