<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><title>使用 Strapi 和 Next.js 开发一个简易微博</title><meta name="robots" content="follow, index"/><meta name="description" content="本文主要介绍了使用 strapi 和 Next.js 实现了一个简易的微博，我们不必写后端，只需要后台配置便可以创建 api 接口，通过本文，我相信你对 strapi 有了一定了解。"/><meta property="og:url" content="https://github.com/balac2015/blog/%E4%BD%BF%E7%94%A8%20Strapi%20%E5%92%8C%20Next.js%20%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E7%AE%80%E6%98%93%E5%BE%AE%E5%8D%9A"/><meta property="og:type" content="article"/><meta property="og:site_name" content="Coding 工坊 | 随风"/><meta property="og:description" content="本文主要介绍了使用 strapi 和 Next.js 实现了一个简易的微博，我们不必写后端，只需要后台配置便可以创建 api 接口，通过本文，我相信你对 strapi 有了一定了解。"/><meta property="og:title" content="使用 Strapi 和 Next.js 开发一个简易微博"/><meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9d9fcadc6a134a2296ced2f4c2b5ee3d~tplv-k3u1fbpfcp-watermark.image?"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site"/><meta name="twitter:title" content="使用 Strapi 和 Next.js 开发一个简易微博"/><meta name="twitter:description" content="本文主要介绍了使用 strapi 和 Next.js 实现了一个简易的微博，我们不必写后端，只需要后台配置便可以创建 api 接口，通过本文，我相信你对 strapi 有了一定了解。"/><meta name="twitter:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9d9fcadc6a134a2296ced2f4c2b5ee3d~tplv-k3u1fbpfcp-watermark.image?"/><meta property="article:published_time" content="2022-09-20T01:35:34.000Z"/><meta property="article:modified_time" content="2023-01-25T03:43:01.000Z"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://github.com/balac2015/blog/使用 Strapi 和 Next.js 开发一个简易微博"
  },
  "headline": "使用 Strapi 和 Next.js 开发一个简易微博",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9d9fcadc6a134a2296ced2f4c2b5ee3d~tplv-k3u1fbpfcp-watermark.image?"
    }
  ],
  "datePublished": "2022-09-20T01:35:34.000Z",
  "dateModified": "2023-01-25T03:43:01.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "随风"
    }
  ],
  "publisher": {
    "@type": "Organization",
    "name": "随风",
    "logo": {
      "@type": "ImageObject",
      "url": "https://github.com/balac2015/static/images/logo.png"
    }
  },
  "description": "本文主要介绍了使用 strapi 和 Next.js 实现了一个简易的微博，我们不必写后端，只需要后台配置便可以创建 api 接口，通过本文，我相信你对 strapi 有了一定了解。"
}</script><meta name="next-head-count" content="20"/><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" content="#000000"/><meta name="referrer" content="no-referrer"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="preload" href="/_next/static/css/74948a7751764c68.css" as="style"/><link rel="stylesheet" href="/_next/static/css/74948a7751764c68.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-925c2639b2e726da.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-b4cdd9636ac3694c.js" defer=""></script><script src="/_next/static/chunks/pages/_app-c437ddfe1566e6c0.js" defer=""></script><script src="/_next/static/chunks/410-dc08c716b48ef576.js" defer=""></script><script src="/_next/static/chunks/606-bcfce32a938ad92d.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-a12f8dbad1f7fc24.js" defer=""></script><script src="/_next/static/aH9txFemS00-bQZ7Vq_Y7/_buildManifest.js" defer=""></script><script src="/_next/static/aH9txFemS00-bQZ7Vq_Y7/_ssgManifest.js" defer=""></script><script src="/_next/static/aH9txFemS00-bQZ7Vq_Y7/_middlewareManifest.js" defer=""></script></head><body class="bg-white text-black antialiased dark:bg-gray-900 dark:text-white"><div id="__next" data-reactroot=""><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between"><header class="flex items-center justify-between py-10"><h1><a aria-label="随风小站" href="/"><div class="flex items-center justify-between"><span><svg width="52" height="26" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><image xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAaCAYAAADFTB7LAAAAAXNSR0IArs4c6QAAAHplWElmTU0AKgAAAAgAAwESAAMAAAABAAEAAAExAAIAAAAeAAAAModpAAQAAAABAAAAUAAAAABBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKQAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAAGgAAAACQIupnAAAEEWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ2RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQ1RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQzRkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ0RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo0psFQAAACSElEQVRYCc2WMUhVURjH79VQEISKDAfFAqVBbHDOLcFNB0scinJrkrbarMFBEAxSQXCJWuQNurgIEoJTOBRSrdFghqZgaIWv5+8v56qvd73vnKM37gc/znnnfN//+99z73v3BYFFFAqFengB67ALc9BsUZpuCiYuwjD8hH9jk4Vb6TpIUKf5Q9g44SrPfBam4a9Z32O8myCTzhZNnxsDGvbhDbRG3Zg/gD+gkPHBaC/1kWY9EJ3QW+YtcU1Z74IdiGKESRiXe25rNLgOW6ajvghVSeLst8OaydfwCi4k1XjvIVwF70CxAjU2YuRdg48QRY5JpU2tUw6io6bDV8YGl2LyL8Oyqdcw4lJfNhdBPU967rahrWxBTAJ1NaBnViGtzpg09yWE6kDPkb6tt90VjiuM1hdGhcba413PGSIvpUY88pQoKkOnA3SxiomiTZ8PiOj0Fn1qT6tBbwgUutUdp+VZrSOgq31mlWyZhF4lLIHiM1RblpakVbDyA/ZKds6wEIZhnvJ7sAU34Cn4hbnCJ37VyVVo94LiF8S+kZIVgkAnqKtMJTjJHMJToFs87tNEBjd9Ch1qHpP7CTo5xTsOdYepMrjhWuSSzynukt8Pv2EMk00u9f/jBANMvsfUfbgCeiVavxAigwWXq/LJxeQMdfpNXIcFTM5DH1xN0gtJGCChGoHJpMTz2qOf/jPKaDfchEvwHVbhAz5eMx6F/rtps/FoJeUJBnS3lgxlu+kW68gzGzK4lll3GJPBb5DPqskKnol9YzKTHg8A2r/9Qs/XFFsAAAAASUVORK5CYII=" height="26" width="40"></image><image href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAaCAYAAADFTB7LAAAAAXNSR0IArs4c6QAAAHplWElmTU0AKgAAAAgAAwESAAMAAAABAAEAAAExAAIAAAAeAAAAModpAAQAAAABAAAAUAAAAABBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKQAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAAGgAAAACQIupnAAAEEWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ2RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQ1RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQzRkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ0RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo0psFQAAACSElEQVRYCc2WMUhVURjH79VQEISKDAfFAqVBbHDOLcFNB0scinJrkrbarMFBEAxSQXCJWuQNurgIEoJTOBRSrdFghqZgaIWv5+8v56qvd73vnKM37gc/znnnfN//+99z73v3BYFFFAqFengB67ALc9BsUZpuCiYuwjD8hH9jk4Vb6TpIUKf5Q9g44SrPfBam4a9Z32O8myCTzhZNnxsDGvbhDbRG3Zg/gD+gkPHBaC/1kWY9EJ3QW+YtcU1Z74IdiGKESRiXe25rNLgOW6ajvghVSeLst8OaydfwCi4k1XjvIVwF70CxAjU2YuRdg48QRY5JpU2tUw6io6bDV8YGl2LyL8Oyqdcw4lJfNhdBPU967rahrWxBTAJ1NaBnViGtzpg09yWE6kDPkb6tt90VjiuM1hdGhcba413PGSIvpUY88pQoKkOnA3SxiomiTZ8PiOj0Fn1qT6tBbwgUutUdp+VZrSOgq31mlWyZhF4lLIHiM1RblpakVbDyA/ZKds6wEIZhnvJ7sAU34Cn4hbnCJ37VyVVo94LiF8S+kZIVgkAnqKtMJTjJHMJToFs87tNEBjd9Ch1qHpP7CTo5xTsOdYepMrjhWuSSzynukt8Pv2EMk00u9f/jBANMvsfUfbgCeiVavxAigwWXq/LJxeQMdfpNXIcFTM5DH1xN0gtJGCChGoHJpMTz2qOf/jPKaDfchEvwHVbhAz5eMx6F/rtps/FoJeUJBnS3lgxlu+kW68gzGzK4lll3GJPBb5DPqskKnol9YzKTHg8A2r/9Qs/XFFsAAAAASUVORK5CYII=" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAaCAYAAADFTB7LAAAAAXNSR0IArs4c6QAAAHplWElmTU0AKgAAAAgAAwESAAMAAAABAAEAAAExAAIAAAAeAAAAModpAAQAAAABAAAAUAAAAABBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKQAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAAGgAAAACQIupnAAAEEWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ2RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQ1RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQzRkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ0RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo0psFQAAACSElEQVRYCc2WMUhVURjH79VQEISKDAfFAqVBbHDOLcFNB0scinJrkrbarMFBEAxSQXCJWuQNurgIEoJTOBRSrdFghqZgaIWv5+8v56qvd73vnKM37gc/znnnfN//+99z73v3BYFFFAqFengB67ALc9BsUZpuCiYuwjD8hH9jk4Vb6TpIUKf5Q9g44SrPfBam4a9Z32O8myCTzhZNnxsDGvbhDbRG3Zg/gD+gkPHBaC/1kWY9EJ3QW+YtcU1Z74IdiGKESRiXe25rNLgOW6ajvghVSeLst8OaydfwCi4k1XjvIVwF70CxAjU2YuRdg48QRY5JpU2tUw6io6bDV8YGl2LyL8Oyqdcw4lJfNhdBPU967rahrWxBTAJ1NaBnViGtzpg09yWE6kDPkb6tt90VjiuM1hdGhcba413PGSIvpUY88pQoKkOnA3SxiomiTZ8PiOj0Fn1qT6tBbwgUutUdp+VZrSOgq31mlWyZhF4lLIHiM1RblpakVbDyA/ZKds6wEIZhnvJ7sAU34Cn4hbnCJ37VyVVo94LiF8S+kZIVgkAnqKtMJTjJHMJToFs87tNEBjd9Ch1qHpP7CTo5xTsOdYepMrjhWuSSzynukt8Pv2EMk00u9f/jBANMvsfUfbgCeiVavxAigwWXq/LJxeQMdfpNXIcFTM5DH1xN0gtJGCChGoHJpMTz2qOf/jPKaDfchEvwHVbhAz5eMx6F/rtps/FoJeUJBnS3lgxlu+kW68gzGzK4lll3GJPBb5DPqskKnol9YzKTHg8A2r/9Qs/XFFsAAAAASUVORK5CYII=" height="26" width="40" x="15"></image></svg></span><div class="hidden text-2xl font-semibold sm:block">随风小站</div></div></a></h1><div class="flex items-center text-base leading-5"><div class="hidden sm:block"><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/blog">文章</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/tags">标签</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/projects">项目</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/tools">工具</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/boilerplate">模板</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/about">关于</a></div><div class="ml-1 mr-1 flex items-center sm:ml-4"><a class="block p-1" title="RSS" href="/feed.xml"><svg fill="currentColor" class="h-5 w-5" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M3.75 3a.75.75 0 00-.75.75v.5c0 .414.336.75.75.75H4c6.075 0 11 4.925 11 11v.25c0 .414.336.75.75.75h.5a.75.75 0 00.75-.75V16C17 8.82 11.18 3 4 3h-.25z"></path><path d="M3 8.75A.75.75 0 013.75 8H4a8 8 0 018 8v.25a.75.75 0 01-.75.75h-.5a.75.75 0 01-.75-.75V16a6 6 0 00-6-6h-.25A.75.75 0 013 9.25v-.5zM7 15a2 2 0 11-4 0 2 2 0 014 0z"></path></svg></a><button aria-label="Toggle Dark Mode" type="button" class="h-7 w-7 rounded p-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button></div><div class="sm:hidden"><button type="button" class="ml-1 mr-1 h-8 w-8 rounded py-1" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed top-0 left-0 z-50 h-full w-full transform bg-gray-200 opacity-95 duration-300 ease-in-out dark:bg-gray-800 translate-x-full"><div class="flex justify-end"><button type="button" class="mr-5 mt-11 h-8 w-8 rounded" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><nav class="mt-8 h-full"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/blog">文章</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">标签</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/projects">项目</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tools">工具</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/boilerplate">模板</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/about">关于</a></div></nav></div></div></div></header><main class="mb-auto"><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div style="transform:translateX(-100%)" class="fixed top-0 left-0 h-1 w-full bg-primary-500 backdrop-blur-3xl transition-transform duration-150"></div><div class="fixed right-8 bottom-8 hidden flex-col gap-3 md:hidden"><button aria-label="Scroll To Comment" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path></svg></button><button aria-label="Scroll To Top" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div class="xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700"><header class="pt-6 xl:pb-6"><div class="space-y-1 text-center"><dl class="space-y-10"><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2022-09-20T01:35:34.000Z">2022年9月20日星期二</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">使用 Strapi 和 Next.js 开发一个简易微博</h1></div></div></header><div class="divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6 xl:divide-y-0" style="grid-template-rows:auto 1fr"><div class=""><dl class="pt-6 pb-10 xl:border-b xl:border-gray-200 xl:pt-11 xl:dark:border-gray-700"><dt class="sr-only">Authors</dt><dd><ul class="flex justify-center space-x-8 sm:space-x-12 xl:block xl:space-x-0 xl:space-y-8"><li class="flex items-center space-x-2"><img alt="avatar" src="/static/images/avatar.jpeg" width="38px" height="38px" class="h-10 w-10 rounded-full"/><dl class="whitespace-nowrap text-sm font-medium leading-5"><dt class="sr-only">作者</dt><dd class="text-gray-900 dark:text-gray-100">随风</dd></dl></li></ul></dd></dl><h2 class="pt-6 text-xs font-bold uppercase tracking-wide text-gray-500 dark:text-gray-400">目录</h2><ul class="py-4 text-sm font-medium leading-relaxed xl:border-b xl:border-gray-200 xl:dark:border-gray-700"><li class="false"><a class="text-primary-500" href="#阅读本文你将收获">阅读本文，你将收获：</a></li><li class="false"><a class="text-primary-500" href="#背景">背景</a></li><li class="false"><a class="text-primary-500" href="#实现功能与效果">实现功能与效果</a></li><li class="false"><a class="text-primary-500" href="#什么是-strapi">什么是 strapi</a></li><li class="false"><a class="text-primary-500" href="#后端工程">后端工程</a></li><li class="ml-6"><a class="text-primary-500" href="#初始化项目">初始化项目</a></li><li class="ml-6"><a class="text-primary-500" href="#建表">建表</a></li><li class="ml-6"><a class="text-primary-500" href="#建立表关联">建立表关联</a></li><li class="ml-6"><a class="text-primary-500" href="#接口查询与获取">接口查询与获取</a></li><li class="false"><a class="text-primary-500" href="#前端工程">前端工程</a></li><li class="ml-6"><a class="text-primary-500" href="#首页布局">首页布局</a></li><li class="ml-6"><a class="text-primary-500" href="#目录结构">目录结构</a></li><li class="ml-6"><a class="text-primary-500" href="#前后端联调">前后端联调</a></li><li class="ml-6"><a class="text-primary-500" href="#登录注册实现">登录注册实现</a></li><li class="ml-6"><a class="text-primary-500" href="#axios-封装">axios 封装</a></li><li class="ml-6"><a class="text-primary-500" href="#图片上传">图片上传</a></li><li class="ml-6"><a class="text-primary-500" href="#发微博">发微博</a></li><li class="ml-6"><a class="text-primary-500" href="#联表查询">联表查询</a></li><li class="false"><a class="text-primary-500" href="#最终效果">最终效果</a></li><li class="false"><a class="text-primary-500" href="#小结">小结</a></li><li class="false"><a class="text-primary-500" href="#后续">后续</a></li></ul></div><div class="xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="mt-6"><img alt="使用 Strapi 和 Next.js 开发一个简易微博" class="w-full rounded object-cover shadow-lg" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9d9fcadc6a134a2296ced2f4c2b5ee3d~tplv-k3u1fbpfcp-watermark.image?"/></div><div class="prose max-w-none break-words pt-10 pb-8 dark:prose-dark"><blockquote><p>文章为稀土掘金技术社区首发签约文章，14 天内禁止转载，14 天后未获授权禁止转载，侵权必究！</p></blockquote><h2 id="阅读本文你将收获"><a href="#阅读本文你将收获" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>阅读本文，你将收获：</h2><ul><li>如何使用 Strapi 创建后端 API</li><li>如何在 Next.js 中与单独后端联调</li><li>并且了解一个全栈应用的实现逻辑</li></ul><h2 id="背景"><a href="#背景" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>背景</h2><p>在上一篇文章中，我们使用了 Next.js 和掘金 API 创建了一个全栈博客，使用了抓包的方式获得了掘金 API，终究有些投机取巧，若没有 API ，就无法独立完成一个应用的，今天我将分享另一种方式，同样不需要写后端接口，通过可视化界面就可以创建 Restful API，那有了接口，我们就可以来实现任意应用啦，一起来看看吧。</p><p>本文全部代码都在 GitHub <a target="_blank" rel="noopener noreferrer" href="https://github.com/maqi1520/strapi-weibo">仓库</a>中</p><h2 id="实现功能与效果"><a href="#实现功能与效果" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>实现功能与效果</h2><p>先来看看我们要实现的效果</p><p><img alt="效果预览" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/03bf1bae632743e28f929cf93e894c42~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>实现功能</p><ul><li>注册与登录</li><li>登录后可以发微博，并且可以在不同的话题下发布</li><li>上传图片</li><li>有一个后台可以管理微博</li></ul><h2 id="什么是-strapi"><a href="#什么是-strapi" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>什么是 strapi</h2><p>strapi 是免费开源的 Nodejs 无头 CMS 内容管理框架，可以通过后台管理界面创建自定义 API，并且完全使用 JavaScript 实现。 打开<a target="_blank" rel="noopener noreferrer" href="https://strapi.io/" title="strapi 官网">strapi 官网</a>，首页的交互式动画映入眼睑。</p><p><img alt="strapi 官网交互动画" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ef58e932e13c46bd9a156801f207d64e~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>我们可以清楚的看到，在后台配置字段，便可以生成 JSON schema，有了 JSON schema， strapi 便会自动生成 Restful API，是不是很强大呢？</p><h2 id="后端工程"><a href="#后端工程" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>后端工程</h2><h3 id="初始化项目"><a href="#初始化项目" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>初始化项目</h3><p>我们先使用 strapi 官网提供的脚手架初始化一个后端应用</p><div class="relative"><pre><code class="code-highlight language-bash"><span class="code-line">npx create-strapi-app backend --quickstart
</span></code></pre></div><p>创建完成后，它会帮我们自动安装 npm 包，安装完成后会显示如下命令</p><div class="relative"><pre><code class="code-highlight language-bash"><span class="code-line"><span class="token function">yarn</span> develop
</span><span class="code-line"><span class="token comment"># 开发环境，开始 Strapi 进入监听模型，修改工程文件会自动重启</span>
</span><span class="code-line"><span class="token function">yarn</span> start
</span><span class="code-line"><span class="token comment"># 生产环境，启动 Strapi</span>
</span><span class="code-line"><span class="token function">yarn</span> build
</span><span class="code-line"><span class="token comment"># 构建 Strapi 后台.</span>
</span><span class="code-line"><span class="token function">yarn</span> strapi
</span><span class="code-line">显示所有可用的命令
</span></code></pre></div><p>紧接着会自动进入 backend 帮我们执行 <code>yarn develop</code>，并且自动打开如下页面</p><p><img alt="strapi 后台登录页面" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/96e90ca462f347a7bb0ce9dd02184e05~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>首先我们要注册一个 admin 账号，随便输入一个就行， 但要记住这个账号</p><div class="relative"><pre><code class="code-highlight"><span class="code-line">First name: admin
</span><span class="code-line">Email: admin@admin.com
</span><span class="code-line">Password: Admin@123
</span></code></pre></div><p>登录后来的 strapi 的主界面</p><p><img alt="" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/59312a9c9aa64e2a91f87d9517144d69~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>首页有关于 strapi 学习的主要入口，包括文档、代码示例、课程和博客。</p><p>纯英文的后台，一开始可能有些不习惯，我们可以使用 chrome 翻译插件直接翻译成中文</p><p><img alt="strapi 后台欢迎页面" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7097d49307e948e18a259a1b16fa5f0d~tplv-k3u1fbpfcp-zoom-1.image"/></p><h3 id="建表"><a href="#建表" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>建表</h3><p>通过导航上的 <code>Content-Type Builder</code>，也就是<code>内容类型生成器</code>入口开始建立表。</p><p>我们首先来想想，微博系统该建哪些表？</p><p><img alt="实体图" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bfe5956183b94b989d70f82d69951c97~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>先来画一张实体图，梳理下各个实体直接的关系</p><ul><li>一个用户可以发送多条信息：一对多</li><li>一个话题下也可以有多条信息：一对多</li><li>一条信息可以上传多张图片：一对多</li></ul><p>那么我们可以以此来写出 TS 类型接口</p><div class="relative"><pre><code class="code-highlight language-ts"><span class="code-line"><span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
</span><span class="code-line">  id<span class="token operator">:</span> <span class="token builtin">number</span>
</span><span class="code-line">  username<span class="token operator">:</span> <span class="token builtin">string</span>
</span><span class="code-line">  email<span class="token operator">:</span> <span class="token builtin">string</span>
</span><span class="code-line">  password<span class="token operator">:</span> <span class="token builtin">string</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">interface</span> <span class="token class-name">Topic</span> <span class="token punctuation">{</span>
</span><span class="code-line">  id<span class="token operator">:</span> <span class="token builtin">number</span>
</span><span class="code-line">  title<span class="token operator">:</span> <span class="token builtin">string</span>
</span><span class="code-line">  desc<span class="token operator">:</span> <span class="token builtin">string</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">interface</span> <span class="token class-name">Message</span> <span class="token punctuation">{</span>
</span><span class="code-line">  id<span class="token operator">:</span> <span class="token builtin">number</span>
</span><span class="code-line">  content<span class="token operator">:</span> <span class="token builtin">string</span>
</span><span class="code-line">  images<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
</span><span class="code-line">  user<span class="token operator">:</span> User
</span><span class="code-line">  createdTime<span class="token operator">:</span> <span class="token builtin">number</span>
</span><span class="code-line">  topic<span class="token operator">:</span> Topic
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>我们可以看到，后台中已经有 User 集合了，所以可以不必建用户表了，点击 <code>Create new collection type</code>来创建一个新的集合：</p><p><img alt="strapi 后台创建集合" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4c38b190f1bb4c0fa4828e13393cabd1~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>输入 Display name 为 <code>topic</code> 主题表，右边的参数会自动填充，默认不用修改，点击 Continue 继续</p><p><img alt="strapi 后台添加字段" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/69994809d2d041299337416b618f577a~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>在弹出页面中，我们可以看到所有的字段类型，包含文本、邮箱、富文本、密码、数字、下拉选择等，只需要点击选择相应字段就可以建表字段了。</p><p>当我们建立完成一张表后，引导页面便会提示我们通过 api 访问接口了。</p><p><img alt="strapi 后台提示 api 地址" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d7a239b1c54048feaa16d7c72c2f2605~tplv-k3u1fbpfcp-zoom-1.image"/></p><h3 id="建立表关联"><a href="#建立表关联" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>建立表关联</h3><p>建立完 Message 表后，需要与 User 建立关系</p><p><img alt="strapi 后台建立表关联" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fec74dede07a4562859187598ba13290~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>点击 User 表，选择 Relation 字段</p><p><img alt="strapi 建立表关联一对多" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2cb383a0676040b5aa0e0c5a9bd287b9~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>在右侧选择 Message 表，中间关系选择一对多，Message 表关系字段，输入 user。</p><p>因为是多对一，一条 message 只属于一个用户，所以输入 user 单数，而不是 users，若是多对多的情况，我们要输入 users， 字段命名上的规范，可以让我们从接口返回数据看出对应的关系。</p><p>重复上述步骤我们可以建完所有表了，其中 images 表和用户表是我们不要建立的，因为用户和附件上传是通用功能，strapi 系统帮我们内置了，这真的是极大地加快了开发效率。</p><h3 id="接口查询与获取"><a href="#接口查询与获取" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>接口查询与获取</h3><p>我们可以通过<a target="_blank" rel="noopener noreferrer" href="https://docs.strapi.io/developer-docs/latest/plugins/users-permissions.html" title="strapi 文档">官方的文档</a>地址找到对应的注册和登录接口。</p><p>使用接口管理工具访问下 api，比如我们注册一个用户，如下图</p><p><img alt="apifox 调用注册" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/93d52c83d75340c5b83ddaab934dc41e~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>访问后，便注册了一个用户， 但是，直接访问 <code>http://localhost:1337/api/messages</code> 时，可能会看到如下界面，状态码 403， 这是为什么呢？</p><p><img alt="strapi 403" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/de0e1cc9ac664982a1f46602003980db~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>因为我们还未对 message 表进行权限设置，所以无法访问。</p><p><img alt="strapi 权限设置" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0be802f40a8d45b0af077e968532bf10~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>进入<code>settings ——&gt; Roles ——&gt; Public</code> ， 对每个接口的请求方法进行权限设置，</p><p>在 Public 选择 message 表，选择 <code>find</code>，点击保存，这样我们的 message 接口便可以在不授权的情况下访问了。</p><p>其中，角色分为 <code>Authenticated</code> 和 <code>Public</code>。</p><ul><li><code>Authenticated</code> 是需要登录才能访问的接口</li><li><code>Public</code> 是不需要登录也可以访问的接口</li></ul><p><img alt="strapi 后台节点地址" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6b86a504f1fa4469a69e5b093353b080~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>还有很重要的一点，所有的接口地址都可以通过这个地方查看和修改。</p><h2 id="前端工程"><a href="#前端工程" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>前端工程</h2><p>使用 <code>create-next-app</code> 创建一个 next 工程，并且安装和初始化 tailwindcss</p><div class="relative"><pre><code class="code-highlight"><span class="code-line">npx create-next-app frontend
</span><span class="code-line">cd frontend
</span><span class="code-line">npm install -D tailwindcss postcss autoprefixer
</span><span class="code-line">npx tailwindcss init -p
</span></code></pre></div><p>修改 <code>globals.css</code> 为 tailwindcss 默认指令</p><div class="relative"><pre><code class="code-highlight language-css"><span class="code-line"><span class="token atrule"><span class="token rule">@tailwind</span> base<span class="token punctuation">;</span></span>
</span><span class="code-line"><span class="token atrule"><span class="token rule">@tailwind</span> components<span class="token punctuation">;</span></span>
</span><span class="code-line"><span class="token atrule"><span class="token rule">@tailwind</span> utilities<span class="token punctuation">;</span></span>
</span></code></pre></div><h3 id="首页布局"><a href="#首页布局" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>首页布局</h3><p>我们先来写一下首页页面样式和布局</p><div class="relative"><pre><code class="code-highlight language-ts"><span class="code-line"><span class="token keyword">import</span> Head <span class="token keyword">from</span> <span class="token string">&#x27;next/head&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Home</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>Head<span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span> Next Strapi Weibo<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">&quot;description&quot;</span> content<span class="token operator">=</span><span class="token string">&quot;随时随地发现新鲜事&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>link rel<span class="token operator">=</span><span class="token string">&quot;icon&quot;</span> href<span class="token operator">=</span><span class="token string">&quot;/favicon.ico&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span><span class="token operator">/</span>Head<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>header className<span class="token operator">=</span><span class="token string">&quot;sticky top-0 border-t-4 border-orange-500 bg-white py-4&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;mx-auto flex max-w-6xl items-center justify-between&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">          <span class="token operator">&lt;</span>h1 className<span class="token operator">=</span><span class="token string">&quot;font-mono text-2xl font-semibold&quot;</span><span class="token operator">&gt;</span>微博<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
</span><span class="code-line">          <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;space-x-3&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">            <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">&quot;rounded-3xl border border-orange-500 bg-orange-500  px-5 py-2  font-semibold text-white&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">              登录
</span><span class="code-line">            <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</span><span class="code-line">            <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">&quot;rounded-3xl border border-orange-500 px-5 py-2 font-semibold text-orange-500&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">              注册
</span><span class="code-line">            <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</span><span class="code-line">          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span><span class="token operator">/</span>header<span class="token operator">&gt;</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token operator">&lt;</span>main className<span class="token operator">=</span><span class="token string">&quot;mx-auto mt-5 flex min-h-screen max-w-5xl gap-5&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;sticky top-14 h-80 w-52 flex-none rounded-sm bg-white shadow-sm&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;flex-auto rounded-sm bg-white shadow-sm&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span><span class="token operator">/</span>main<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>footer className<span class="token operator">=</span><span class="token string">&quot;mt-5 bg-white py-2 text-center&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">        Copyright © <span class="token number">2009</span><span class="token operator">-</span><span class="token number">2022</span> 随时随地发现新鲜事
</span><span class="code-line">      <span class="token operator">&lt;</span><span class="token operator">/</span>footer<span class="token operator">&gt;</span>
</span><span class="code-line">    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>看下效果，一个简单的页面结果呈现在我们眼前。</p><p><img alt="首页页面结构" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2cbea954130a4c598f35f0544e4fc4a2~tplv-k3u1fbpfcp-zoom-1.image"/></p><h3 id="目录结构"><a href="#目录结构" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>目录结构</h3><div class="relative"><pre><code class="code-highlight"><span class="code-line">├── components
</span><span class="code-line">│   ├── ImageList.tsx
</span><span class="code-line">│   ├── LoginModal.tsx
</span><span class="code-line">│   ├── RegisterModal.tsx
</span><span class="code-line">│   ├── SendMessage.tsx
</span><span class="code-line">│   └── TopicList.tsx
</span><span class="code-line">├── lib
</span><span class="code-line">│   ├── auth.ts
</span><span class="code-line">│   ├── message.ts
</span><span class="code-line">│   └── request.ts
</span><span class="code-line">├── pages
</span><span class="code-line">│   ├── _app.tsx
</span><span class="code-line">│   ├── _document.tsx
</span><span class="code-line">│   ├── api
</span><span class="code-line">│   │   └── hello.ts
</span><span class="code-line">│   └── index.tsx
</span><span class="code-line">├── styles
</span><span class="code-line">│   └── globals.css
</span><span class="code-line">└── types
</span><span class="code-line">    ├── image.ts
</span><span class="code-line">    ├── message.ts
</span><span class="code-line">    ├── topic.ts
</span><span class="code-line">    └── user.ts
</span></code></pre></div><p>整理一下目录结构，将组件放入<code>components</code>目录下， 将接口请求想代码放到 <code>lib</code> 目录下，<code>types</code> 目录用于存放 typescript 实体接口。</p><h3 id="前后端联调"><a href="#前后端联调" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>前后端联调</h3><p>此时</p><ul><li><p>前端工程启动的端口是 <a target="_blank" rel="noopener noreferrer" href="http://localhost:3000/">http://localhost:3000/</a></p></li><li><p>后端启动的端口是 <a target="_blank" rel="noopener noreferrer" href="http://localhost:1337/">http://localhost:1337/</a></p></li></ul><p>若是纯后端数据渲染，我们可以在 <code>Page</code> 中导出一个 <code>getServerSideProps</code> 方法，接口请求在 node.js 环境中执行，所以不存在跨域问题， 但在接下来的登录与注册功能中，避免不了跨域，难道要启一个 nginx 反向代理吗？</p><p>其实可以直接在 <code>next.config.js</code> 中直接配置路由重写。</p><div class="relative"><pre><code class="code-highlight language-js"><span class="code-line"><span class="token comment doc-comment">/** <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#x27;next&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>NextConfig<span class="token punctuation">}</span></span> */</span>
</span><span class="code-line"><span class="token keyword">const</span> nextConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">reactStrictMode</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">swcMinify</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token keyword">async</span> <span class="token function">rewrites</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword control-flow">return</span> <span class="token punctuation">[</span>
</span><span class="code-line">      <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token string">&#x27;/api/:path*&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token literal-property property">destination</span><span class="token operator">:</span> <span class="token string">&#x27;http://localhost:1337/api/:path*&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token string">&#x27;/uploads/:path*&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token literal-property property">destination</span><span class="token operator">:</span> <span class="token string">&#x27;http://localhost:1337/uploads/:path*&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">]</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> nextConfig
</span></code></pre></div><p>重写路由将 <code>/api</code> 和 <code>/uploads</code> 开头的请求转发到 <code>http://localhost:1337</code>， 这样我们请求数据就不会存在跨域问题了。</p><h3 id="登录注册实现"><a href="#登录注册实现" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>登录注册实现</h3><p>注册与登录是单独的逻辑，我们将它独立成单独的组件， 先来实现注册<code>RegisterModal.tsx</code>。</p><div class="relative"><pre><code class="code-highlight language-bash"><span class="code-line"><span class="token function">yarn</span> <span class="token function">add</span> @headlessui/react
</span></code></pre></div><p>由于登录是弹窗的形式，我们安装一个 tailwindcss 官方的 UI 库，官网上有弹窗的 demo，我们可以直接拷贝，顺便改下成我们的组件代码。</p><div class="relative"><pre><code class="code-highlight language-js"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Dialog</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Transition</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;@headlessui/react&#x27;</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Fragment</span><span class="token punctuation">,</span> useState<span class="token punctuation">,</span> <span class="token maybe-class-name">FormEventHandler</span><span class="token punctuation">,</span> useRef <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;react&#x27;</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> register<span class="token punctuation">,</span> <span class="token maybe-class-name">RegisterData</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;../lib/auth&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">RegisterModal</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">let</span> <span class="token punctuation">[</span>isOpen<span class="token punctuation">,</span> setIsOpen<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">let</span> <span class="token punctuation">[</span>loading<span class="token punctuation">,</span> setLoaing<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">let</span> <span class="token punctuation">[</span>error<span class="token punctuation">,</span> setError<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">const</span> ref <span class="token operator">=</span> useRef <span class="token operator">&lt;</span> <span class="token maybe-class-name">RegisterData</span> <span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">function</span> <span class="token function">closeModal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">setIsOpen</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">function</span> <span class="token function">openModal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">setIsOpen</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token literal-property property">onSubmit</span><span class="token operator">:</span> <span class="token maybe-class-name">FormEventHandler</span><span class="token operator">&lt;</span><span class="token maybe-class-name">HTMLFormElement</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    e<span class="token punctuation">.</span><span class="token function property-access method">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token function">setLoaing</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token function">register</span><span class="token punctuation">(</span>ref<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">)</span>
</span><span class="code-line">      <span class="token punctuation">.</span><span class="token function property-access method">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">const</span> data <span class="token operator">=</span> res<span class="token punctuation">.</span><span class="token property-access">data</span>
</span><span class="code-line">        <span class="token dom variable">sessionStorage</span><span class="token punctuation">.</span><span class="token function property-access method">setItem</span><span class="token punctuation">(</span><span class="token string">&#x27;jwt&#x27;</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span><span class="token property-access">jwt</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">        <span class="token dom variable">sessionStorage</span><span class="token punctuation">.</span><span class="token function property-access method">setItem</span><span class="token punctuation">(</span><span class="token string">&#x27;user&#x27;</span><span class="token punctuation">,</span> <span class="token class-name known-class-name">JSON</span><span class="token punctuation">.</span><span class="token function property-access method">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">        <span class="token function">setLoaing</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
</span><span class="code-line">        <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">location</span><span class="token punctuation">.</span><span class="token function property-access method">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">      <span class="token punctuation">.</span><span class="token keyword control-flow">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">const</span> res <span class="token operator">=</span> err<span class="token punctuation">.</span><span class="token property-access">response</span><span class="token punctuation">.</span><span class="token property-access">data</span>
</span><span class="code-line">        <span class="token function">setError</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token property-access">error</span> <span class="token operator">?</span> res<span class="token punctuation">.</span><span class="token property-access">error</span><span class="token punctuation">.</span><span class="token property-access">message</span> <span class="token operator">:</span> <span class="token string">&#x27;请稍后再试&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">        <span class="token function">setLoaing</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>button
</span><span class="code-line">        type<span class="token operator">=</span><span class="token string">&quot;button&quot;</span>
</span><span class="code-line">        onClick<span class="token operator">=</span><span class="token punctuation">{</span>openModal<span class="token punctuation">}</span>
</span><span class="code-line">        className<span class="token operator">=</span><span class="token string">&quot;rounded-3xl border border-orange-500 px-5  py-2  font-semibold text-orange-500&quot;</span>
</span><span class="code-line">      <span class="token operator">&gt;</span>
</span><span class="code-line">        注册
</span><span class="code-line">      <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token operator">&lt;</span><span class="token maybe-class-name">Transition</span> appear show<span class="token operator">=</span><span class="token punctuation">{</span>isOpen<span class="token punctuation">}</span> <span class="token keyword module">as</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token maybe-class-name">Fragment</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span><span class="token maybe-class-name">Dialog</span> <span class="token keyword module">as</span><span class="token operator">=</span><span class="token string">&quot;div&quot;</span> className<span class="token operator">=</span><span class="token string">&quot;relative z-10&quot;</span> onClose<span class="token operator">=</span><span class="token punctuation">{</span>closeModal<span class="token punctuation">}</span><span class="token operator">&gt;</span>
</span><span class="code-line">          <span class="token operator">&lt;</span><span class="token maybe-class-name">Transition</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Child</span></span>
</span><span class="code-line">            <span class="token keyword module">as</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token maybe-class-name">Fragment</span><span class="token punctuation">}</span>
</span><span class="code-line">            enter<span class="token operator">=</span><span class="token string">&quot;ease-out duration-300&quot;</span>
</span><span class="code-line">            enterFrom<span class="token operator">=</span><span class="token string">&quot;opacity-0&quot;</span>
</span><span class="code-line">            enterTo<span class="token operator">=</span><span class="token string">&quot;opacity-100&quot;</span>
</span><span class="code-line">            leave<span class="token operator">=</span><span class="token string">&quot;ease-in duration-200&quot;</span>
</span><span class="code-line">            leaveFrom<span class="token operator">=</span><span class="token string">&quot;opacity-100&quot;</span>
</span><span class="code-line">            leaveTo<span class="token operator">=</span><span class="token string">&quot;opacity-0&quot;</span>
</span><span class="code-line">          <span class="token operator">&gt;</span>
</span><span class="code-line">            <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;fixed inset-0 bg-black bg-opacity-25&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line">          <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Transition</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Child</span></span><span class="token operator">&gt;</span>
</span><span class="code-line">
</span><span class="code-line">          <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;fixed inset-0 overflow-y-auto&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">            <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;flex min-h-full items-center justify-center p-4 text-center&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">              <span class="token operator">&lt;</span><span class="token maybe-class-name">Transition</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Child</span></span>
</span><span class="code-line">                <span class="token keyword module">as</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token maybe-class-name">Fragment</span><span class="token punctuation">}</span>
</span><span class="code-line">                enter<span class="token operator">=</span><span class="token string">&quot;ease-out duration-300&quot;</span>
</span><span class="code-line">                enterFrom<span class="token operator">=</span><span class="token string">&quot;opacity-0 scale-95&quot;</span>
</span><span class="code-line">                enterTo<span class="token operator">=</span><span class="token string">&quot;opacity-100 scale-100&quot;</span>
</span><span class="code-line">                leave<span class="token operator">=</span><span class="token string">&quot;ease-in duration-200&quot;</span>
</span><span class="code-line">                leaveFrom<span class="token operator">=</span><span class="token string">&quot;opacity-100 scale-100&quot;</span>
</span><span class="code-line">                leaveTo<span class="token operator">=</span><span class="token string">&quot;opacity-0 scale-95&quot;</span>
</span><span class="code-line">              <span class="token operator">&gt;</span>
</span><span class="code-line">                <span class="token operator">&lt;</span><span class="token maybe-class-name">Dialog</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Panel</span></span> className<span class="token operator">=</span><span class="token string">&quot;w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">                  <span class="token operator">&lt;</span><span class="token maybe-class-name">Dialog</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Title</span></span> <span class="token keyword module">as</span><span class="token operator">=</span><span class="token string">&quot;h3&quot;</span> className<span class="token operator">=</span><span class="token string">&quot;text-xl font-medium leading-6 text-gray-900&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">                    注册
</span><span class="code-line">                  <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Dialog</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Title</span></span><span class="token operator">&gt;</span>
</span><span class="code-line">                  <span class="token operator">&lt;</span>section className<span class="token operator">=</span><span class="token string">&quot;pt-5 text-gray-500&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">                    <span class="token punctuation">{</span>error <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
</span><span class="code-line">                      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;mb-5 flex items-center rounded border border-orange-500 bg-orange-50 p-3 text-orange-500&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">                        <span class="token operator">&lt;</span>svg
</span><span class="code-line">                          className<span class="token operator">=</span><span class="token string">&quot;mr-2 h-6 w-6&quot;</span>
</span><span class="code-line">                          fill<span class="token operator">=</span><span class="token string">&quot;none&quot;</span>
</span><span class="code-line">                          stroke<span class="token operator">=</span><span class="token string">&quot;currentColor&quot;</span>
</span><span class="code-line">                          viewBox<span class="token operator">=</span><span class="token string">&quot;0 0 24 24&quot;</span>
</span><span class="code-line">                          xmlns<span class="token operator">=</span><span class="token string">&quot;http://www.w3.org/2000/svg&quot;</span>
</span><span class="code-line">                        <span class="token operator">&gt;</span>
</span><span class="code-line">                          <span class="token operator">&lt;</span>path
</span><span class="code-line">                            strokeLinecap<span class="token operator">=</span><span class="token string">&quot;round&quot;</span>
</span><span class="code-line">                            strokeLinejoin<span class="token operator">=</span><span class="token string">&quot;round&quot;</span>
</span><span class="code-line">                            strokeWidth<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span>
</span><span class="code-line">                            d<span class="token operator">=</span><span class="token string">&quot;M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z&quot;</span>
</span><span class="code-line">                          <span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line">                        <span class="token operator">&lt;</span><span class="token operator">/</span>svg<span class="token operator">&gt;</span>
</span><span class="code-line">                        <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span>error<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
</span><span class="code-line">                      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">                    <span class="token punctuation">)</span><span class="token punctuation">}</span>
</span><span class="code-line">                    <span class="token operator">&lt;</span>form onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>onSubmit<span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">&quot;space-y-6&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">                      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;space-y-2&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">                        <span class="token operator">&lt;</span>label<span class="token operator">&gt;</span>用户名<span class="token operator">:</span><span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
</span><span class="code-line">                        <span class="token operator">&lt;</span>input
</span><span class="code-line">                          className<span class="token operator">=</span><span class="token string">&quot;w-full rounded border px-3 py-2&quot;</span>
</span><span class="code-line">                          type<span class="token operator">=</span><span class="token string">&quot;username&quot;</span>
</span><span class="code-line">                          name<span class="token operator">=</span><span class="token string">&quot;username&quot;</span>
</span><span class="code-line">                          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">(</span>ref<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">.</span><span class="token property-access">username</span> <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</span><span class="code-line">                        <span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line">                      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">                      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;space-y-2&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">                        <span class="token operator">&lt;</span>label<span class="token operator">&gt;</span>邮箱<span class="token operator">:</span><span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
</span><span class="code-line">                        <span class="token operator">&lt;</span>input
</span><span class="code-line">                          className<span class="token operator">=</span><span class="token string">&quot;w-full rounded border px-3 py-2&quot;</span>
</span><span class="code-line">                          type<span class="token operator">=</span><span class="token string">&quot;email&quot;</span>
</span><span class="code-line">                          name<span class="token operator">=</span><span class="token string">&quot;email&quot;</span>
</span><span class="code-line">                          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">(</span>ref<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">.</span><span class="token property-access">email</span> <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</span><span class="code-line">                        <span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line">                      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">                      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;space-y-2&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">                        <span class="token operator">&lt;</span>label<span class="token operator">&gt;</span>密码<span class="token operator">:</span><span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
</span><span class="code-line">                        <span class="token operator">&lt;</span>input
</span><span class="code-line">                          className<span class="token operator">=</span><span class="token string">&quot;w-full rounded border px-3 py-2&quot;</span>
</span><span class="code-line">                          type<span class="token operator">=</span><span class="token string">&quot;password&quot;</span>
</span><span class="code-line">                          name<span class="token operator">=</span><span class="token string">&quot;password&quot;</span>
</span><span class="code-line">                          required
</span><span class="code-line">                          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">(</span>ref<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">.</span><span class="token property-access">password</span> <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</span><span class="code-line">                        <span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line">                      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">
</span><span class="code-line">                      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;space-x-3 text-center&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">                        <span class="token operator">&lt;</span>button
</span><span class="code-line">                          className<span class="token operator">=</span><span class="token string">&quot;rounded-3xl border border-orange-500 bg-orange-500  px-5 py-2  font-semibold text-white&quot;</span>
</span><span class="code-line">                          color<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span>
</span><span class="code-line">                          type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span>
</span><span class="code-line">                          disabled<span class="token operator">=</span><span class="token punctuation">{</span>loading<span class="token punctuation">}</span>
</span><span class="code-line">                        <span class="token operator">&gt;</span>
</span><span class="code-line">                          <span class="token punctuation">{</span>loading <span class="token operator">?</span> <span class="token string">&#x27;注册中...&#x27;</span> <span class="token operator">:</span> <span class="token string">&#x27;注册&#x27;</span><span class="token punctuation">}</span>
</span><span class="code-line">                        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</span><span class="code-line">                        <span class="token operator">&lt;</span>button
</span><span class="code-line">                          type<span class="token operator">=</span><span class="token string">&quot;button&quot;</span>
</span><span class="code-line">                          className<span class="token operator">=</span><span class="token string">&quot;rounded-3xl border border-orange-500  px-5 py-2  font-semibold text-orange-500&quot;</span>
</span><span class="code-line">                          onClick<span class="token operator">=</span><span class="token punctuation">{</span>closeModal<span class="token punctuation">}</span>
</span><span class="code-line">                        <span class="token operator">&gt;</span>
</span><span class="code-line">                          取消
</span><span class="code-line">                        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</span><span class="code-line">                      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">                    <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
</span><span class="code-line">                  <span class="token operator">&lt;</span><span class="token operator">/</span>section<span class="token operator">&gt;</span>
</span><span class="code-line">                <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Dialog</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Panel</span></span><span class="token operator">&gt;</span>
</span><span class="code-line">              <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Transition</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Child</span></span><span class="token operator">&gt;</span>
</span><span class="code-line">            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Dialog</span><span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Transition</span><span class="token operator">&gt;</span>
</span><span class="code-line">    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>上面代码中使用 <code>useRef</code> 来存储表单数据，提交表单后，将返回的 <code>jwt</code> 存在 <code>sessionStorage</code> 中，我将 <code>user</code> 也存到了 <code>sessionStorage</code> 中，比较标准的做法是只存 <code>jwt</code>，用户信息通过<code>/api/users/me</code>接口获取。</p><h3 id="axios-封装"><a href="#axios-封装" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>axios 封装</h3><p>登录成功后，我们要实现发微博的功能</p><p>首先我们需要对 <code>axios</code> 封装一下，方便后续接口请求自动往 <code>http header</code> 中加入 <code>jwt</code> 信息，建一个 <code>lib/request.ts</code> 文件，代码如下</p><div class="relative"><pre><code class="code-highlight language-ts"><span class="code-line"><span class="token keyword">import</span> axios<span class="token punctuation">,</span> <span class="token punctuation">{</span> AxiosRequestConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;axios&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> request <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  timeout<span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">request<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>config<span class="token operator">:</span> AxiosRequestConfig<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token comment">//比如是否需要设置 token</span>
</span><span class="code-line">  <span class="token keyword">const</span> jwt <span class="token operator">=</span> window<span class="token punctuation">.</span>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&#x27;jwt&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>jwt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    config<span class="token operator">!</span><span class="token punctuation">.</span>headers<span class="token operator">!</span><span class="token punctuation">.</span>Authorization <span class="token operator">=</span> <span class="token string">&#x27;Bearer &#x27;</span> <span class="token operator">+</span> jwt
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> config
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></code></pre></div><h3 id="图片上传"><a href="#图片上传" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>图片上传</h3><p>浏览器默认的文件选择 <code>input</code> 样式很丑， <a target="_blank" rel="noopener noreferrer" href="https://tailwindcss.com/docs/hover-focus-and-other-states#file-input-buttons">tailwindcss</a> 对它做了专门的样式优化，我们只需要拷贝 HTML， 就可以写出比较美观的文件上传组件。</p><p><img alt="tailwindcss  上传组件" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6b4889aff2dd41e48048e7bd4bdccab2~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>上传接口</p><div class="relative"><pre><code class="code-highlight language-ts"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function function-variable">upload</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>files<span class="token operator">:</span> File<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>file<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&#x27;files&#x27;</span><span class="token punctuation">,</span> file<span class="token punctuation">,</span> file<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> request<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/upload&#x27;</span><span class="token punctuation">,</span> formData<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">return</span> res<span class="token punctuation">.</span>data
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>input <code>onChange</code> 方法，将上传的返回地址存放在 <code>state</code> 中，用于后续发微博接口中的 images 字段，并且将选择的文件清空。</p><div class="relative"><pre><code class="code-highlight"><span class="code-line">interface ImageData {
</span><span class="code-line">  id: number;
</span><span class="code-line">  url: string;
</span><span class="code-line">}
</span><span class="code-line">
</span><span class="code-line">const [images, setImages] = useState&lt;ImageData[]&gt;([]);
</span><span class="code-line">
</span><span class="code-line">const handleFileChange = async (e: any) =&gt; {
</span><span class="code-line">    const files = e.target.files;
</span><span class="code-line">    const res = (await upload(files)) as any;
</span><span class="code-line">    setImages(res);
</span><span class="code-line">    e.target.value = &quot;&quot;;
</span><span class="code-line">  };
</span></code></pre></div><h3 id="发微博"><a href="#发微博" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>发微博</h3><p>接下来我们将发微博的逻辑封装成一个 <code>SendMessage</code> 组件，当前在哪个话题<code>topic</code>下发，发送人<code>user</code>是谁? 这些都不是当前组件的逻辑，所以可以使用 <code>props</code> 传入即可。</p><p>组件 HTML 结构：</p><div class="relative"><pre><code class="code-highlight language-ts"><span class="code-line"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useRef<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;react&#x27;</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> User <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;../types/user&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">type</span> <span class="token class-name">Props</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token function function-variable">callBack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</span><span class="code-line">  topicId<span class="token operator">:</span> <span class="token builtin">number</span>
</span><span class="code-line">  user<span class="token operator">:</span> User
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">SendMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span> callBack<span class="token punctuation">,</span> user<span class="token punctuation">,</span> topicId <span class="token punctuation">}</span><span class="token operator">:</span> Props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> ref <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useRef</span><span class="token class-name generic"><span class="token operator">&lt;</span>HTMLTextAreaElement <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>loading<span class="token punctuation">,</span> setLoading<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function function-variable">handleSendMesage</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;rounded-sm bg-white p-3 shadow-sm&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>textarea className<span class="token operator">=</span><span class="token string">&quot;w-full border p-3&quot;</span> ref<span class="token operator">=</span><span class="token punctuation">{</span>ref<span class="token punctuation">}</span> rows<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>textarea<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;flex items-center justify-between&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>
</span><span class="code-line">          <span class="token operator">&lt;</span>button
</span><span class="code-line">            onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleSendMesage<span class="token punctuation">}</span>
</span><span class="code-line">            type<span class="token operator">=</span><span class="token string">&quot;button&quot;</span>
</span><span class="code-line">            disabled<span class="token operator">=</span><span class="token punctuation">{</span>loading<span class="token punctuation">}</span>
</span><span class="code-line">            className<span class="token operator">=</span><span class="token string">&quot;rounded border border-orange-500 bg-orange-500  px-3 py-1  font-semibold text-white&quot;</span>
</span><span class="code-line">          <span class="token operator">&gt;</span>
</span><span class="code-line">            发送
</span><span class="code-line">          <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>发送接口与逻辑：</p><div class="relative"><pre><code class="code-highlight language-ts"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> request<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/messages&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function function-variable">handleSendMesage</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>ref<span class="token punctuation">.</span>current <span class="token operator">&amp;&amp;</span> ref<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token keyword">try</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">await</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">        content<span class="token operator">:</span> ref<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
</span><span class="code-line">        images<span class="token operator">:</span> images<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> m<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">        user<span class="token operator">:</span> user<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
</span><span class="code-line">        topic<span class="token operator">:</span> topicId<span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">      <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
</span><span class="code-line">      ref<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&#x27;&#x27;</span>
</span><span class="code-line">      <span class="token function">setImages</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line">      <span class="token function">callBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>这里需要注意的是，关联对象的保存，我们只需要传入 <code>id</code> 就可以，比如关联的图片 <code>images</code> ，我们只需要传入一个 id 数组。</p><h3 id="联表查询"><a href="#联表查询" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>联表查询</h3><p>接下来，我们需要实现微博列表，当我们请求接口时候返回的接口如下：</p><p><img alt="聊表查询失败" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/eee904185d6e46798929d4ce6e98df45~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>接口中只返回了 <code>content</code> 字段，并没有 <code>user</code> 和 <code>images</code> 等信息，那么该如何通过接口实现联表查询呢？</p><p>遇到问题不用慌，先看下<a target="_blank" rel="noopener noreferrer" href="https://docs.strapi.io/developer-docs/latest/developer-resources/database-apis-reference/rest/populating-fields.html#relation-media-fields">文档</a>，上面清楚地记录了 Rest API 关联关系查询的方式，在 url 上加参数<code>?populate=*</code>，意思是:将所有关联关系都填充，若我们只想看看这条微博是谁发送的，只需要改成具体的参数字段：</p><div class="relative"><pre><code class="code-highlight language-bash"><span class="code-line">http://localhost:3000/api/messages?populate<span class="token operator">=</span>user
</span></code></pre></div><p>接口请求返回结果如下：</p><p><img alt="聊表查询成功" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fb6da9b9fd174a05843937acbcd362f7~tplv-k3u1fbpfcp-zoom-1.image"/></p><h2 id="最终效果"><a href="#最终效果" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>最终效果</h2><p><img alt="实现简易微博效果" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cf190d4adbc7479ca836a9ed29399c90~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>到此，我相信你对 strapi 有了一定了解，并且可以通过 next.js 实现微博列表，联调查询等功能，若还是不清楚，可以直接看我的<a target="_blank" rel="noopener noreferrer" href="https://github.com/maqi1520/strapi-weibo" title="源码">源码</a></p><h2 id="小结"><a href="#小结" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>小结</h2><p>本文主要介绍了使用 strapi 和 Next.js 实现了一个简易的微博，我们不必写后端，只需要后台配置便可以创建 api 接口，通过本文，我相信你对 strapi 有了一定了解，但 strapi 除了 Rest API，还有 ：</p><ul><li>GraphQL API，前端可以直接使用 GraphQL 查询语言</li><li>Query Engine API 直接操作数据库层来实现功能</li><li>Entity Service API 复杂数据结构查询</li></ul><p>通过 Query Engine API 和 Entity Service API 实现自定义接口。</p><h2 id="后续"><a href="#后续" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>后续</h2><p>接下来我将继续分享 Next.js 相关的实战文章，欢迎各位关注我的《Next.js 全栈开发实战》 专栏。</p><ul><li>使用 Notion 数据库进行 Next.js 应用全栈开发</li><li>使用 Prisma 和 PostgreSQL 进行 Next.js 应用全栈开发</li><li>使用 NextAuth 实现 Next.js 应用的鉴权与认证</li><li>使用 React query 给 Next.js 应用全局状态管理</li><li>使用 i18next 实现 Next.js 应用国际化</li><li>使用 Playwright 进行 Next.js 应用的端到端测试</li><li>使用 Github actions 给 Next.js 应用创建 CI/CD</li><li>使用 Docker 部署 Next.js 应用</li><li>将 Next.js 应用部署到腾讯云 serverless</li></ul><p>你对哪块内容比较感兴趣呢？欢迎在评论区留言，感谢您的阅读。</p></div><div class="border-t border-gray-200 pt-6 pb-6 text-sm text-gray-700 dark:border-gray-700 dark:text-gray-300"><div class="mb-3"><img alt="runjs-cool" width="384" height="140" src="/static/images/runjs-cool.webp"/></div><span>关注微信公众号，获取最新原创文章（首发）</span><a target="_blank" rel="noopener noreferrer" href="https://github.com/balac2015/blob/main/data/blog/使用 Strapi 和 Next.js 开发一个简易微博.md">View on GitHub</a></div><div id="comment"></div></div><footer><div class="divide-gray-200 text-sm font-medium leading-5 dark:divide-gray-700 xl:col-start-1 xl:row-start-2 xl:divide-y"><div class="py-4 xl:py-8"><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">标签</h2><div class="mt-3 flex flex-wrap"><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/reactjs">React.js</a></div></div><div class="flex justify-between py-4 xl:block xl:space-y-8 xl:py-8"><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">上一篇 文章</h2><div class="mt-3 text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/%E4%BD%BF%E7%94%A8%20Next.js%20%E5%92%8C%E6%8E%98%E9%87%91%20API%20%E6%89%93%E9%80%A0%E4%B8%AA%E6%80%A7%E5%8D%9A%E5%AE%A2">使用 Next.js 和掘金 API 打造个性博客</a></div></div><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">下一篇 文章</h2><div class="mt-3 text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/%E4%BD%BF%E7%94%A8%20Notion%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9B%E8%A1%8C%20Next.js%20%E5%BA%94%E7%94%A8%E5%85%A8%E6%A0%88%E5%BC%80%E5%8F%91">使用 Notion 数据库进行 Next.js 应用全栈开发</a></div></div></div></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog">← 返回文章列表</a></div></footer></div></div></article></div></main></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var d=Object.create;var o=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var r=a=\u003eo(a,\"__esModule\",{value:!0});var u=(a,s)=\u003e()=\u003e(s||a((s={exports:{}}).exports,s),s.exports),g=(a,s)=\u003e{for(var c in s)o(a,c,{get:s[c],enumerable:!0})},i=(a,s,c,n)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let l of m(s))!k.call(a,l)\u0026\u0026(c||l!==\"default\")\u0026\u0026o(a,l,{get:()=\u003es[l],enumerable:!(n=h(s,l))||n.enumerable});return a},f=(a,s)=\u003ei(r(o(a!=null?d(N(a)):{},\"default\",!s\u0026\u0026a\u0026\u0026a.__esModule?{get:()=\u003ea.default,enumerable:!0}:{value:a,enumerable:!0})),a),b=(a=\u003e(s,c)=\u003ea\u0026\u0026a.get(s)||(c=i(r({}),s,1),a\u0026\u0026a.set(s,c),c))(typeof WeakMap!=\"undefined\"?new WeakMap:0);var p=u((I,t)=\u003e{t.exports=_jsx_runtime});var v={};g(v,{default:()=\u003ex,frontmatter:()=\u003ey});var e=f(p()),y={title:\"\\u4F7F\\u7528 Strapi \\u548C Next.js \\u5F00\\u53D1\\u4E00\\u4E2A\\u7B80\\u6613\\u5FAE\\u535A\",date:\"2022/9/20 09:35:34\",lastmod:\"2023/1/25 11:43:01\",tags:[\"React.js\"],draft:!1,summary:\"\\u672C\\u6587\\u4E3B\\u8981\\u4ECB\\u7ECD\\u4E86\\u4F7F\\u7528 strapi \\u548C Next.js \\u5B9E\\u73B0\\u4E86\\u4E00\\u4E2A\\u7B80\\u6613\\u7684\\u5FAE\\u535A\\uFF0C\\u6211\\u4EEC\\u4E0D\\u5FC5\\u5199\\u540E\\u7AEF\\uFF0C\\u53EA\\u9700\\u8981\\u540E\\u53F0\\u914D\\u7F6E\\u4FBF\\u53EF\\u4EE5\\u521B\\u5EFA api \\u63A5\\u53E3\\uFF0C\\u901A\\u8FC7\\u672C\\u6587\\uFF0C\\u6211\\u76F8\\u4FE1\\u4F60\\u5BF9 strapi \\u6709\\u4E86\\u4E00\\u5B9A\\u4E86\\u89E3\\u3002\",images:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9d9fcadc6a134a2296ced2f4c2b5ee3d~tplv-k3u1fbpfcp-watermark.image?\",authors:[\"default\"],layout:\"PostLayout\"};function w(a={}){let{wrapper:s}=a.components||{};return s?(0,e.jsx)(s,Object.assign({},a,{children:(0,e.jsx)(c,{})})):c();function c(){let n=Object.assign({blockquote:\"blockquote\",p:\"p\",h2:\"h2\",a:\"a\",span:\"span\",ul:\"ul\",li:\"li\",img:\"img\",h3:\"h3\",pre:\"pre\",code:\"code\"},a.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.blockquote,{children:(0,e.jsx)(n.p,{children:\"\\u6587\\u7AE0\\u4E3A\\u7A00\\u571F\\u6398\\u91D1\\u6280\\u672F\\u793E\\u533A\\u9996\\u53D1\\u7B7E\\u7EA6\\u6587\\u7AE0\\uFF0C14 \\u5929\\u5185\\u7981\\u6B62\\u8F6C\\u8F7D\\uFF0C14 \\u5929\\u540E\\u672A\\u83B7\\u6388\\u6743\\u7981\\u6B62\\u8F6C\\u8F7D\\uFF0C\\u4FB5\\u6743\\u5FC5\\u7A76\\uFF01\"})}),(0,e.jsxs)(n.h2,{id:\"\\u9605\\u8BFB\\u672C\\u6587\\u4F60\\u5C06\\u6536\\u83B7\",children:[(0,e.jsx)(n.a,{href:\"#\\u9605\\u8BFB\\u672C\\u6587\\u4F60\\u5C06\\u6536\\u83B7\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u9605\\u8BFB\\u672C\\u6587\\uFF0C\\u4F60\\u5C06\\u6536\\u83B7\\uFF1A\"]}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"\\u5982\\u4F55\\u4F7F\\u7528 Strapi \\u521B\\u5EFA\\u540E\\u7AEF API\"}),(0,e.jsx)(n.li,{children:\"\\u5982\\u4F55\\u5728 Next.js \\u4E2D\\u4E0E\\u5355\\u72EC\\u540E\\u7AEF\\u8054\\u8C03\"}),(0,e.jsx)(n.li,{children:\"\\u5E76\\u4E14\\u4E86\\u89E3\\u4E00\\u4E2A\\u5168\\u6808\\u5E94\\u7528\\u7684\\u5B9E\\u73B0\\u903B\\u8F91\"})]}),(0,e.jsxs)(n.h2,{id:\"\\u80CC\\u666F\",children:[(0,e.jsx)(n.a,{href:\"#\\u80CC\\u666F\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u80CC\\u666F\"]}),(0,e.jsx)(n.p,{children:\"\\u5728\\u4E0A\\u4E00\\u7BC7\\u6587\\u7AE0\\u4E2D\\uFF0C\\u6211\\u4EEC\\u4F7F\\u7528\\u4E86 Next.js \\u548C\\u6398\\u91D1 API \\u521B\\u5EFA\\u4E86\\u4E00\\u4E2A\\u5168\\u6808\\u535A\\u5BA2\\uFF0C\\u4F7F\\u7528\\u4E86\\u6293\\u5305\\u7684\\u65B9\\u5F0F\\u83B7\\u5F97\\u4E86\\u6398\\u91D1 API\\uFF0C\\u7EC8\\u7A76\\u6709\\u4E9B\\u6295\\u673A\\u53D6\\u5DE7\\uFF0C\\u82E5\\u6CA1\\u6709 API \\uFF0C\\u5C31\\u65E0\\u6CD5\\u72EC\\u7ACB\\u5B8C\\u6210\\u4E00\\u4E2A\\u5E94\\u7528\\u7684\\uFF0C\\u4ECA\\u5929\\u6211\\u5C06\\u5206\\u4EAB\\u53E6\\u4E00\\u79CD\\u65B9\\u5F0F\\uFF0C\\u540C\\u6837\\u4E0D\\u9700\\u8981\\u5199\\u540E\\u7AEF\\u63A5\\u53E3\\uFF0C\\u901A\\u8FC7\\u53EF\\u89C6\\u5316\\u754C\\u9762\\u5C31\\u53EF\\u4EE5\\u521B\\u5EFA Restful API\\uFF0C\\u90A3\\u6709\\u4E86\\u63A5\\u53E3\\uFF0C\\u6211\\u4EEC\\u5C31\\u53EF\\u4EE5\\u6765\\u5B9E\\u73B0\\u4EFB\\u610F\\u5E94\\u7528\\u5566\\uFF0C\\u4E00\\u8D77\\u6765\\u770B\\u770B\\u5427\\u3002\"}),(0,e.jsxs)(n.p,{children:[\"\\u672C\\u6587\\u5168\\u90E8\\u4EE3\\u7801\\u90FD\\u5728 GitHub \",(0,e.jsx)(n.a,{href:\"https://github.com/maqi1520/strapi-weibo\",children:\"\\u4ED3\\u5E93\"}),\"\\u4E2D\"]}),(0,e.jsxs)(n.h2,{id:\"\\u5B9E\\u73B0\\u529F\\u80FD\\u4E0E\\u6548\\u679C\",children:[(0,e.jsx)(n.a,{href:\"#\\u5B9E\\u73B0\\u529F\\u80FD\\u4E0E\\u6548\\u679C\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5B9E\\u73B0\\u529F\\u80FD\\u4E0E\\u6548\\u679C\"]}),(0,e.jsx)(n.p,{children:\"\\u5148\\u6765\\u770B\\u770B\\u6211\\u4EEC\\u8981\\u5B9E\\u73B0\\u7684\\u6548\\u679C\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"\\u6548\\u679C\\u9884\\u89C8\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/03bf1bae632743e28f929cf93e894c42~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,e.jsx)(n.p,{children:\"\\u5B9E\\u73B0\\u529F\\u80FD\"}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"\\u6CE8\\u518C\\u4E0E\\u767B\\u5F55\"}),(0,e.jsx)(n.li,{children:\"\\u767B\\u5F55\\u540E\\u53EF\\u4EE5\\u53D1\\u5FAE\\u535A\\uFF0C\\u5E76\\u4E14\\u53EF\\u4EE5\\u5728\\u4E0D\\u540C\\u7684\\u8BDD\\u9898\\u4E0B\\u53D1\\u5E03\"}),(0,e.jsx)(n.li,{children:\"\\u4E0A\\u4F20\\u56FE\\u7247\"}),(0,e.jsx)(n.li,{children:\"\\u6709\\u4E00\\u4E2A\\u540E\\u53F0\\u53EF\\u4EE5\\u7BA1\\u7406\\u5FAE\\u535A\"})]}),(0,e.jsxs)(n.h2,{id:\"\\u4EC0\\u4E48\\u662F-strapi\",children:[(0,e.jsx)(n.a,{href:\"#\\u4EC0\\u4E48\\u662F-strapi\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u4EC0\\u4E48\\u662F strapi\"]}),(0,e.jsxs)(n.p,{children:[\"strapi \\u662F\\u514D\\u8D39\\u5F00\\u6E90\\u7684 Nodejs \\u65E0\\u5934 CMS \\u5185\\u5BB9\\u7BA1\\u7406\\u6846\\u67B6\\uFF0C\\u53EF\\u4EE5\\u901A\\u8FC7\\u540E\\u53F0\\u7BA1\\u7406\\u754C\\u9762\\u521B\\u5EFA\\u81EA\\u5B9A\\u4E49 API\\uFF0C\\u5E76\\u4E14\\u5B8C\\u5168\\u4F7F\\u7528 JavaScript \\u5B9E\\u73B0\\u3002 \\u6253\\u5F00\",(0,e.jsx)(n.a,{href:\"https://strapi.io/\",title:\"strapi \\u5B98\\u7F51\",children:\"strapi \\u5B98\\u7F51\"}),\"\\uFF0C\\u9996\\u9875\\u7684\\u4EA4\\u4E92\\u5F0F\\u52A8\\u753B\\u6620\\u5165\\u773C\\u7751\\u3002\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"strapi \\u5B98\\u7F51\\u4EA4\\u4E92\\u52A8\\u753B\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ef58e932e13c46bd9a156801f207d64e~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,e.jsx)(n.p,{children:\"\\u6211\\u4EEC\\u53EF\\u4EE5\\u6E05\\u695A\\u7684\\u770B\\u5230\\uFF0C\\u5728\\u540E\\u53F0\\u914D\\u7F6E\\u5B57\\u6BB5\\uFF0C\\u4FBF\\u53EF\\u4EE5\\u751F\\u6210 JSON schema\\uFF0C\\u6709\\u4E86 JSON schema\\uFF0C strapi \\u4FBF\\u4F1A\\u81EA\\u52A8\\u751F\\u6210 Restful API\\uFF0C\\u662F\\u4E0D\\u662F\\u5F88\\u5F3A\\u5927\\u5462\\uFF1F\"}),(0,e.jsxs)(n.h2,{id:\"\\u540E\\u7AEF\\u5DE5\\u7A0B\",children:[(0,e.jsx)(n.a,{href:\"#\\u540E\\u7AEF\\u5DE5\\u7A0B\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u540E\\u7AEF\\u5DE5\\u7A0B\"]}),(0,e.jsxs)(n.h3,{id:\"\\u521D\\u59CB\\u5316\\u9879\\u76EE\",children:[(0,e.jsx)(n.a,{href:\"#\\u521D\\u59CB\\u5316\\u9879\\u76EE\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u521D\\u59CB\\u5316\\u9879\\u76EE\"]}),(0,e.jsx)(n.p,{children:\"\\u6211\\u4EEC\\u5148\\u4F7F\\u7528 strapi \\u5B98\\u7F51\\u63D0\\u4F9B\\u7684\\u811A\\u624B\\u67B6\\u521D\\u59CB\\u5316\\u4E00\\u4E2A\\u540E\\u7AEF\\u5E94\\u7528\"}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsx)(n.code,{className:\"code-highlight language-bash\",children:(0,e.jsx)(n.span,{className:\"code-line\",children:`npx create-strapi-app backend --quickstart\n`})})}),(0,e.jsx)(n.p,{children:\"\\u521B\\u5EFA\\u5B8C\\u6210\\u540E\\uFF0C\\u5B83\\u4F1A\\u5E2E\\u6211\\u4EEC\\u81EA\\u52A8\\u5B89\\u88C5 npm \\u5305\\uFF0C\\u5B89\\u88C5\\u5B8C\\u6210\\u540E\\u4F1A\\u663E\\u793A\\u5982\\u4E0B\\u547D\\u4EE4\"}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-bash\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"yarn\"}),` develop\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\u5F00\\u53D1\\u73AF\\u5883\\uFF0C\\u5F00\\u59CB Strapi \\u8FDB\\u5165\\u76D1\\u542C\\u6A21\\u578B\\uFF0C\\u4FEE\\u6539\\u5DE5\\u7A0B\\u6587\\u4EF6\\u4F1A\\u81EA\\u52A8\\u91CD\\u542F\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"yarn\"}),` start\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\u751F\\u4EA7\\u73AF\\u5883\\uFF0C\\u542F\\u52A8 Strapi\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"yarn\"}),` build\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\u6784\\u5EFA Strapi \\u540E\\u53F0.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"yarn\"}),` strapi\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u663E\\u793A\\u6240\\u6709\\u53EF\\u7528\\u7684\\u547D\\u4EE4\n`})]})}),(0,e.jsxs)(n.p,{children:[\"\\u7D27\\u63A5\\u7740\\u4F1A\\u81EA\\u52A8\\u8FDB\\u5165 backend \\u5E2E\\u6211\\u4EEC\\u6267\\u884C \",(0,e.jsx)(n.code,{children:\"yarn develop\"}),\"\\uFF0C\\u5E76\\u4E14\\u81EA\\u52A8\\u6253\\u5F00\\u5982\\u4E0B\\u9875\\u9762\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"strapi \\u540E\\u53F0\\u767B\\u5F55\\u9875\\u9762\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/96e90ca462f347a7bb0ce9dd02184e05~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,e.jsx)(n.p,{children:\"\\u9996\\u5148\\u6211\\u4EEC\\u8981\\u6CE8\\u518C\\u4E00\\u4E2A admin \\u8D26\\u53F7\\uFF0C\\u968F\\u4FBF\\u8F93\\u5165\\u4E00\\u4E2A\\u5C31\\u884C\\uFF0C \\u4F46\\u8981\\u8BB0\\u4F4F\\u8FD9\\u4E2A\\u8D26\\u53F7\"}),(0,e.jsx)(n.pre,{children:(0,e.jsxs)(n.code,{className:\"code-highlight\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`First name: admin\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`Email: admin@admin.com\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`Password: Admin@123\n`})]})}),(0,e.jsx)(n.p,{children:\"\\u767B\\u5F55\\u540E\\u6765\\u7684 strapi \\u7684\\u4E3B\\u754C\\u9762\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/59312a9c9aa64e2a91f87d9517144d69~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,e.jsx)(n.p,{children:\"\\u9996\\u9875\\u6709\\u5173\\u4E8E strapi \\u5B66\\u4E60\\u7684\\u4E3B\\u8981\\u5165\\u53E3\\uFF0C\\u5305\\u62EC\\u6587\\u6863\\u3001\\u4EE3\\u7801\\u793A\\u4F8B\\u3001\\u8BFE\\u7A0B\\u548C\\u535A\\u5BA2\\u3002\"}),(0,e.jsx)(n.p,{children:\"\\u7EAF\\u82F1\\u6587\\u7684\\u540E\\u53F0\\uFF0C\\u4E00\\u5F00\\u59CB\\u53EF\\u80FD\\u6709\\u4E9B\\u4E0D\\u4E60\\u60EF\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u4F7F\\u7528 chrome \\u7FFB\\u8BD1\\u63D2\\u4EF6\\u76F4\\u63A5\\u7FFB\\u8BD1\\u6210\\u4E2D\\u6587\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"strapi \\u540E\\u53F0\\u6B22\\u8FCE\\u9875\\u9762\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7097d49307e948e18a259a1b16fa5f0d~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,e.jsxs)(n.h3,{id:\"\\u5EFA\\u8868\",children:[(0,e.jsx)(n.a,{href:\"#\\u5EFA\\u8868\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5EFA\\u8868\"]}),(0,e.jsxs)(n.p,{children:[\"\\u901A\\u8FC7\\u5BFC\\u822A\\u4E0A\\u7684 \",(0,e.jsx)(n.code,{children:\"Content-Type Builder\"}),\"\\uFF0C\\u4E5F\\u5C31\\u662F\",(0,e.jsx)(n.code,{children:\"\\u5185\\u5BB9\\u7C7B\\u578B\\u751F\\u6210\\u5668\"}),\"\\u5165\\u53E3\\u5F00\\u59CB\\u5EFA\\u7ACB\\u8868\\u3002\"]}),(0,e.jsx)(n.p,{children:\"\\u6211\\u4EEC\\u9996\\u5148\\u6765\\u60F3\\u60F3\\uFF0C\\u5FAE\\u535A\\u7CFB\\u7EDF\\u8BE5\\u5EFA\\u54EA\\u4E9B\\u8868\\uFF1F\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"\\u5B9E\\u4F53\\u56FE\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bfe5956183b94b989d70f82d69951c97~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,e.jsx)(n.p,{children:\"\\u5148\\u6765\\u753B\\u4E00\\u5F20\\u5B9E\\u4F53\\u56FE\\uFF0C\\u68B3\\u7406\\u4E0B\\u5404\\u4E2A\\u5B9E\\u4F53\\u76F4\\u63A5\\u7684\\u5173\\u7CFB\"}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"\\u4E00\\u4E2A\\u7528\\u6237\\u53EF\\u4EE5\\u53D1\\u9001\\u591A\\u6761\\u4FE1\\u606F\\uFF1A\\u4E00\\u5BF9\\u591A\"}),(0,e.jsx)(n.li,{children:\"\\u4E00\\u4E2A\\u8BDD\\u9898\\u4E0B\\u4E5F\\u53EF\\u4EE5\\u6709\\u591A\\u6761\\u4FE1\\u606F\\uFF1A\\u4E00\\u5BF9\\u591A\"}),(0,e.jsx)(n.li,{children:\"\\u4E00\\u6761\\u4FE1\\u606F\\u53EF\\u4EE5\\u4E0A\\u4F20\\u591A\\u5F20\\u56FE\\u7247\\uFF1A\\u4E00\\u5BF9\\u591A\"})]}),(0,e.jsx)(n.p,{children:\"\\u90A3\\u4E48\\u6211\\u4EEC\\u53EF\\u4EE5\\u4EE5\\u6B64\\u6765\\u5199\\u51FA TS \\u7C7B\\u578B\\u63A5\\u53E3\"}),(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-ts\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"interface\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"User\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  id\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"number\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  username\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  email\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  password\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"interface\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Topic\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  id\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"number\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  title\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  desc\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"interface\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Message\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  id\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"number\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  content\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  images\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  user\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),` User\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  createdTime\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"number\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  topic\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),` Topic\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\u6211\\u4EEC\\u53EF\\u4EE5\\u770B\\u5230\\uFF0C\\u540E\\u53F0\\u4E2D\\u5DF2\\u7ECF\\u6709 User \\u96C6\\u5408\\u4E86\\uFF0C\\u6240\\u4EE5\\u53EF\\u4EE5\\u4E0D\\u5FC5\\u5EFA\\u7528\\u6237\\u8868\\u4E86\\uFF0C\\u70B9\\u51FB \",(0,e.jsx)(n.code,{children:\"Create new collection type\"}),\"\\u6765\\u521B\\u5EFA\\u4E00\\u4E2A\\u65B0\\u7684\\u96C6\\u5408\\uFF1A\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"strapi \\u540E\\u53F0\\u521B\\u5EFA\\u96C6\\u5408\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4c38b190f1bb4c0fa4828e13393cabd1~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,e.jsxs)(n.p,{children:[\"\\u8F93\\u5165 Display name \\u4E3A \",(0,e.jsx)(n.code,{children:\"topic\"}),\" \\u4E3B\\u9898\\u8868\\uFF0C\\u53F3\\u8FB9\\u7684\\u53C2\\u6570\\u4F1A\\u81EA\\u52A8\\u586B\\u5145\\uFF0C\\u9ED8\\u8BA4\\u4E0D\\u7528\\u4FEE\\u6539\\uFF0C\\u70B9\\u51FB Continue \\u7EE7\\u7EED\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"strapi \\u540E\\u53F0\\u6DFB\\u52A0\\u5B57\\u6BB5\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/69994809d2d041299337416b618f577a~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,e.jsx)(n.p,{children:\"\\u5728\\u5F39\\u51FA\\u9875\\u9762\\u4E2D\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u770B\\u5230\\u6240\\u6709\\u7684\\u5B57\\u6BB5\\u7C7B\\u578B\\uFF0C\\u5305\\u542B\\u6587\\u672C\\u3001\\u90AE\\u7BB1\\u3001\\u5BCC\\u6587\\u672C\\u3001\\u5BC6\\u7801\\u3001\\u6570\\u5B57\\u3001\\u4E0B\\u62C9\\u9009\\u62E9\\u7B49\\uFF0C\\u53EA\\u9700\\u8981\\u70B9\\u51FB\\u9009\\u62E9\\u76F8\\u5E94\\u5B57\\u6BB5\\u5C31\\u53EF\\u4EE5\\u5EFA\\u8868\\u5B57\\u6BB5\\u4E86\\u3002\"}),(0,e.jsx)(n.p,{children:\"\\u5F53\\u6211\\u4EEC\\u5EFA\\u7ACB\\u5B8C\\u6210\\u4E00\\u5F20\\u8868\\u540E\\uFF0C\\u5F15\\u5BFC\\u9875\\u9762\\u4FBF\\u4F1A\\u63D0\\u793A\\u6211\\u4EEC\\u901A\\u8FC7 api \\u8BBF\\u95EE\\u63A5\\u53E3\\u4E86\\u3002\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"strapi \\u540E\\u53F0\\u63D0\\u793A api \\u5730\\u5740\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d7a239b1c54048feaa16d7c72c2f2605~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,e.jsxs)(n.h3,{id:\"\\u5EFA\\u7ACB\\u8868\\u5173\\u8054\",children:[(0,e.jsx)(n.a,{href:\"#\\u5EFA\\u7ACB\\u8868\\u5173\\u8054\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5EFA\\u7ACB\\u8868\\u5173\\u8054\"]}),(0,e.jsx)(n.p,{children:\"\\u5EFA\\u7ACB\\u5B8C Message \\u8868\\u540E\\uFF0C\\u9700\\u8981\\u4E0E User \\u5EFA\\u7ACB\\u5173\\u7CFB\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"strapi \\u540E\\u53F0\\u5EFA\\u7ACB\\u8868\\u5173\\u8054\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fec74dede07a4562859187598ba13290~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,e.jsx)(n.p,{children:\"\\u70B9\\u51FB User \\u8868\\uFF0C\\u9009\\u62E9 Relation \\u5B57\\u6BB5\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"strapi \\u5EFA\\u7ACB\\u8868\\u5173\\u8054\\u4E00\\u5BF9\\u591A\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2cb383a0676040b5aa0e0c5a9bd287b9~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,e.jsx)(n.p,{children:\"\\u5728\\u53F3\\u4FA7\\u9009\\u62E9 Message \\u8868\\uFF0C\\u4E2D\\u95F4\\u5173\\u7CFB\\u9009\\u62E9\\u4E00\\u5BF9\\u591A\\uFF0CMessage \\u8868\\u5173\\u7CFB\\u5B57\\u6BB5\\uFF0C\\u8F93\\u5165 user\\u3002\"}),(0,e.jsx)(n.p,{children:\"\\u56E0\\u4E3A\\u662F\\u591A\\u5BF9\\u4E00\\uFF0C\\u4E00\\u6761 message \\u53EA\\u5C5E\\u4E8E\\u4E00\\u4E2A\\u7528\\u6237\\uFF0C\\u6240\\u4EE5\\u8F93\\u5165 user \\u5355\\u6570\\uFF0C\\u800C\\u4E0D\\u662F users\\uFF0C\\u82E5\\u662F\\u591A\\u5BF9\\u591A\\u7684\\u60C5\\u51B5\\uFF0C\\u6211\\u4EEC\\u8981\\u8F93\\u5165 users\\uFF0C \\u5B57\\u6BB5\\u547D\\u540D\\u4E0A\\u7684\\u89C4\\u8303\\uFF0C\\u53EF\\u4EE5\\u8BA9\\u6211\\u4EEC\\u4ECE\\u63A5\\u53E3\\u8FD4\\u56DE\\u6570\\u636E\\u770B\\u51FA\\u5BF9\\u5E94\\u7684\\u5173\\u7CFB\\u3002\"}),(0,e.jsx)(n.p,{children:\"\\u91CD\\u590D\\u4E0A\\u8FF0\\u6B65\\u9AA4\\u6211\\u4EEC\\u53EF\\u4EE5\\u5EFA\\u5B8C\\u6240\\u6709\\u8868\\u4E86\\uFF0C\\u5176\\u4E2D images \\u8868\\u548C\\u7528\\u6237\\u8868\\u662F\\u6211\\u4EEC\\u4E0D\\u8981\\u5EFA\\u7ACB\\u7684\\uFF0C\\u56E0\\u4E3A\\u7528\\u6237\\u548C\\u9644\\u4EF6\\u4E0A\\u4F20\\u662F\\u901A\\u7528\\u529F\\u80FD\\uFF0Cstrapi \\u7CFB\\u7EDF\\u5E2E\\u6211\\u4EEC\\u5185\\u7F6E\\u4E86\\uFF0C\\u8FD9\\u771F\\u7684\\u662F\\u6781\\u5927\\u5730\\u52A0\\u5FEB\\u4E86\\u5F00\\u53D1\\u6548\\u7387\\u3002\"}),(0,e.jsxs)(n.h3,{id:\"\\u63A5\\u53E3\\u67E5\\u8BE2\\u4E0E\\u83B7\\u53D6\",children:[(0,e.jsx)(n.a,{href:\"#\\u63A5\\u53E3\\u67E5\\u8BE2\\u4E0E\\u83B7\\u53D6\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u63A5\\u53E3\\u67E5\\u8BE2\\u4E0E\\u83B7\\u53D6\"]}),(0,e.jsxs)(n.p,{children:[\"\\u6211\\u4EEC\\u53EF\\u4EE5\\u901A\\u8FC7\",(0,e.jsx)(n.a,{href:\"https://docs.strapi.io/developer-docs/latest/plugins/users-permissions.html\",title:\"strapi \\u6587\\u6863\",children:\"\\u5B98\\u65B9\\u7684\\u6587\\u6863\"}),\"\\u5730\\u5740\\u627E\\u5230\\u5BF9\\u5E94\\u7684\\u6CE8\\u518C\\u548C\\u767B\\u5F55\\u63A5\\u53E3\\u3002\"]}),(0,e.jsx)(n.p,{children:\"\\u4F7F\\u7528\\u63A5\\u53E3\\u7BA1\\u7406\\u5DE5\\u5177\\u8BBF\\u95EE\\u4E0B api\\uFF0C\\u6BD4\\u5982\\u6211\\u4EEC\\u6CE8\\u518C\\u4E00\\u4E2A\\u7528\\u6237\\uFF0C\\u5982\\u4E0B\\u56FE\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"apifox \\u8C03\\u7528\\u6CE8\\u518C\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/93d52c83d75340c5b83ddaab934dc41e~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,e.jsxs)(n.p,{children:[\"\\u8BBF\\u95EE\\u540E\\uFF0C\\u4FBF\\u6CE8\\u518C\\u4E86\\u4E00\\u4E2A\\u7528\\u6237\\uFF0C \\u4F46\\u662F\\uFF0C\\u76F4\\u63A5\\u8BBF\\u95EE \",(0,e.jsx)(n.code,{children:\"http://localhost:1337/api/messages\"}),\" \\u65F6\\uFF0C\\u53EF\\u80FD\\u4F1A\\u770B\\u5230\\u5982\\u4E0B\\u754C\\u9762\\uFF0C\\u72B6\\u6001\\u7801 403\\uFF0C \\u8FD9\\u662F\\u4E3A\\u4EC0\\u4E48\\u5462\\uFF1F\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"strapi 403\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/de0e1cc9ac664982a1f46602003980db~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,e.jsx)(n.p,{children:\"\\u56E0\\u4E3A\\u6211\\u4EEC\\u8FD8\\u672A\\u5BF9 message \\u8868\\u8FDB\\u884C\\u6743\\u9650\\u8BBE\\u7F6E\\uFF0C\\u6240\\u4EE5\\u65E0\\u6CD5\\u8BBF\\u95EE\\u3002\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"strapi \\u6743\\u9650\\u8BBE\\u7F6E\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0be802f40a8d45b0af077e968532bf10~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,e.jsxs)(n.p,{children:[\"\\u8FDB\\u5165\",(0,e.jsx)(n.code,{children:\"settings \\u2014\\u2014\u003e Roles \\u2014\\u2014\u003e Public\"}),\" \\uFF0C \\u5BF9\\u6BCF\\u4E2A\\u63A5\\u53E3\\u7684\\u8BF7\\u6C42\\u65B9\\u6CD5\\u8FDB\\u884C\\u6743\\u9650\\u8BBE\\u7F6E\\uFF0C\"]}),(0,e.jsxs)(n.p,{children:[\"\\u5728 Public \\u9009\\u62E9 message \\u8868\\uFF0C\\u9009\\u62E9 \",(0,e.jsx)(n.code,{children:\"find\"}),\"\\uFF0C\\u70B9\\u51FB\\u4FDD\\u5B58\\uFF0C\\u8FD9\\u6837\\u6211\\u4EEC\\u7684 message \\u63A5\\u53E3\\u4FBF\\u53EF\\u4EE5\\u5728\\u4E0D\\u6388\\u6743\\u7684\\u60C5\\u51B5\\u4E0B\\u8BBF\\u95EE\\u4E86\\u3002\"]}),(0,e.jsxs)(n.p,{children:[\"\\u5176\\u4E2D\\uFF0C\\u89D2\\u8272\\u5206\\u4E3A \",(0,e.jsx)(n.code,{children:\"Authenticated\"}),\" \\u548C \",(0,e.jsx)(n.code,{children:\"Public\"}),\"\\u3002\"]}),(0,e.jsxs)(n.ul,{children:[(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"Authenticated\"}),\" \\u662F\\u9700\\u8981\\u767B\\u5F55\\u624D\\u80FD\\u8BBF\\u95EE\\u7684\\u63A5\\u53E3\"]}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"Public\"}),\" \\u662F\\u4E0D\\u9700\\u8981\\u767B\\u5F55\\u4E5F\\u53EF\\u4EE5\\u8BBF\\u95EE\\u7684\\u63A5\\u53E3\"]})]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"strapi \\u540E\\u53F0\\u8282\\u70B9\\u5730\\u5740\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6b86a504f1fa4469a69e5b093353b080~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,e.jsx)(n.p,{children:\"\\u8FD8\\u6709\\u5F88\\u91CD\\u8981\\u7684\\u4E00\\u70B9\\uFF0C\\u6240\\u6709\\u7684\\u63A5\\u53E3\\u5730\\u5740\\u90FD\\u53EF\\u4EE5\\u901A\\u8FC7\\u8FD9\\u4E2A\\u5730\\u65B9\\u67E5\\u770B\\u548C\\u4FEE\\u6539\\u3002\"}),(0,e.jsxs)(n.h2,{id:\"\\u524D\\u7AEF\\u5DE5\\u7A0B\",children:[(0,e.jsx)(n.a,{href:\"#\\u524D\\u7AEF\\u5DE5\\u7A0B\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u524D\\u7AEF\\u5DE5\\u7A0B\"]}),(0,e.jsxs)(n.p,{children:[\"\\u4F7F\\u7528 \",(0,e.jsx)(n.code,{children:\"create-next-app\"}),\" \\u521B\\u5EFA\\u4E00\\u4E2A next \\u5DE5\\u7A0B\\uFF0C\\u5E76\\u4E14\\u5B89\\u88C5\\u548C\\u521D\\u59CB\\u5316 tailwindcss\"]}),(0,e.jsx)(n.pre,{children:(0,e.jsxs)(n.code,{className:\"code-highlight\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`npx create-next-app frontend\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`cd frontend\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`npm install -D tailwindcss postcss autoprefixer\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`npx tailwindcss init -p\n`})]})}),(0,e.jsxs)(n.p,{children:[\"\\u4FEE\\u6539 \",(0,e.jsx)(n.code,{children:\"globals.css\"}),\" \\u4E3A tailwindcss \\u9ED8\\u8BA4\\u6307\\u4EE4\"]}),(0,e.jsx)(n.pre,{className:\"language-css\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-css\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token atrule\",children:[(0,e.jsx)(n.span,{className:\"token rule\",children:\"@tailwind\"}),\" base\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"})]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token atrule\",children:[(0,e.jsx)(n.span,{className:\"token rule\",children:\"@tailwind\"}),\" components\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"})]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token atrule\",children:[(0,e.jsx)(n.span,{className:\"token rule\",children:\"@tailwind\"}),\" utilities\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"})]}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"\\u9996\\u9875\\u5E03\\u5C40\",children:[(0,e.jsx)(n.a,{href:\"#\\u9996\\u9875\\u5E03\\u5C40\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u9996\\u9875\\u5E03\\u5C40\"]}),(0,e.jsx)(n.p,{children:\"\\u6211\\u4EEC\\u5148\\u6765\\u5199\\u4E00\\u4E0B\\u9996\\u9875\\u9875\\u9762\\u6837\\u5F0F\\u548C\\u5E03\\u5C40\"}),(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-ts\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),\" Head \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'next/head'\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"Home\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"Head\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"title\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\" Next Strapi Weibo\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"title\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"meta name\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"description\"'}),\" content\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"\\u968F\\u65F6\\u968F\\u5730\\u53D1\\u73B0\\u65B0\\u9C9C\\u4E8B\"'}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"link rel\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"icon\"'}),\" href\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"/favicon.ico\"'}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"Head\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"header className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"sticky top-0 border-t-4 border-orange-500 bg-white py-4\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"div className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"mx-auto flex max-w-6xl items-center justify-between\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"h1 className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"font-mono text-2xl font-semibold\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\"\\u5FAE\\u535A\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"h1\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"div className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"space-x-3\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"button className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"rounded-3xl border border-orange-500 bg-orange-500  px-5 py-2  font-semibold text-white\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`              \\u767B\\u5F55\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"button\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"button className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"rounded-3xl border border-orange-500 px-5 py-2 font-semibold text-orange-500\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`              \\u6CE8\\u518C\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"button\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"header\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"main className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"mx-auto mt-5 flex min-h-screen max-w-5xl gap-5\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"div className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"sticky top-14 h-80 w-52 flex-none rounded-sm bg-white shadow-sm\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"div className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"flex-auto rounded-sm bg-white shadow-sm\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"main\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"footer className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"mt-5 bg-white py-2 text-center\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        Copyright \\xA9 \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2009\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"2022\"}),` \\u968F\\u65F6\\u968F\\u5730\\u53D1\\u73B0\\u65B0\\u9C9C\\u4E8B\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"footer\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\u770B\\u4E0B\\u6548\\u679C\\uFF0C\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u9875\\u9762\\u7ED3\\u679C\\u5448\\u73B0\\u5728\\u6211\\u4EEC\\u773C\\u524D\\u3002\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"\\u9996\\u9875\\u9875\\u9762\\u7ED3\\u6784\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2cbea954130a4c598f35f0544e4fc4a2~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,e.jsxs)(n.h3,{id:\"\\u76EE\\u5F55\\u7ED3\\u6784\",children:[(0,e.jsx)(n.a,{href:\"#\\u76EE\\u5F55\\u7ED3\\u6784\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u76EE\\u5F55\\u7ED3\\u6784\"]}),(0,e.jsx)(n.pre,{children:(0,e.jsxs)(n.code,{className:\"code-highlight\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u251C\\u2500\\u2500 components\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u2502   \\u251C\\u2500\\u2500 ImageList.tsx\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u2502   \\u251C\\u2500\\u2500 LoginModal.tsx\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u2502   \\u251C\\u2500\\u2500 RegisterModal.tsx\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u2502   \\u251C\\u2500\\u2500 SendMessage.tsx\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u2502   \\u2514\\u2500\\u2500 TopicList.tsx\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u251C\\u2500\\u2500 lib\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u2502   \\u251C\\u2500\\u2500 auth.ts\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u2502   \\u251C\\u2500\\u2500 message.ts\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u2502   \\u2514\\u2500\\u2500 request.ts\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u251C\\u2500\\u2500 pages\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u2502   \\u251C\\u2500\\u2500 _app.tsx\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u2502   \\u251C\\u2500\\u2500 _document.tsx\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u2502   \\u251C\\u2500\\u2500 api\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u2502   \\u2502   \\u2514\\u2500\\u2500 hello.ts\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u2502   \\u2514\\u2500\\u2500 index.tsx\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u251C\\u2500\\u2500 styles\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u2502   \\u2514\\u2500\\u2500 globals.css\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u2514\\u2500\\u2500 types\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    \\u251C\\u2500\\u2500 image.ts\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    \\u251C\\u2500\\u2500 message.ts\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    \\u251C\\u2500\\u2500 topic.ts\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    \\u2514\\u2500\\u2500 user.ts\n`})]})}),(0,e.jsxs)(n.p,{children:[\"\\u6574\\u7406\\u4E00\\u4E0B\\u76EE\\u5F55\\u7ED3\\u6784\\uFF0C\\u5C06\\u7EC4\\u4EF6\\u653E\\u5165\",(0,e.jsx)(n.code,{children:\"components\"}),\"\\u76EE\\u5F55\\u4E0B\\uFF0C \\u5C06\\u63A5\\u53E3\\u8BF7\\u6C42\\u60F3\\u4EE3\\u7801\\u653E\\u5230 \",(0,e.jsx)(n.code,{children:\"lib\"}),\" \\u76EE\\u5F55\\u4E0B\\uFF0C\",(0,e.jsx)(n.code,{children:\"types\"}),\" \\u76EE\\u5F55\\u7528\\u4E8E\\u5B58\\u653E typescript \\u5B9E\\u4F53\\u63A5\\u53E3\\u3002\"]}),(0,e.jsxs)(n.h3,{id:\"\\u524D\\u540E\\u7AEF\\u8054\\u8C03\",children:[(0,e.jsx)(n.a,{href:\"#\\u524D\\u540E\\u7AEF\\u8054\\u8C03\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u524D\\u540E\\u7AEF\\u8054\\u8C03\"]}),(0,e.jsx)(n.p,{children:\"\\u6B64\\u65F6\"}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:(0,e.jsxs)(n.p,{children:[\"\\u524D\\u7AEF\\u5DE5\\u7A0B\\u542F\\u52A8\\u7684\\u7AEF\\u53E3\\u662F \",(0,e.jsx)(n.a,{href:\"http://localhost:3000/\",children:\"http://localhost:3000/\"})]})}),(0,e.jsx)(n.li,{children:(0,e.jsxs)(n.p,{children:[\"\\u540E\\u7AEF\\u542F\\u52A8\\u7684\\u7AEF\\u53E3\\u662F \",(0,e.jsx)(n.a,{href:\"http://localhost:1337/\",children:\"http://localhost:1337/\"})]})})]}),(0,e.jsxs)(n.p,{children:[\"\\u82E5\\u662F\\u7EAF\\u540E\\u7AEF\\u6570\\u636E\\u6E32\\u67D3\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u5728 \",(0,e.jsx)(n.code,{children:\"Page\"}),\" \\u4E2D\\u5BFC\\u51FA\\u4E00\\u4E2A \",(0,e.jsx)(n.code,{children:\"getServerSideProps\"}),\" \\u65B9\\u6CD5\\uFF0C\\u63A5\\u53E3\\u8BF7\\u6C42\\u5728 node.js \\u73AF\\u5883\\u4E2D\\u6267\\u884C\\uFF0C\\u6240\\u4EE5\\u4E0D\\u5B58\\u5728\\u8DE8\\u57DF\\u95EE\\u9898\\uFF0C \\u4F46\\u5728\\u63A5\\u4E0B\\u6765\\u7684\\u767B\\u5F55\\u4E0E\\u6CE8\\u518C\\u529F\\u80FD\\u4E2D\\uFF0C\\u907F\\u514D\\u4E0D\\u4E86\\u8DE8\\u57DF\\uFF0C\\u96BE\\u9053\\u8981\\u542F\\u4E00\\u4E2A nginx \\u53CD\\u5411\\u4EE3\\u7406\\u5417\\uFF1F\"]}),(0,e.jsxs)(n.p,{children:[\"\\u5176\\u5B9E\\u53EF\\u4EE5\\u76F4\\u63A5\\u5728 \",(0,e.jsx)(n.code,{children:\"next.config.js\"}),\" \\u4E2D\\u76F4\\u63A5\\u914D\\u7F6E\\u8DEF\\u7531\\u91CD\\u5199\\u3002\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-js\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token comment doc-comment\",children:[\"/** \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"@type\"}),\" \",(0,e.jsxs)(n.span,{className:\"token class-name\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'next'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"NextConfig\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),\" */\"]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" nextConfig \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"reactStrictMode\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"swcMinify\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"rewrites\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"source\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'/api/:path*'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"destination\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'http://localhost:1337/api/:path*'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"source\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'/uploads/:path*'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"destination\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'http://localhost:1337/uploads/:path*'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"module\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"exports\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),` nextConfig\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\u91CD\\u5199\\u8DEF\\u7531\\u5C06 \",(0,e.jsx)(n.code,{children:\"/api\"}),\" \\u548C \",(0,e.jsx)(n.code,{children:\"/uploads\"}),\" \\u5F00\\u5934\\u7684\\u8BF7\\u6C42\\u8F6C\\u53D1\\u5230 \",(0,e.jsx)(n.code,{children:\"http://localhost:1337\"}),\"\\uFF0C \\u8FD9\\u6837\\u6211\\u4EEC\\u8BF7\\u6C42\\u6570\\u636E\\u5C31\\u4E0D\\u4F1A\\u5B58\\u5728\\u8DE8\\u57DF\\u95EE\\u9898\\u4E86\\u3002\"]}),(0,e.jsxs)(n.h3,{id:\"\\u767B\\u5F55\\u6CE8\\u518C\\u5B9E\\u73B0\",children:[(0,e.jsx)(n.a,{href:\"#\\u767B\\u5F55\\u6CE8\\u518C\\u5B9E\\u73B0\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u767B\\u5F55\\u6CE8\\u518C\\u5B9E\\u73B0\"]}),(0,e.jsxs)(n.p,{children:[\"\\u6CE8\\u518C\\u4E0E\\u767B\\u5F55\\u662F\\u5355\\u72EC\\u7684\\u903B\\u8F91\\uFF0C\\u6211\\u4EEC\\u5C06\\u5B83\\u72EC\\u7ACB\\u6210\\u5355\\u72EC\\u7684\\u7EC4\\u4EF6\\uFF0C \\u5148\\u6765\\u5B9E\\u73B0\\u6CE8\\u518C\",(0,e.jsx)(n.code,{children:\"RegisterModal.tsx\"}),\"\\u3002\"]}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsx)(n.code,{className:\"code-highlight language-bash\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"yarn\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"add\"}),` @headlessui/react\n`]})})}),(0,e.jsx)(n.p,{children:\"\\u7531\\u4E8E\\u767B\\u5F55\\u662F\\u5F39\\u7A97\\u7684\\u5F62\\u5F0F\\uFF0C\\u6211\\u4EEC\\u5B89\\u88C5\\u4E00\\u4E2A tailwindcss \\u5B98\\u65B9\\u7684 UI \\u5E93\\uFF0C\\u5B98\\u7F51\\u4E0A\\u6709\\u5F39\\u7A97\\u7684 demo\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u76F4\\u63A5\\u62F7\\u8D1D\\uFF0C\\u987A\\u4FBF\\u6539\\u4E0B\\u6210\\u6211\\u4EEC\\u7684\\u7EC4\\u4EF6\\u4EE3\\u7801\\u3002\"}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-js\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsxs)(n.span,{className:\"token imports\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Dialog\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Transition\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'@headlessui/react'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsxs)(n.span,{className:\"token imports\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Fragment\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" useState\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"FormEventHandler\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" useRef \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'react'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsxs)(n.span,{className:\"token imports\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" register\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"RegisterData\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'../lib/auth'\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"default\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"RegisterModal\"})}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"isOpen\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" setIsOpen\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"useState\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"loading\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" setLoaing\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"useState\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"error\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" setError\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"useState\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"''\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" ref \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" useRef \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"RegisterData\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"closeModal\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token function\",children:\"setIsOpen\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"openModal\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token function\",children:\"setIsOpen\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"onSubmit\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"FormEventHandler\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"HTMLFormElement\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"e\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    e\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"preventDefault\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token function\",children:\"setLoaing\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token function\",children:\"register\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ref\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"current\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"then\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"res\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" data \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" res\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"data\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token dom variable\",children:\"sessionStorage\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"setItem\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'jwt'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"jwt\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token dom variable\",children:\"sessionStorage\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"setItem\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'user'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name known-class-name\",children:\"JSON\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"stringify\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"user\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token function\",children:\"setLoaing\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token dom variable\",children:\"window\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"location\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"reload\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"catch\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"err\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" res \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" err\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"response\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"data\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token function\",children:\"setError\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"res\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"error\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),\" res\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"error\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"message\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'\\u8BF7\\u7A0D\\u540E\\u518D\\u8BD5'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token function\",children:\"setLoaing\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),`button\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        type\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"button\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        onClick\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"openModal\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"rounded-3xl border border-orange-500 px-5  py-2  font-semibold text-orange-500\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`        \\u6CE8\\u518C\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"button\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Transition\"}),\" appear show\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"isOpen\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"as\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Fragment\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Dialog\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"as\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"div\"'}),\" className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"relative z-10\"'}),\" onClose\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"closeModal\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Transition\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Child\"})}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"as\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Fragment\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            enter\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"ease-out duration-300\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            enterFrom\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"opacity-0\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            enterTo\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"opacity-100\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            leave\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"ease-in duration-200\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            leaveFrom\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"opacity-100\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            leaveTo\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"opacity-0\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"div className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"fixed inset-0 bg-black bg-opacity-25\"'}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Transition\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Child\"})}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"div className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"fixed inset-0 overflow-y-auto\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"div className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"flex min-h-full items-center justify-center p-4 text-center\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Transition\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Child\"})}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"as\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Fragment\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                enter\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"ease-out duration-300\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                enterFrom\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"opacity-0 scale-95\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                enterTo\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"opacity-100 scale-100\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                leave\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"ease-in duration-200\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                leaveFrom\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"opacity-100 scale-100\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                leaveTo\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"opacity-0 scale-95\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Dialog\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Panel\"})}),\" className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                  \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Dialog\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Title\"})}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"as\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"h3\"'}),\" className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"text-xl font-medium leading-6 text-gray-900\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`                    \\u6CE8\\u518C\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                  \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Dialog\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Title\"})}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                  \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"section className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"pt-5 text-gray-500\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"error \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u0026\u0026\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"div className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"mb-5 flex items-center rounded border border-orange-500 bg-orange-50 p-3 text-orange-500\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),`svg\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"mr-2 h-6 w-6\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          fill\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"none\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          stroke\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"currentColor\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          viewBox\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"0 0 24 24\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          xmlns\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"http://www.w3.org/2000/svg\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),`path\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                            strokeLinecap\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"round\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                            strokeLinejoin\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"round\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                            strokeWidth\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                            d\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"svg\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"span\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"error\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"span\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                    \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"form onSubmit\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"onSubmit\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"space-y-6\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"div className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"space-y-2\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"label\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\"\\u7528\\u6237\\u540D\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"label\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),`input\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"w-full rounded border px-3 py-2\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          type\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"username\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          name\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"username\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          onChange\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"e\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ref\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"current\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"username\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" e\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"target\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"value\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"div className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"space-y-2\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"label\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\"\\u90AE\\u7BB1\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"label\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),`input\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"w-full rounded border px-3 py-2\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          type\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"email\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          name\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"email\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          onChange\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"e\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ref\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"current\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"email\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" e\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"target\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"value\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"div className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"space-y-2\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"label\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\"\\u5BC6\\u7801\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"label\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),`input\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"w-full rounded border px-3 py-2\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          type\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"password\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          name\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"password\"'}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`                          required\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          onChange\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"e\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ref\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"current\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"password\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" e\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"target\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"value\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"div className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"space-x-3 text-center\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),`button\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"rounded-3xl border border-orange-500 bg-orange-500  px-5 py-2  font-semibold text-white\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          color\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"primary\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          type\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"submit\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          disabled\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"loading\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"loading \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'\\u6CE8\\u518C\\u4E2D...'\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'\\u6CE8\\u518C'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"button\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),`button\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          type\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"button\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"rounded-3xl border border-orange-500  px-5 py-2  font-semibold text-orange-500\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                          onClick\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"closeModal\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`                          \\u53D6\\u6D88\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"button\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                    \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"form\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                  \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"section\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Dialog\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Panel\"})}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Transition\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Child\"})}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Dialog\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Transition\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\u4E0A\\u9762\\u4EE3\\u7801\\u4E2D\\u4F7F\\u7528 \",(0,e.jsx)(n.code,{children:\"useRef\"}),\" \\u6765\\u5B58\\u50A8\\u8868\\u5355\\u6570\\u636E\\uFF0C\\u63D0\\u4EA4\\u8868\\u5355\\u540E\\uFF0C\\u5C06\\u8FD4\\u56DE\\u7684 \",(0,e.jsx)(n.code,{children:\"jwt\"}),\" \\u5B58\\u5728 \",(0,e.jsx)(n.code,{children:\"sessionStorage\"}),\" \\u4E2D\\uFF0C\\u6211\\u5C06 \",(0,e.jsx)(n.code,{children:\"user\"}),\" \\u4E5F\\u5B58\\u5230\\u4E86 \",(0,e.jsx)(n.code,{children:\"sessionStorage\"}),\" \\u4E2D\\uFF0C\\u6BD4\\u8F83\\u6807\\u51C6\\u7684\\u505A\\u6CD5\\u662F\\u53EA\\u5B58 \",(0,e.jsx)(n.code,{children:\"jwt\"}),\"\\uFF0C\\u7528\\u6237\\u4FE1\\u606F\\u901A\\u8FC7\",(0,e.jsx)(n.code,{children:\"/api/users/me\"}),\"\\u63A5\\u53E3\\u83B7\\u53D6\\u3002\"]}),(0,e.jsxs)(n.h3,{id:\"axios-\\u5C01\\u88C5\",children:[(0,e.jsx)(n.a,{href:\"#axios-\\u5C01\\u88C5\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"axios \\u5C01\\u88C5\"]}),(0,e.jsx)(n.p,{children:\"\\u767B\\u5F55\\u6210\\u529F\\u540E\\uFF0C\\u6211\\u4EEC\\u8981\\u5B9E\\u73B0\\u53D1\\u5FAE\\u535A\\u7684\\u529F\\u80FD\"}),(0,e.jsxs)(n.p,{children:[\"\\u9996\\u5148\\u6211\\u4EEC\\u9700\\u8981\\u5BF9 \",(0,e.jsx)(n.code,{children:\"axios\"}),\" \\u5C01\\u88C5\\u4E00\\u4E0B\\uFF0C\\u65B9\\u4FBF\\u540E\\u7EED\\u63A5\\u53E3\\u8BF7\\u6C42\\u81EA\\u52A8\\u5F80 \",(0,e.jsx)(n.code,{children:\"http header\"}),\" \\u4E2D\\u52A0\\u5165 \",(0,e.jsx)(n.code,{children:\"jwt\"}),\" \\u4FE1\\u606F\\uFF0C\\u5EFA\\u4E00\\u4E2A \",(0,e.jsx)(n.code,{children:\"lib/request.ts\"}),\" \\u6587\\u4EF6\\uFF0C\\u4EE3\\u7801\\u5982\\u4E0B\"]}),(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-ts\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),\" axios\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" AxiosRequestConfig \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'axios'\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" request \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" axios\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"create\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  timeout\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"5000\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"request\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"interceptors\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"request\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"use\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"config\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" AxiosRequestConfig\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"//\\u6BD4\\u5982\\u662F\\u5426\\u9700\\u8981\\u8BBE\\u7F6E token\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" jwt \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" window\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"sessionStorage\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"getItem\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'jwt'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"jwt\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    config\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"headers\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Authorization \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'Bearer '\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),` jwt\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"config\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),` config\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"\\u56FE\\u7247\\u4E0A\\u4F20\",children:[(0,e.jsx)(n.a,{href:\"#\\u56FE\\u7247\\u4E0A\\u4F20\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u56FE\\u7247\\u4E0A\\u4F20\"]}),(0,e.jsxs)(n.p,{children:[\"\\u6D4F\\u89C8\\u5668\\u9ED8\\u8BA4\\u7684\\u6587\\u4EF6\\u9009\\u62E9 \",(0,e.jsx)(n.code,{children:\"input\"}),\" \\u6837\\u5F0F\\u5F88\\u4E11\\uFF0C \",(0,e.jsx)(n.a,{href:\"https://tailwindcss.com/docs/hover-focus-and-other-states#file-input-buttons\",children:\"tailwindcss\"}),\" \\u5BF9\\u5B83\\u505A\\u4E86\\u4E13\\u95E8\\u7684\\u6837\\u5F0F\\u4F18\\u5316\\uFF0C\\u6211\\u4EEC\\u53EA\\u9700\\u8981\\u62F7\\u8D1D HTML\\uFF0C \\u5C31\\u53EF\\u4EE5\\u5199\\u51FA\\u6BD4\\u8F83\\u7F8E\\u89C2\\u7684\\u6587\\u4EF6\\u4E0A\\u4F20\\u7EC4\\u4EF6\\u3002\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"tailwindcss  \\u4E0A\\u4F20\\u7EC4\\u4EF6\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6b4889aff2dd41e48048e7bd4bdccab2~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,e.jsx)(n.p,{children:\"\\u4E0A\\u4F20\\u63A5\\u53E3\"}),(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-ts\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token function function-variable\",children:\"upload\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"files\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" File\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" formData \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"FormData\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"Array\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"from\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"files\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"forEach\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"file\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"any\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    formData\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"append\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'files'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" file\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" file\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"name\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" res \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"await\"}),\" request\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"post\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'/api/upload'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" formData\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" res\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),`data\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"input \",(0,e.jsx)(n.code,{children:\"onChange\"}),\" \\u65B9\\u6CD5\\uFF0C\\u5C06\\u4E0A\\u4F20\\u7684\\u8FD4\\u56DE\\u5730\\u5740\\u5B58\\u653E\\u5728 \",(0,e.jsx)(n.code,{children:\"state\"}),\" \\u4E2D\\uFF0C\\u7528\\u4E8E\\u540E\\u7EED\\u53D1\\u5FAE\\u535A\\u63A5\\u53E3\\u4E2D\\u7684 images \\u5B57\\u6BB5\\uFF0C\\u5E76\\u4E14\\u5C06\\u9009\\u62E9\\u7684\\u6587\\u4EF6\\u6E05\\u7A7A\\u3002\"]}),(0,e.jsx)(n.pre,{children:(0,e.jsxs)(n.code,{className:\"code-highlight\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`interface ImageData {\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  id: number;\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  url: string;\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`}\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`const [images, setImages] = useState\u003cImageData[]\u003e([]);\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`const handleFileChange = async (e: any) =\u003e {\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    const files = e.target.files;\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    const res = (await upload(files)) as any;\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    setImages(res);\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    e.target.value = \"\";\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  };\n`})]})}),(0,e.jsxs)(n.h3,{id:\"\\u53D1\\u5FAE\\u535A\",children:[(0,e.jsx)(n.a,{href:\"#\\u53D1\\u5FAE\\u535A\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u53D1\\u5FAE\\u535A\"]}),(0,e.jsxs)(n.p,{children:[\"\\u63A5\\u4E0B\\u6765\\u6211\\u4EEC\\u5C06\\u53D1\\u5FAE\\u535A\\u7684\\u903B\\u8F91\\u5C01\\u88C5\\u6210\\u4E00\\u4E2A \",(0,e.jsx)(n.code,{children:\"SendMessage\"}),\" \\u7EC4\\u4EF6\\uFF0C\\u5F53\\u524D\\u5728\\u54EA\\u4E2A\\u8BDD\\u9898\",(0,e.jsx)(n.code,{children:\"topic\"}),\"\\u4E0B\\u53D1\\uFF0C\\u53D1\\u9001\\u4EBA\",(0,e.jsx)(n.code,{children:\"user\"}),\"\\u662F\\u8C01? \\u8FD9\\u4E9B\\u90FD\\u4E0D\\u662F\\u5F53\\u524D\\u7EC4\\u4EF6\\u7684\\u903B\\u8F91\\uFF0C\\u6240\\u4EE5\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,e.jsx)(n.code,{children:\"props\"}),\" \\u4F20\\u5165\\u5373\\u53EF\\u3002\"]}),(0,e.jsx)(n.p,{children:\"\\u7EC4\\u4EF6 HTML \\u7ED3\\u6784\\uFF1A\"}),(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-ts\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),\" React\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" useRef\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" useState \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'react'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" User \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'../types/user'\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Props\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token function function-variable\",children:\"callBack\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  topicId\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"number\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  user\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),` User\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"SendMessage\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" callBack\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" user\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" topicId \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" Props\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" ref \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsxs)(n.span,{className:\"token generic-function\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"useRef\"}),(0,e.jsxs)(n.span,{className:\"token class-name generic\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"HTMLTextAreaElement \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"|\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"null\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"})]})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"null\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"loading\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" setLoading\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"useState\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token function function-variable\",children:\"handleSendMesage\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"div className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"rounded-sm bg-white p-3 shadow-sm\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"textarea className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"w-full border p-3\"'}),\" ref\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"ref\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" rows\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"4\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"textarea\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"div className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"flex items-center justify-between\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"span\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),`button\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            onClick\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"handleSendMesage\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            type\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"button\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            disabled\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"loading\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            className\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"rounded border border-orange-500 bg-orange-500  px-3 py-1  font-semibold text-white\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`            \\u53D1\\u9001\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"button\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"span\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\u53D1\\u9001\\u63A5\\u53E3\\u4E0E\\u903B\\u8F91\\uFF1A\"}),(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-ts\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"sendMessage\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"data\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"any\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" request\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"post\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'/api/messages'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" data \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token function function-variable\",children:\"handleSendMesage\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ref\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"current \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u0026\u0026\"}),\" ref\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"value\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token function\",children:\"setLoading\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"try\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"await\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"sendMessage\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        content\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" ref\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"value\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        images\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" images\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"map\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"m\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\u003e\"}),\" m\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        user\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" user\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        topic\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" topicId\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token function\",children:\"setLoading\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      ref\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"value \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"''\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token function\",children:\"setImages\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token function\",children:\"callBack\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"catch\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"error\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token function\",children:\"setLoading\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\u8FD9\\u91CC\\u9700\\u8981\\u6CE8\\u610F\\u7684\\u662F\\uFF0C\\u5173\\u8054\\u5BF9\\u8C61\\u7684\\u4FDD\\u5B58\\uFF0C\\u6211\\u4EEC\\u53EA\\u9700\\u8981\\u4F20\\u5165 \",(0,e.jsx)(n.code,{children:\"id\"}),\" \\u5C31\\u53EF\\u4EE5\\uFF0C\\u6BD4\\u5982\\u5173\\u8054\\u7684\\u56FE\\u7247 \",(0,e.jsx)(n.code,{children:\"images\"}),\" \\uFF0C\\u6211\\u4EEC\\u53EA\\u9700\\u8981\\u4F20\\u5165\\u4E00\\u4E2A id \\u6570\\u7EC4\\u3002\"]}),(0,e.jsxs)(n.h3,{id:\"\\u8054\\u8868\\u67E5\\u8BE2\",children:[(0,e.jsx)(n.a,{href:\"#\\u8054\\u8868\\u67E5\\u8BE2\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u8054\\u8868\\u67E5\\u8BE2\"]}),(0,e.jsx)(n.p,{children:\"\\u63A5\\u4E0B\\u6765\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u5B9E\\u73B0\\u5FAE\\u535A\\u5217\\u8868\\uFF0C\\u5F53\\u6211\\u4EEC\\u8BF7\\u6C42\\u63A5\\u53E3\\u65F6\\u5019\\u8FD4\\u56DE\\u7684\\u63A5\\u53E3\\u5982\\u4E0B\\uFF1A\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"\\u804A\\u8868\\u67E5\\u8BE2\\u5931\\u8D25\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/eee904185d6e46798929d4ce6e98df45~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,e.jsxs)(n.p,{children:[\"\\u63A5\\u53E3\\u4E2D\\u53EA\\u8FD4\\u56DE\\u4E86 \",(0,e.jsx)(n.code,{children:\"content\"}),\" \\u5B57\\u6BB5\\uFF0C\\u5E76\\u6CA1\\u6709 \",(0,e.jsx)(n.code,{children:\"user\"}),\" \\u548C \",(0,e.jsx)(n.code,{children:\"images\"}),\" \\u7B49\\u4FE1\\u606F\\uFF0C\\u90A3\\u4E48\\u8BE5\\u5982\\u4F55\\u901A\\u8FC7\\u63A5\\u53E3\\u5B9E\\u73B0\\u8054\\u8868\\u67E5\\u8BE2\\u5462\\uFF1F\"]}),(0,e.jsxs)(n.p,{children:[\"\\u9047\\u5230\\u95EE\\u9898\\u4E0D\\u7528\\u614C\\uFF0C\\u5148\\u770B\\u4E0B\",(0,e.jsx)(n.a,{href:\"https://docs.strapi.io/developer-docs/latest/developer-resources/database-apis-reference/rest/populating-fields.html#relation-media-fields\",children:\"\\u6587\\u6863\"}),\"\\uFF0C\\u4E0A\\u9762\\u6E05\\u695A\\u5730\\u8BB0\\u5F55\\u4E86 Rest API \\u5173\\u8054\\u5173\\u7CFB\\u67E5\\u8BE2\\u7684\\u65B9\\u5F0F\\uFF0C\\u5728 url \\u4E0A\\u52A0\\u53C2\\u6570\",(0,e.jsx)(n.code,{children:\"?populate=*\"}),\"\\uFF0C\\u610F\\u601D\\u662F:\\u5C06\\u6240\\u6709\\u5173\\u8054\\u5173\\u7CFB\\u90FD\\u586B\\u5145\\uFF0C\\u82E5\\u6211\\u4EEC\\u53EA\\u60F3\\u770B\\u770B\\u8FD9\\u6761\\u5FAE\\u535A\\u662F\\u8C01\\u53D1\\u9001\\u7684\\uFF0C\\u53EA\\u9700\\u8981\\u6539\\u6210\\u5177\\u4F53\\u7684\\u53C2\\u6570\\u5B57\\u6BB5\\uFF1A\"]}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsx)(n.code,{className:\"code-highlight language-bash\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"http://localhost:3000/api/messages?populate\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),`user\n`]})})}),(0,e.jsx)(n.p,{children:\"\\u63A5\\u53E3\\u8BF7\\u6C42\\u8FD4\\u56DE\\u7ED3\\u679C\\u5982\\u4E0B\\uFF1A\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"\\u804A\\u8868\\u67E5\\u8BE2\\u6210\\u529F\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fb6da9b9fd174a05843937acbcd362f7~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,e.jsxs)(n.h2,{id:\"\\u6700\\u7EC8\\u6548\\u679C\",children:[(0,e.jsx)(n.a,{href:\"#\\u6700\\u7EC8\\u6548\\u679C\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u6700\\u7EC8\\u6548\\u679C\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"\\u5B9E\\u73B0\\u7B80\\u6613\\u5FAE\\u535A\\u6548\\u679C\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cf190d4adbc7479ca836a9ed29399c90~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,e.jsxs)(n.p,{children:[\"\\u5230\\u6B64\\uFF0C\\u6211\\u76F8\\u4FE1\\u4F60\\u5BF9 strapi \\u6709\\u4E86\\u4E00\\u5B9A\\u4E86\\u89E3\\uFF0C\\u5E76\\u4E14\\u53EF\\u4EE5\\u901A\\u8FC7 next.js \\u5B9E\\u73B0\\u5FAE\\u535A\\u5217\\u8868\\uFF0C\\u8054\\u8C03\\u67E5\\u8BE2\\u7B49\\u529F\\u80FD\\uFF0C\\u82E5\\u8FD8\\u662F\\u4E0D\\u6E05\\u695A\\uFF0C\\u53EF\\u4EE5\\u76F4\\u63A5\\u770B\\u6211\\u7684\",(0,e.jsx)(n.a,{href:\"https://github.com/maqi1520/strapi-weibo\",title:\"\\u6E90\\u7801\",children:\"\\u6E90\\u7801\"})]}),(0,e.jsxs)(n.h2,{id:\"\\u5C0F\\u7ED3\",children:[(0,e.jsx)(n.a,{href:\"#\\u5C0F\\u7ED3\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5C0F\\u7ED3\"]}),(0,e.jsx)(n.p,{children:\"\\u672C\\u6587\\u4E3B\\u8981\\u4ECB\\u7ECD\\u4E86\\u4F7F\\u7528 strapi \\u548C Next.js \\u5B9E\\u73B0\\u4E86\\u4E00\\u4E2A\\u7B80\\u6613\\u7684\\u5FAE\\u535A\\uFF0C\\u6211\\u4EEC\\u4E0D\\u5FC5\\u5199\\u540E\\u7AEF\\uFF0C\\u53EA\\u9700\\u8981\\u540E\\u53F0\\u914D\\u7F6E\\u4FBF\\u53EF\\u4EE5\\u521B\\u5EFA api \\u63A5\\u53E3\\uFF0C\\u901A\\u8FC7\\u672C\\u6587\\uFF0C\\u6211\\u76F8\\u4FE1\\u4F60\\u5BF9 strapi \\u6709\\u4E86\\u4E00\\u5B9A\\u4E86\\u89E3\\uFF0C\\u4F46 strapi \\u9664\\u4E86 Rest API\\uFF0C\\u8FD8\\u6709 \\uFF1A\"}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"GraphQL API\\uFF0C\\u524D\\u7AEF\\u53EF\\u4EE5\\u76F4\\u63A5\\u4F7F\\u7528 GraphQL \\u67E5\\u8BE2\\u8BED\\u8A00\"}),(0,e.jsx)(n.li,{children:\"Query Engine API \\u76F4\\u63A5\\u64CD\\u4F5C\\u6570\\u636E\\u5E93\\u5C42\\u6765\\u5B9E\\u73B0\\u529F\\u80FD\"}),(0,e.jsx)(n.li,{children:\"Entity Service API \\u590D\\u6742\\u6570\\u636E\\u7ED3\\u6784\\u67E5\\u8BE2\"})]}),(0,e.jsx)(n.p,{children:\"\\u901A\\u8FC7 Query Engine API \\u548C Entity Service API \\u5B9E\\u73B0\\u81EA\\u5B9A\\u4E49\\u63A5\\u53E3\\u3002\"}),(0,e.jsxs)(n.h2,{id:\"\\u540E\\u7EED\",children:[(0,e.jsx)(n.a,{href:\"#\\u540E\\u7EED\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u540E\\u7EED\"]}),(0,e.jsx)(n.p,{children:\"\\u63A5\\u4E0B\\u6765\\u6211\\u5C06\\u7EE7\\u7EED\\u5206\\u4EAB Next.js \\u76F8\\u5173\\u7684\\u5B9E\\u6218\\u6587\\u7AE0\\uFF0C\\u6B22\\u8FCE\\u5404\\u4F4D\\u5173\\u6CE8\\u6211\\u7684\\u300ANext.js \\u5168\\u6808\\u5F00\\u53D1\\u5B9E\\u6218\\u300B \\u4E13\\u680F\\u3002\"}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"\\u4F7F\\u7528 Notion \\u6570\\u636E\\u5E93\\u8FDB\\u884C Next.js \\u5E94\\u7528\\u5168\\u6808\\u5F00\\u53D1\"}),(0,e.jsx)(n.li,{children:\"\\u4F7F\\u7528 Prisma \\u548C PostgreSQL \\u8FDB\\u884C Next.js \\u5E94\\u7528\\u5168\\u6808\\u5F00\\u53D1\"}),(0,e.jsx)(n.li,{children:\"\\u4F7F\\u7528 NextAuth \\u5B9E\\u73B0 Next.js \\u5E94\\u7528\\u7684\\u9274\\u6743\\u4E0E\\u8BA4\\u8BC1\"}),(0,e.jsx)(n.li,{children:\"\\u4F7F\\u7528 React query \\u7ED9 Next.js \\u5E94\\u7528\\u5168\\u5C40\\u72B6\\u6001\\u7BA1\\u7406\"}),(0,e.jsx)(n.li,{children:\"\\u4F7F\\u7528 i18next \\u5B9E\\u73B0 Next.js \\u5E94\\u7528\\u56FD\\u9645\\u5316\"}),(0,e.jsx)(n.li,{children:\"\\u4F7F\\u7528 Playwright \\u8FDB\\u884C Next.js \\u5E94\\u7528\\u7684\\u7AEF\\u5230\\u7AEF\\u6D4B\\u8BD5\"}),(0,e.jsx)(n.li,{children:\"\\u4F7F\\u7528 Github actions \\u7ED9 Next.js \\u5E94\\u7528\\u521B\\u5EFA CI/CD\"}),(0,e.jsx)(n.li,{children:\"\\u4F7F\\u7528 Docker \\u90E8\\u7F72 Next.js \\u5E94\\u7528\"}),(0,e.jsx)(n.li,{children:\"\\u5C06 Next.js \\u5E94\\u7528\\u90E8\\u7F72\\u5230\\u817E\\u8BAF\\u4E91 serverless\"})]}),(0,e.jsx)(n.p,{children:\"\\u4F60\\u5BF9\\u54EA\\u5757\\u5185\\u5BB9\\u6BD4\\u8F83\\u611F\\u5174\\u8DA3\\u5462\\uFF1F\\u6B22\\u8FCE\\u5728\\u8BC4\\u8BBA\\u533A\\u7559\\u8A00\\uFF0C\\u611F\\u8C22\\u60A8\\u7684\\u9605\\u8BFB\\u3002\"})]})}}var x=w;return b(v);})();\n;return Component;","toc":[{"value":"阅读本文，你将收获：","url":"#阅读本文你将收获","depth":2},{"value":"背景","url":"#背景","depth":2},{"value":"实现功能与效果","url":"#实现功能与效果","depth":2},{"value":"什么是 strapi","url":"#什么是-strapi","depth":2},{"value":"后端工程","url":"#后端工程","depth":2},{"value":"初始化项目","url":"#初始化项目","depth":3},{"value":"建表","url":"#建表","depth":3},{"value":"建立表关联","url":"#建立表关联","depth":3},{"value":"接口查询与获取","url":"#接口查询与获取","depth":3},{"value":"前端工程","url":"#前端工程","depth":2},{"value":"首页布局","url":"#首页布局","depth":3},{"value":"目录结构","url":"#目录结构","depth":3},{"value":"前后端联调","url":"#前后端联调","depth":3},{"value":"登录注册实现","url":"#登录注册实现","depth":3},{"value":"axios 封装","url":"#axios-封装","depth":3},{"value":"图片上传","url":"#图片上传","depth":3},{"value":"发微博","url":"#发微博","depth":3},{"value":"联表查询","url":"#联表查询","depth":3},{"value":"最终效果","url":"#最终效果","depth":2},{"value":"小结","url":"#小结","depth":2},{"value":"后续","url":"#后续","depth":2}],"frontMatter":{"readingTime":{"text":"14 min read","minutes":13.795,"time":827700,"words":2759},"slug":"使用 Strapi 和 Next.js 开发一个简易微博","fileName":"使用 Strapi 和 Next.js 开发一个简易微博.md","title":"使用 Strapi 和 Next.js 开发一个简易微博","date":"2022-09-20T01:35:34.000Z","lastmod":"2023/1/25 11:43:01","tags":["React.js"],"draft":false,"summary":"本文主要介绍了使用 strapi 和 Next.js 实现了一个简易的微博，我们不必写后端，只需要后台配置便可以创建 api 接口，通过本文，我相信你对 strapi 有了一定了解。","images":"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9d9fcadc6a134a2296ced2f4c2b5ee3d~tplv-k3u1fbpfcp-watermark.image?","authors":["default"],"layout":"PostLayout"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.19,"time":11400,"words":38},"slug":["default"],"fileName":"default.md","name":"随风","avatar":"/static/images/avatar.jpeg","occupation":"前端工程师","company":"分享 JavaScript 热门框架，记录前端工程师学习成长历程。","email":"tianping888@163.com","juejin":"https://juejin.cn","zhihu":"https://www.zhihu.com","github":"https://github.com/balac2015","date":null}],"prev":{"title":"使用 Next.js 和掘金 API 打造个性博客","date":"2022-09-19T15:53:53.000Z","lastmod":"2023/1/25 11:43:02","tags":["React.js"],"draft":false,"summary":"在本文中，我将分享我的方法，通过掘金 API 打造个性博客，只要在掘金发表文章，就会自动同步到自己的博客中。","images":"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/79db308ca97941e9aee5a32b2882f122~tplv-k3u1fbpfcp-watermark.image?","authors":["default"],"layout":"PostLayout","slug":"使用 Next.js 和掘金 API 打造个性博客"},"next":{"title":"使用 Notion 数据库进行 Next.js 应用全栈开发","date":"2022-09-27T15:49:28.000Z","lastmod":"2023/1/25 11:42:59","tags":["React.js","数据库"],"draft":false,"summary":"今天我就得带大家来白嫖一下 Notion 数据库，让我们的个人应用轻松上线，本文记录了利用 Next.js 和 Notion API 编写了一个前端刷题网站的全过程。","images":"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0e025d77556e4073989114847ff39959~tplv-k3u1fbpfcp-watermark.image?","authors":["default"],"layout":"PostLayout","slug":"使用 Notion 数据库进行 Next.js 应用全栈开发"}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["使用 Strapi 和 Next.js 开发一个简易微博"]},"buildId":"aH9txFemS00-bQZ7Vq_Y7","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>