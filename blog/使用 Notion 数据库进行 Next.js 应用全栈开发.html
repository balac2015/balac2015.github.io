<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><title>使用 Notion 数据库进行 Next.js 应用全栈开发</title><meta name="robots" content="follow, index"/><meta name="description" content="今天我就得带大家来白嫖一下 Notion 数据库，让我们的个人应用轻松上线，本文记录了利用 Next.js 和 Notion API 编写了一个前端刷题网站的全过程。"/><meta property="og:url" content="https://github.com/balac2015/blog/%E4%BD%BF%E7%94%A8%20Notion%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9B%E8%A1%8C%20Next.js%20%E5%BA%94%E7%94%A8%E5%85%A8%E6%A0%88%E5%BC%80%E5%8F%91"/><meta property="og:type" content="article"/><meta property="og:site_name" content="Coding 工坊 | 随风"/><meta property="og:description" content="今天我就得带大家来白嫖一下 Notion 数据库，让我们的个人应用轻松上线，本文记录了利用 Next.js 和 Notion API 编写了一个前端刷题网站的全过程。"/><meta property="og:title" content="使用 Notion 数据库进行 Next.js 应用全栈开发"/><meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0e025d77556e4073989114847ff39959~tplv-k3u1fbpfcp-watermark.image?"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site"/><meta name="twitter:title" content="使用 Notion 数据库进行 Next.js 应用全栈开发"/><meta name="twitter:description" content="今天我就得带大家来白嫖一下 Notion 数据库，让我们的个人应用轻松上线，本文记录了利用 Next.js 和 Notion API 编写了一个前端刷题网站的全过程。"/><meta name="twitter:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0e025d77556e4073989114847ff39959~tplv-k3u1fbpfcp-watermark.image?"/><meta property="article:published_time" content="2022-09-27T15:49:28.000Z"/><meta property="article:modified_time" content="2023-01-25T03:42:59.000Z"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://github.com/balac2015/blog/使用 Notion 数据库进行 Next.js 应用全栈开发"
  },
  "headline": "使用 Notion 数据库进行 Next.js 应用全栈开发",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0e025d77556e4073989114847ff39959~tplv-k3u1fbpfcp-watermark.image?"
    }
  ],
  "datePublished": "2022-09-27T15:49:28.000Z",
  "dateModified": "2023-01-25T03:42:59.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "随风"
    }
  ],
  "publisher": {
    "@type": "Organization",
    "name": "随风",
    "logo": {
      "@type": "ImageObject",
      "url": "https://github.com/balac2015/static/images/logo.png"
    }
  },
  "description": "今天我就得带大家来白嫖一下 Notion 数据库，让我们的个人应用轻松上线，本文记录了利用 Next.js 和 Notion API 编写了一个前端刷题网站的全过程。"
}</script><meta name="next-head-count" content="20"/><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" content="#000000"/><meta name="referrer" content="no-referrer"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="preload" href="/_next/static/css/143263672f95f733.css" as="style"/><link rel="stylesheet" href="/_next/static/css/143263672f95f733.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-d162ed0bea313f71.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-b4cdd9636ac3694c.js" defer=""></script><script src="/_next/static/chunks/pages/_app-adb504928e1e223a.js" defer=""></script><script src="/_next/static/chunks/410-dc08c716b48ef576.js" defer=""></script><script src="/_next/static/chunks/606-bcfce32a938ad92d.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-a12f8dbad1f7fc24.js" defer=""></script><script src="/_next/static/tzs-XIByjtI7cz8CnRw3S/_buildManifest.js" defer=""></script><script src="/_next/static/tzs-XIByjtI7cz8CnRw3S/_ssgManifest.js" defer=""></script><script src="/_next/static/tzs-XIByjtI7cz8CnRw3S/_middlewareManifest.js" defer=""></script></head><body class="bg-white text-black antialiased dark:bg-gray-900 dark:text-white"><div id="__next" data-reactroot=""><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between"><header class="flex items-center justify-between py-10"><h1><a aria-label="随风小站" href="/"><div class="flex items-center justify-between"><span><svg width="52" height="26" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><image xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAaCAYAAADFTB7LAAAAAXNSR0IArs4c6QAAAHplWElmTU0AKgAAAAgAAwESAAMAAAABAAEAAAExAAIAAAAeAAAAModpAAQAAAABAAAAUAAAAABBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKQAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAAGgAAAACQIupnAAAEEWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ2RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQ1RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQzRkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ0RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo0psFQAAACSElEQVRYCc2WMUhVURjH79VQEISKDAfFAqVBbHDOLcFNB0scinJrkrbarMFBEAxSQXCJWuQNurgIEoJTOBRSrdFghqZgaIWv5+8v56qvd73vnKM37gc/znnnfN//+99z73v3BYFFFAqFengB67ALc9BsUZpuCiYuwjD8hH9jk4Vb6TpIUKf5Q9g44SrPfBam4a9Z32O8myCTzhZNnxsDGvbhDbRG3Zg/gD+gkPHBaC/1kWY9EJ3QW+YtcU1Z74IdiGKESRiXe25rNLgOW6ajvghVSeLst8OaydfwCi4k1XjvIVwF70CxAjU2YuRdg48QRY5JpU2tUw6io6bDV8YGl2LyL8Oyqdcw4lJfNhdBPU967rahrWxBTAJ1NaBnViGtzpg09yWE6kDPkb6tt90VjiuM1hdGhcba413PGSIvpUY88pQoKkOnA3SxiomiTZ8PiOj0Fn1qT6tBbwgUutUdp+VZrSOgq31mlWyZhF4lLIHiM1RblpakVbDyA/ZKds6wEIZhnvJ7sAU34Cn4hbnCJ37VyVVo94LiF8S+kZIVgkAnqKtMJTjJHMJToFs87tNEBjd9Ch1qHpP7CTo5xTsOdYepMrjhWuSSzynukt8Pv2EMk00u9f/jBANMvsfUfbgCeiVavxAigwWXq/LJxeQMdfpNXIcFTM5DH1xN0gtJGCChGoHJpMTz2qOf/jPKaDfchEvwHVbhAz5eMx6F/rtps/FoJeUJBnS3lgxlu+kW68gzGzK4lll3GJPBb5DPqskKnol9YzKTHg8A2r/9Qs/XFFsAAAAASUVORK5CYII=" height="26" width="40"></image><image href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAaCAYAAADFTB7LAAAAAXNSR0IArs4c6QAAAHplWElmTU0AKgAAAAgAAwESAAMAAAABAAEAAAExAAIAAAAeAAAAModpAAQAAAABAAAAUAAAAABBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKQAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAAGgAAAACQIupnAAAEEWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ2RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQ1RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQzRkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ0RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo0psFQAAACSElEQVRYCc2WMUhVURjH79VQEISKDAfFAqVBbHDOLcFNB0scinJrkrbarMFBEAxSQXCJWuQNurgIEoJTOBRSrdFghqZgaIWv5+8v56qvd73vnKM37gc/znnnfN//+99z73v3BYFFFAqFengB67ALc9BsUZpuCiYuwjD8hH9jk4Vb6TpIUKf5Q9g44SrPfBam4a9Z32O8myCTzhZNnxsDGvbhDbRG3Zg/gD+gkPHBaC/1kWY9EJ3QW+YtcU1Z74IdiGKESRiXe25rNLgOW6ajvghVSeLst8OaydfwCi4k1XjvIVwF70CxAjU2YuRdg48QRY5JpU2tUw6io6bDV8YGl2LyL8Oyqdcw4lJfNhdBPU967rahrWxBTAJ1NaBnViGtzpg09yWE6kDPkb6tt90VjiuM1hdGhcba413PGSIvpUY88pQoKkOnA3SxiomiTZ8PiOj0Fn1qT6tBbwgUutUdp+VZrSOgq31mlWyZhF4lLIHiM1RblpakVbDyA/ZKds6wEIZhnvJ7sAU34Cn4hbnCJ37VyVVo94LiF8S+kZIVgkAnqKtMJTjJHMJToFs87tNEBjd9Ch1qHpP7CTo5xTsOdYepMrjhWuSSzynukt8Pv2EMk00u9f/jBANMvsfUfbgCeiVavxAigwWXq/LJxeQMdfpNXIcFTM5DH1xN0gtJGCChGoHJpMTz2qOf/jPKaDfchEvwHVbhAz5eMx6F/rtps/FoJeUJBnS3lgxlu+kW68gzGzK4lll3GJPBb5DPqskKnol9YzKTHg8A2r/9Qs/XFFsAAAAASUVORK5CYII=" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAaCAYAAADFTB7LAAAAAXNSR0IArs4c6QAAAHplWElmTU0AKgAAAAgAAwESAAMAAAABAAEAAAExAAIAAAAeAAAAModpAAQAAAABAAAAUAAAAABBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKQAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAAGgAAAACQIupnAAAEEWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ2RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQ1RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQzRkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ0RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo0psFQAAACSElEQVRYCc2WMUhVURjH79VQEISKDAfFAqVBbHDOLcFNB0scinJrkrbarMFBEAxSQXCJWuQNurgIEoJTOBRSrdFghqZgaIWv5+8v56qvd73vnKM37gc/znnnfN//+99z73v3BYFFFAqFengB67ALc9BsUZpuCiYuwjD8hH9jk4Vb6TpIUKf5Q9g44SrPfBam4a9Z32O8myCTzhZNnxsDGvbhDbRG3Zg/gD+gkPHBaC/1kWY9EJ3QW+YtcU1Z74IdiGKESRiXe25rNLgOW6ajvghVSeLst8OaydfwCi4k1XjvIVwF70CxAjU2YuRdg48QRY5JpU2tUw6io6bDV8YGl2LyL8Oyqdcw4lJfNhdBPU967rahrWxBTAJ1NaBnViGtzpg09yWE6kDPkb6tt90VjiuM1hdGhcba413PGSIvpUY88pQoKkOnA3SxiomiTZ8PiOj0Fn1qT6tBbwgUutUdp+VZrSOgq31mlWyZhF4lLIHiM1RblpakVbDyA/ZKds6wEIZhnvJ7sAU34Cn4hbnCJ37VyVVo94LiF8S+kZIVgkAnqKtMJTjJHMJToFs87tNEBjd9Ch1qHpP7CTo5xTsOdYepMrjhWuSSzynukt8Pv2EMk00u9f/jBANMvsfUfbgCeiVavxAigwWXq/LJxeQMdfpNXIcFTM5DH1xN0gtJGCChGoHJpMTz2qOf/jPKaDfchEvwHVbhAz5eMx6F/rtps/FoJeUJBnS3lgxlu+kW68gzGzK4lll3GJPBb5DPqskKnol9YzKTHg8A2r/9Qs/XFFsAAAAASUVORK5CYII=" height="26" width="40" x="15"></image></svg></span><div class="hidden text-2xl font-semibold sm:block">随风小站</div></div></a></h1><div class="flex items-center text-base leading-5"><div class="hidden sm:block"><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/blog">文章</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/tags">标签</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/projects">项目</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/tool">工具</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/boilerplate">模板</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/about">关于</a></div><div class="ml-1 mr-1 flex items-center sm:ml-4"><a class="block p-1" title="RSS" href="/feed.xml"><svg fill="currentColor" class="h-5 w-5" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M3.75 3a.75.75 0 00-.75.75v.5c0 .414.336.75.75.75H4c6.075 0 11 4.925 11 11v.25c0 .414.336.75.75.75h.5a.75.75 0 00.75-.75V16C17 8.82 11.18 3 4 3h-.25z"></path><path d="M3 8.75A.75.75 0 013.75 8H4a8 8 0 018 8v.25a.75.75 0 01-.75.75h-.5a.75.75 0 01-.75-.75V16a6 6 0 00-6-6h-.25A.75.75 0 013 9.25v-.5zM7 15a2 2 0 11-4 0 2 2 0 014 0z"></path></svg></a><button aria-label="Toggle Dark Mode" type="button" class="h-7 w-7 rounded p-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button></div><div class="sm:hidden"><button type="button" class="ml-1 mr-1 h-8 w-8 rounded py-1" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed top-0 left-0 z-50 h-full w-full transform bg-gray-200 opacity-95 duration-300 ease-in-out dark:bg-gray-800 translate-x-full"><div class="flex justify-end"><button type="button" class="mr-5 mt-11 h-8 w-8 rounded" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><nav class="mt-8 h-full"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/blog">文章</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">标签</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/projects">项目</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tool">工具</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/boilerplate">模板</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/about">关于</a></div></nav></div></div></div></header><main class="mb-auto"><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div style="transform:translateX(-100%)" class="fixed top-0 left-0 h-1 w-full bg-primary-500 backdrop-blur-3xl transition-transform duration-150"></div><div class="fixed right-8 bottom-8 hidden flex-col gap-3 md:hidden"><button aria-label="Scroll To Comment" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path></svg></button><button aria-label="Scroll To Top" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div class="xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700"><header class="pt-6 xl:pb-6"><div class="space-y-1 text-center"><dl class="space-y-10"><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2022-09-27T15:49:28.000Z">2022年9月27日星期二</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">使用 Notion 数据库进行 Next.js 应用全栈开发</h1></div></div></header><div class="divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6 xl:divide-y-0" style="grid-template-rows:auto 1fr"><div class=""><dl class="pt-6 pb-10 xl:border-b xl:border-gray-200 xl:pt-11 xl:dark:border-gray-700"><dt class="sr-only">Authors</dt><dd><ul class="flex justify-center space-x-8 sm:space-x-12 xl:block xl:space-x-0 xl:space-y-8"><li class="flex items-center space-x-2"><img alt="avatar" src="/static/images/avatar.jpeg" width="38px" height="38px" class="h-10 w-10 rounded-full"/><dl class="whitespace-nowrap text-sm font-medium leading-5"><dt class="sr-only">作者</dt><dd class="text-gray-900 dark:text-gray-100">随风</dd></dl></li></ul></dd></dl><h2 class="pt-6 text-xs font-bold uppercase tracking-wide text-gray-500 dark:text-gray-400">目录</h2><ul class="py-4 text-sm font-medium leading-relaxed xl:border-b xl:border-gray-200 xl:dark:border-gray-700"><li class="false"><a class="text-primary-500" href="#前言">前言</a></li><li class="false"><a class="text-primary-500" href="#notion-是什么">Notion 是什么?</a></li><li class="false"><a class="text-primary-500" href="#需求分析">需求分析</a></li><li class="false"><a class="text-primary-500" href="#创建-notion-数据库">创建 Notion 数据库</a></li><li class="ml-6"><a class="text-primary-500" href="#题目表">题目表</a></li><li class="ml-6"><a class="text-primary-500" href="#标签表">标签表</a></li><li class="ml-6"><a class="text-primary-500" href="#建立表关联">建立表关联</a></li><li class="false"><a class="text-primary-500" href="#创建-notion-集成">创建 Notion 集成</a></li><li class="false"><a class="text-primary-500" href="#初始化项目">初始化项目</a></li><li class="false"><a class="text-primary-500" href="#链接数据库">链接数据库</a></li><li class="false"><a class="text-primary-500" href="#查询列表">查询列表</a></li><li class="false"><a class="text-primary-500" href="#查询详情">查询详情</a></li><li class="false"><a class="text-primary-500" href="#添加修改数据">添加/修改数据</a></li><li class="false"><a class="text-primary-500" href="#数据库迁移">数据库迁移</a></li><li class="false"><a class="text-primary-500" href="#删除数据">删除数据</a></li><li class="false"><a class="text-primary-500" href="#nextjs-ssr">Next.js SSR</a></li><li class="false"><a class="text-primary-500" href="#踩坑">踩坑</a></li><li class="false"><a class="text-primary-500" href="#小结">小结</a></li><li class="false"><a class="text-primary-500" href="#后续">后续</a></li></ul></div><div class="xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="mt-6"><img alt="使用 Notion 数据库进行 Next.js 应用全栈开发" class="w-full rounded object-cover shadow-lg" src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0e025d77556e4073989114847ff39959~tplv-k3u1fbpfcp-watermark.image?"/></div><div class="prose max-w-none break-words pt-10 pb-8 dark:prose-dark"><blockquote><p>文章为稀土掘金技术社区首发签约文章，14 天内禁止转载，14 天后未获授权禁止转载，侵权必究！</p></blockquote><h2 id="前言"><a href="#前言" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>前言</h2><p>在上一篇中，我们使用了 strapi 和 Next.js 开发了一个简易微博，但是我没有部署上线，因为我知道这个小应用只能个人体验，若是我们的个人项目想要部署上线，难道还得花钱买服务器吗，“任何不能令人满意的东西，不值得我们屈尊“，今天我就得带大家来白嫖一下 Notion 数据库，让我们的个人应用轻松上线。</p><blockquote><p>本文涉及代码都在<a target="_blank" rel="noopener noreferrer" href="https://github.com/maqi1520/notion-fe-app"> Github 仓库</a>中</p></blockquote><h2 id="notion-是什么"><a href="#notion-是什么" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Notion 是什么?</h2><p>Notion 是一款极其出色的个人笔记软件，它将“万物皆对象”的思维运用到笔记中，让使用者可以天马行空地去创造、拖拽、链接。Notion 适合各种场景，无论是生活、工作还是学习，各种东西都可以在这里记录；它可以帮助用户记录日程表、每日计划、待办事项、日记等，到了时间系统会自动进行提醒。</p><p>但对我们程序员来说，Notion 除了是笔记软件，还可以是数据库。</p><blockquote><p>在开始之前，我强烈建议不要在生产环境中使用 Notion 数据库。</p></blockquote><h2 id="需求分析"><a href="#需求分析" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>需求分析</h2><p>我先来介绍一下我的需求，之前写过一篇<a target="_blank" rel="noopener noreferrer" href="https://juejin.cn/post/7127513487546253348">《【实战】Next.js + 云函数开发一个面试刷题网站》</a>，采用了&quot;腾讯云云开发&quot;中的云数据库和 Vercel 部署了一个面试刷题网站，但现在&quot;腾讯云云开发&quot;目前收费了，价格是 19.9 元/月，所以我打算将数据库从腾讯云迁移到 Notion，并且使用 Next.js 服务端渲染，最后部署同样使用 Vercel。这样做的优点是：</p><ul><li>整个上线网站我都不用花钱</li><li>SSR 渲染，搜索引擎可以收录网站中更多的页面。</li></ul><h2 id="创建-notion-数据库"><a href="#创建-notion-数据库" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>创建 Notion 数据库</h2><p>如果没有账户的同学，请大家自行注册前往 <a target="_blank" rel="noopener noreferrer" href="https://www.notion.so/">https://www.notion.so/</a> 注册账号，Notion 目前没有中文版本，大家可以装这个<a target="_blank" rel="noopener noreferrer" href="https://greasyfork.org/zh-CN/scripts/430116-notion-zh-cn-notion%E7%9A%84%E6%B1%89%E5%8C%96%E8%84%9A%E6%9C%AC" title="notion的汉化脚本">油猴插件</a>，汉化一下。</p><p>首先我们在 Notion 中，创建一个 <code>full page table</code> 页面，来作为我们的数据库保存数据。</p><ol><li>打开 Notion，添加一个 page，输入名称，并在模板中选择 DATABASE 下的 Table。</li></ol><p><img alt="新建页面创建 DATABASE" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/862d4219aad14f1099b4c7315193de53~tplv-k3u1fbpfcp-zoom-1.image"/></p><ol start="2"><li>点击 <code>properties</code>，添加我们题目表所需要的一些数据项：</li></ol><p><img alt="Notion 添加 properties 字段" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9e081d1eba7347a09d9aa95113f2d50c~tplv-k3u1fbpfcp-zoom-1.image"/></p><h3 id="题目表"><a href="#题目表" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>题目表</h3><p>根据之前的数据结构，添加字段，这是题目表的数据 ts 类型接口</p><div class="relative"><pre><code class="language-ts code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Question</span> <span class="token punctuation">{</span>
</span><span class="code-line">  _id<span class="token operator">:</span> <span class="token builtin">string</span>
</span><span class="code-line">  category<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token comment">// 分类</span>
</span><span class="code-line">  title<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token comment">// 标题</span>
</span><span class="code-line">  desc<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token comment">// 简介</span>
</span><span class="code-line">  options<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token comment">// 选项，JSON转成字符串</span>
</span><span class="code-line">  explanation<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token comment">//  解析</span>
</span><span class="code-line">  level<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token comment">//  难度</span>
</span><span class="code-line">  tagId<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token comment">//  标签</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p><img alt="Notion properties 字段类型" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6d906db332d14128971578dbf4e308a3~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>可以看到 Notion 数据字段也分为<code>文本</code>、<code>数字</code>、<code>下拉</code>、<code>多选</code>、<code>文件</code>等等，我们在右侧选择字段类型，所有添加完成后，我们再手动录入一条数据，以便于后续测试数据。</p><h3 id="标签表"><a href="#标签表" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>标签表</h3><div class="relative"><pre><code class="language-ts code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Tag</span> <span class="token punctuation">{</span>
</span><span class="code-line">  id<span class="token operator">:</span> <span class="token builtin">number</span>
</span><span class="code-line">  tagName<span class="token operator">:</span> <span class="token builtin">string</span>
</span><span class="code-line">  image<span class="token operator">:</span> <span class="token builtin">string</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p><img alt="Notion 创建标签表" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f8e8ecb50752414797b2ed6dbd4eef6b~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>我们使用相同步骤，建立标签表，并且添加数据到表中。</p><h3 id="建立表关联"><a href="#建立表关联" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>建立表关联</h3><p>题目表和标签表是多对一的关系，一个标签下有多道题目，一个题目只有一个标签</p><p><img alt="Notion 建立表关联" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d0d2a30765bf4de5af3c432497aea8d8~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>在题目表添加属性<code>tag</code>，选择 <code>Relation</code>，让后选择“标签”表</p><p><img alt="Notion 建立表关联" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f84533c69ca248448dd6ea11a0e3f502~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>这样题目表和标签表就建立了关系</p><h2 id="创建-notion-集成"><a href="#创建-notion-集成" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>创建 Notion 集成</h2><p>在使用 Notion API 之前，我们需要创建一个 Notion 的应用集成，获取 API Key。 打开 <a target="_blank" rel="noopener noreferrer" href="https://www.notion.so/my-integrations%EF%BC%8C%E6%89%93%E5%BC%80">https://www.notion.so/my-integrations，打开</a> Notion 集成页面，登录自己的账号，点击 New integration 创建一个新的应用：</p><p><img alt="创建 Notion 集成" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d8e733e652614f27b5f0d19bb0dd0b8d~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>名称可以自己起，上传一个 LOGO，然后关联一个 Notion 的工作空间：</p><p><img alt="创建 Notion 集成，填写信息" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ed8e8abde26849d68b4122a6c7525d3e~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>点击提交，这个应用就创建好了，在跳转的新页面里，把<code>Internal Integration Token</code>复制下来，不要泄露，否则拿到这个 key 的人都能操作你的笔记啦。</p><p><img alt="复制 Notion Token" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dd8d50adcc754b04a7d65fe4c950e32b~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>接下来在 Notion Page 页面，点击更多，创建 Connections，连接到我们刚才创建的应用</p><p><img alt="Notion 页面关联集成应用" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9bfec8debc08477aa2a1434bfbba084b~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>这样就可以使用 API 来操作笔记啦。</p><h2 id="初始化项目"><a href="#初始化项目" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>初始化项目</h2><ol><li>创建一个 next 项目</li></ol><div class="relative"><pre><code class="code-highlight language-bash"><span class="code-line">npx create-next-app fe-app --typescript
</span><span class="code-line"><span class="token builtin class-name">cd</span> fe-app
</span></code></pre></div><ol start="2"><li>安装 TailwindCSS</li></ol><div class="relative"><pre><code class="code-highlight language-bash"><span class="code-line"><span class="token function">yarn</span> <span class="token function">add</span> -D tailwindcss postcss autoprefixer @tailwindcss/typography
</span><span class="code-line">npx tailwindcss init -p
</span></code></pre></div><ol start="3"><li>编辑 <code>tailwind.config.js</code> 配置文件</li></ol><div class="relative"><pre><code class="code-highlight language-js"><span class="code-line"><span class="token comment doc-comment">/** <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#x27;tailwindcss&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Config<span class="token punctuation">}</span></span> */</span>
</span><span class="code-line">module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property literal-property">content</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;./src/**/*.{js,ts,jsx,tsx}&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property literal-property">theme</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property literal-property">extend</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property literal-property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;@tailwindcss/typography&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><ol start="4"><li>修改 <code>styles/global.css</code> 为 tailwindcss 的初始化指令</li></ol><div class="relative"><pre><code class="code-highlight language-css"><span class="code-line"><span class="token atrule"><span class="token rule">@tailwind</span> base<span class="token punctuation">;</span></span>
</span><span class="code-line"><span class="token atrule"><span class="token rule">@tailwind</span> components<span class="token punctuation">;</span></span>
</span><span class="code-line"><span class="token atrule"><span class="token rule">@tailwind</span> utilities<span class="token punctuation">;</span></span>
</span></code></pre></div><ol start="5"><li>设置 Node 环境变量，新建一个 <code>.env.local</code> 文件</li></ol><div class="relative"><pre><code class="code-highlight language-bash"><span class="code-line"><span class="token assign-left variable">NOTION_ACCESS_TOKEN</span><span class="token operator">=</span>
</span><span class="code-line"><span class="token assign-left variable">NOTION_DATABASE_QUESTION_ID</span><span class="token operator">=</span>
</span><span class="code-line"><span class="token assign-left variable">NOTION_DATABASE_TAG_ID</span><span class="token operator">=</span>
</span></code></pre></div><p>TOKEN 为刚才复制的 TOKEN，数据库 ID 为 NOTION 页面 URL 上的 ID</p><p><img alt="复制 Notion 数据库ID" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3a06222fc4c041cca523cf31f2463493~tplv-k3u1fbpfcp-zoom-1.image"/></p><h2 id="链接数据库"><a href="#链接数据库" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>链接数据库</h2><p>我们需要安装 Notion Javascript 客户端，来获取表数据信息。</p><div class="relative"><pre><code class="code-highlight language-bash"><span class="code-line"><span class="token function">yarn</span> <span class="token function">add</span> @notionhq/client
</span></code></pre></div><h2 id="查询列表"><a href="#查询列表" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>查询列表</h2><p>新建一个 <code>lib/NotionServer.ts</code>, 将数据库请求的方法封装在这个 class 中</p><div class="relative"><pre><code class="language-ts code-highlight"><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Client <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;@notionhq/client&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> auth <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NOTION_ACCESS_TOKEN</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> database <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NOTION_DATABASE_QUESTION_ID</span> <span class="token operator">??</span> <span class="token string">&#x27;&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">type</span> <span class="token class-name">Question</span> <span class="token operator">=</span> <span class="token builtin">any</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">NotionService</span> <span class="token punctuation">{</span>
</span><span class="code-line">  client<span class="token operator">:</span> Client
</span><span class="code-line">
</span><span class="code-line">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span>client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Client</span><span class="token punctuation">(</span><span class="token punctuation">{</span> auth <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">async</span> <span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Question<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>client<span class="token punctuation">.</span>databases<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">      database_id<span class="token operator">:</span> database<span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">return</span> response<span class="token punctuation">.</span>results
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>新建<code>pages/api/question.ts</code>， 与约定式路由一样，任何在<code>pages/api</code> 目录下的文件都可以作为<code>/api/*</code>接口访问，以下代码就直接调用了刚才创建的 NotionServer：</p><div class="relative"><pre><code class="language-ts code-highlight"><span class="code-line"><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> NextApiRequest<span class="token punctuation">,</span> NextApiResponse <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;next&#x27;</span>
</span><span class="code-line"><span class="token keyword">import</span> NotionServer <span class="token keyword">from</span> <span class="token string">&#x27;../../lib/NotionServer&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">type</span> <span class="token class-name">Data</span> <span class="token operator">=</span> <span class="token builtin">any</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> notionServer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NotionServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">handler</span><span class="token punctuation">(</span>req<span class="token operator">:</span> NextApiRequest<span class="token punctuation">,</span> res<span class="token operator">:</span> NextApiResponse<span class="token operator">&lt;</span>Data<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> notionServer<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>此时我们访问 <a target="_blank" rel="noopener noreferrer" href="http://localhost:3000/api/question">http://localhost:3000/api/question</a> ，会看到如下数据</p><p><img alt="Notion api 返回数据结构" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ee9708f074a044709ed622314a1572af~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>这显然不是我们想要的数据，在 Notion 中，表中的每一个单元格数据，都有类型和针对这个类型的描述字段。 我们想要的格式是这样的，比如：</p><div class="relative"><pre><code class="code-highlight language-json"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property">&quot;title&quot;</span><span class="token operator">:</span><span class="token string">&quot;输出什么？&quot;</span>
</span><span class="code-line">  <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span><span class="token string">&quot;题目描述&quot;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>title 字段叫标题，而且肯定是单行文本类型，是明确的，所以我们需要简化一下字段，在 <code>NotionServer.ts</code> 中加入一个<code>transformer</code> 方法，用于数据转换:</p><div class="relative"><pre><code class="language-ts code-highlight"><span class="code-line"><span class="token keyword">class</span> <span class="token class-name">NotionService</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token operator">...</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">async</span> <span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Question<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>client<span class="token punctuation">.</span>databases<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">      database_id<span class="token operator">:</span> database<span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">return</span> response<span class="token punctuation">.</span>results<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> NotionService<span class="token punctuation">.</span><span class="token function">transformer</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token function">transformer</span><span class="token punctuation">(</span>page<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> Question <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">let</span> data<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> page<span class="token punctuation">.</span>properties<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">switch</span> <span class="token punctuation">(</span>page<span class="token punctuation">.</span>properties<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">case</span> <span class="token string">&quot;relation&quot;</span><span class="token operator">:</span>
</span><span class="code-line">          data<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> page<span class="token punctuation">.</span>properties<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span>relation<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</span><span class="code-line">          <span class="token keyword">break</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">        <span class="token keyword">case</span> <span class="token string">&quot;title&quot;</span><span class="token operator">:</span>
</span><span class="code-line">        <span class="token keyword">case</span> <span class="token string">&quot;rich_text&quot;</span><span class="token operator">:</span>
</span><span class="code-line">          data<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span>
</span><span class="code-line">            page<span class="token punctuation">.</span>properties<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">[</span>page<span class="token punctuation">.</span>properties<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span>type<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>text<span class="token punctuation">.</span>content<span class="token punctuation">;</span>
</span><span class="code-line">          <span class="token keyword">break</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">        <span class="token keyword">default</span><span class="token operator">:</span>
</span><span class="code-line">          data<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> page<span class="token punctuation">.</span>properties<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">          <span class="token keyword">break</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">return</span> data<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>转换后，刷新页面，便得到了我们想要的数据。</p><p><img alt="转换后的 json 数据" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/eb10395e6f0f4379aa20372cd8c5ebcb~tplv-k3u1fbpfcp-zoom-1.image"/></p><h2 id="查询详情"><a href="#查询详情" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>查询详情</h2><p>根据 <code>page_id</code> 查询数据详情可以使用如下代码</p><div class="relative"><pre><code class="language-ts code-highlight"><span class="code-line"><span class="token keyword">async</span> <span class="token function">detail</span><span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Question<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>client<span class="token punctuation">.</span>pages<span class="token punctuation">.</span><span class="token function">retrieve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">    page_id<span class="token operator">:</span> id<span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> NotionService<span class="token punctuation">.</span><span class="token function">transformer</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>同样查询结果需要转换一下，将 Notion 复杂结果转换为我们需要的简单数据结构。</p><h2 id="添加修改数据"><a href="#添加修改数据" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>添加/修改数据</h2><p>添加和修改数据，我们可以使用下面这个 2 个方法</p><div class="relative"><pre><code class="language-ts code-highlight"><span class="code-line"><span class="token keyword">this</span><span class="token punctuation">.</span>client<span class="token punctuation">.</span>pages<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>paramters<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">this</span><span class="token punctuation">.</span>client<span class="token punctuation">.</span>pages<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>paramters<span class="token punctuation">)</span>
</span></code></pre></div><p>其中 paramters 的值，我们可以通过 ts 类型看，其实跟查询返回的数据一致，我只需要拷贝查询结果的其中一条数据，删除掉字段中的 id，替换掉里面的内容为真实数据即可。</p><p><img alt="notionhq/client TS 类型提示" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e3517c7ef6dd42cdab2bb8c445e0b687~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>下面是添加题目函数的代码：</p><div class="relative"><pre><code class="language-ts code-highlight"><span class="code-line"><span class="token keyword">async</span> <span class="token function">create</span><span class="token punctuation">(</span>question<span class="token operator">:</span> Question<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>client<span class="token punctuation">.</span>pages<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">    parent<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      database_id<span class="token operator">:</span> database<span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    properties<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      desc<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">        type<span class="token operator">:</span> <span class="token string">&quot;rich_text&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">        rich_text<span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">          <span class="token punctuation">{</span>
</span><span class="code-line">            type<span class="token operator">:</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">            text<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">              content<span class="token operator">:</span> question<span class="token punctuation">.</span>desc<span class="token punctuation">,</span>
</span><span class="code-line">            <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">          <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      options<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">        type<span class="token operator">:</span> <span class="token string">&quot;rich_text&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">        rich_text<span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">          <span class="token punctuation">{</span>
</span><span class="code-line">            type<span class="token operator">:</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">            text<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">              content<span class="token operator">:</span> question<span class="token punctuation">.</span>options<span class="token punctuation">,</span>
</span><span class="code-line">            <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">          <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      explanation<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">        type<span class="token operator">:</span> <span class="token string">&quot;rich_text&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">        rich_text<span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">          <span class="token punctuation">{</span>
</span><span class="code-line">            type<span class="token operator">:</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">            text<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">              content<span class="token operator">:</span> question<span class="token punctuation">.</span>explanation<span class="token punctuation">,</span>
</span><span class="code-line">            <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">          <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      tag<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">        type<span class="token operator">:</span> <span class="token string">&quot;relation&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">        relation<span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">          <span class="token punctuation">{</span>
</span><span class="code-line">            id<span class="token operator">:</span> question<span class="token punctuation">.</span>tag<span class="token punctuation">,</span>
</span><span class="code-line">          <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      title<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">        type<span class="token operator">:</span> <span class="token string">&quot;title&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">        title<span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">          <span class="token punctuation">{</span>
</span><span class="code-line">            type<span class="token operator">:</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">            text<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">              content<span class="token operator">:</span> question<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
</span><span class="code-line">            <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">          <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">return</span> response<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>编辑数据与添加数据方法相似，只需要拷贝查询结果的数据，将需要修改的部分修改掉即可，使用 Notion 作为数据库的还有一个好处，就是可以将 Notion 作为 CMS 系统来用，有时添加和修改不是必须的功能，我们可以直接在 Notion 后台进行数据管理。</p><h2 id="数据库迁移"><a href="#数据库迁移" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>数据库迁移</h2><p>因此我们可以从云开发数据库中将数据导出，通过 api 导入到 Notion 数据库中。</p><p>首先在新建一个 <code>pages/api/create.ts</code> 用于创建题目的接口。</p><div class="relative"><pre><code class="language-ts code-highlight"><span class="code-line"><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> NextApiRequest<span class="token punctuation">,</span> NextApiResponse <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;next&#x27;</span>
</span><span class="code-line"><span class="token keyword">import</span> NotionServer <span class="token keyword">from</span> <span class="token string">&#x27;../../lib/NotionServer&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">type</span> <span class="token class-name">Data</span> <span class="token operator">=</span> <span class="token builtin">any</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> notionServer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NotionServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">handler</span><span class="token punctuation">(</span>req<span class="token operator">:</span> NextApiRequest<span class="token punctuation">,</span> res<span class="token operator">:</span> NextApiResponse<span class="token operator">&lt;</span>Data<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>method <span class="token operator">!==</span> <span class="token string">&#x27;POST&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">405</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span> message<span class="token operator">:</span> <span class="token string">&#x27;Only POST requests allowed&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token keyword">return</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> notionServer<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>接下来就可以将导出的 json，通过执行本地 node fetch 的方式将数据全部导入到 Notion 中</p><div class="relative"><pre><code class="language-ts code-highlight"><span class="code-line"><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&quot;fs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">const</span> fetch <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&quot;node-fetch&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> content <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>
</span><span class="code-line">    path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;./fe.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;utf8&quot;</span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> tags <span class="token operator">=</span> <span class="token punctuation">[</span>
</span><span class="code-line">    <span class="token punctuation">{</span>
</span><span class="code-line">      _id<span class="token operator">:</span> <span class="token string">&quot;6b428f57-0831-4280-ac1c-8d016c8d038b&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      id<span class="token operator">:</span> <span class="token number">17</span><span class="token punctuation">,</span>
</span><span class="code-line">      image<span class="token operator">:</span> <span class="token string">&quot;/static/logo/fun.svg&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      tagName<span class="token operator">:</span> <span class="token string">&quot;趣味题&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token operator">...</span>
</span><span class="code-line">  <span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> data <span class="token operator">=</span> content<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> index <span class="token operator">&lt;</span> data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> index<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">let</span> item <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    item<span class="token punctuation">.</span>tag <span class="token operator">=</span> tags<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> tag<span class="token punctuation">.</span>id <span class="token operator">===</span> item<span class="token punctuation">.</span>tagId<span class="token punctuation">)</span><span class="token operator">?.</span>_id<span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:3000/api/create&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">      method<span class="token operator">:</span> <span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      headers<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token property string-property">&quot;Content-Type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;application/json; charset=utf-8&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      body<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;第&quot;</span> <span class="token operator">+</span> index <span class="token operator">+</span> <span class="token string">&quot;题&quot;</span> <span class="token operator">+</span> item<span class="token punctuation">.</span>title <span class="token operator">+</span> res<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;end&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><p>上面代码中 tags 我是选创建了一个 tag 查询接口，因为 tags 数据不多，所以我直接将数据复制了下来，用 nodejs 执行一下以上代码，我们便可以在控制台中看到数据导入的进度。</p><p><img alt="数据迁移到 Notion 完成" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2db3d907d8244ca9aad789f7726050b5~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>执行完成，总共 968 题， 我们来 Notion 中看看导入的效果。</p><p><img alt="Notion 查看数据表" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/977c51ccbe4c45109228495e3775a6e8~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>当然我也将全部题目公开在 Notion 上面了，大家可以通过<a target="_blank" rel="noopener noreferrer" href="https://fixed-temper-f5d.notion.site/da90b4d7537745a4a88b03369017e07a?v=3e765e0593374163a035759fe46fba49">这个链接</a>查看。</p><h2 id="删除数据"><a href="#删除数据" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>删除数据</h2><p>在 Notion 中，不能使用 api 的方式删除数据，所以我们需要换一种思维来解决，在表中创建一个字段<code>In stock</code> 来标识，用于假删除数据，也就是将“删除数据逻辑”修改为“修改数据逻辑”，将这条数据修改为归档类型，所以之前查询列表接口需要加上 <code>In stock</code> 值为 <code>false</code>，查询未归档的数据。</p><p>下面是假删除数据的代码：</p><div class="relative"><pre><code class="language-ts code-highlight"><span class="code-line"><span class="token keyword">async</span> <span class="token function">remove</span><span class="token punctuation">(</span>pageId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>client<span class="token punctuation">.</span>pages<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">      page_id<span class="token operator">:</span> pageId<span class="token punctuation">,</span>
</span><span class="code-line">      properties<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token property string-property">&quot;In stock&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">          checkbox<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">return</span> response<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span></code></pre></div><h2 id="nextjs-ssr"><a href="#nextjs-ssr" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Next.js SSR</h2><p>到此，我们完成了数据表的建设，以及数据库的迁移。完成了对 <code>NotionService</code> 的封装，有了 NotionService ，我们不但可以完成接口，而且还可以在 Next.js 中直接获取数据，用于服务端渲染。</p><p>以下是首页中服务端获取数据的部分实现代码</p><div class="relative"><pre><code class="language-ts code-highlight"><span class="code-line"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> GetServerSidePropsContext<span class="token punctuation">,</span>InferGetServerSidePropsType <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;next&quot;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">import</span> NotionServer <span class="token keyword">from</span> <span class="token string">&quot;@/lib/NotionServer&quot;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Interview</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  data<span class="token punctuation">,</span>
</span><span class="code-line">  tags<span class="token punctuation">,</span>
</span><span class="code-line">  q<span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token operator">:</span> InferGetServerSidePropsType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> getServerSideProps<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token comment">// 使用 props 数据，之间进行 render</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line"><span class="token comment">// 在Nodejs 环境中执行</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getServerSideProps</span><span class="token punctuation">(</span>context<span class="token operator">:</span> GetServerSidePropsContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> q <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> tagid<span class="token punctuation">,</span> cursor <span class="token punctuation">}</span> <span class="token operator">=</span> context<span class="token punctuation">.</span>query<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> notionServer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NotionServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> tags <span class="token operator">=</span> <span class="token keyword">await</span> notionServer<span class="token punctuation">.</span><span class="token function">queryTags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> has_more <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> notionServer<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">    title<span class="token operator">:</span> q <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
</span><span class="code-line">    tagid<span class="token operator">:</span> tagid <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token comment">// 获取到的数据，传递给组件props</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span>
</span><span class="code-line">    props<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      data<span class="token punctuation">,</span>
</span><span class="code-line">      tags<span class="token punctuation">,</span>
</span><span class="code-line">      has_more<span class="token punctuation">,</span>
</span><span class="code-line">      q<span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>这部分主要跟之前文章中的内容大致相同，所以我就不过多介绍了，我们直接来看下效果。</p><p><img alt="Notion 和 Next.js 开发现效果" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/31e4c176557449aa9a332212d8609f16~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>大家可以使用 <a target="_blank" rel="noopener noreferrer" href="https://notion.runjs.cool/">https://notion.runjs.cool/</a> 访问体验，也可以与之前的腾讯云开发做对比 <a target="_blank" rel="noopener noreferrer" href="https://runjs.cool/">https://runjs.cool/</a></p><p><img alt="Notion 和腾讯云接口对比" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a297549d08dd4d2293f5ccd003aabd92~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>Notion 小数据量接口平均 800ms，列表接口包含了答案详情，所以在 1s 以上，腾讯云每个接口都在 300ms 以下。</p><h2 id="踩坑"><a href="#踩坑" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>踩坑</h2><p>虽然全文下来，大致上没什么难度，但是我在实践过程中也遇到了一些坑。</p><ol><li>Notion 中，文本字段是一个数组，上面<code>transformer</code>代码中我们取值都是取了<code>[0].text.content</code>，但 <code>content</code> 的长度限制是 <code>2000</code>，所以我们之前的一些 Text 字段，超过 <code>2000</code> 需要拆分成数组存储，读取的时候再将数组拼接成一个字符串。</li></ol><p>至于如何拆分，大家可以思考下，也直接看我的<a target="_blank" rel="noopener noreferrer" href="https://github.com/maqi1520/notion-fe-app" title="Github 地址">代码仓库</a></p><ol start="2"><li>传统数据分页传 <code>page</code> 和 <code>page_size</code> 2 个字段，但在 Notion 中采用了 <code>start_cursor</code> 指针的方式，前端需要使用滚动翻页的方式。</li></ol><h2 id="小结"><a href="#小结" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>小结</h2><p>本文我们利用 Next.js 和 Notion API 编写了一个前端刷题网站，整个流程是：</p><ul><li>创建数据库页面、配置属性、获取数据库 id。</li><li>从 Notion 官网创建应用，获取 API KEY。</li><li>使用 @notionhq/client 对 Notion 数据进行操作，编写接口</li><li>在 Page 中，使用 getServerSideProps 进行数据获取，让后使用 react 进行渲染页面。</li></ul><p>使用 Notion 作为数据库有利有弊</p><p>最大的优点： 免费，打通 Notion，让笔记和网站得以同步；</p><p>缺点：Notion API 的结构比较复杂，接口固定，不能实现定义的功能，所以这里适合做一些尝试性的项目。</p><p><strong>思考：若是我们的网站也需要实现 CMS 自定义设计表单的功能，我相信 Notion 的数据结构值得我们参考。</strong></p><p>好了，以上就是利用 Notion API 和 Next.js 进行应用全栈开发的过程，你学会了吗？若对你有帮助，记得帮我点赞。</p><h2 id="后续"><a href="#后续" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>后续</h2><p>接下来我将继续分享 Next.js 相关的实战文章，欢迎各位关注我的《Next.js 全栈开发实战》 专栏。</p><ul><li>使用 Prisma 和 PostgreSQL 进行 Next.js 应用全栈开发</li><li>使用 NextAuth 实现 Next.js 应用的鉴权与认证</li><li>使用 React query 给 Next.js 应用全局状态管理</li><li>使用 i18next 实现 Next.js 应用国际化</li><li>使用 Playwright 进行 Next.js 应用的端到端测试</li><li>使用 Github actions 给 Next.js 应用创建 CI/CD</li><li>使用 Docker 部署 Next.js 应用</li><li>将 Next.js 应用部署到腾讯云 serverless</li></ul><p>你对哪块内容比较感兴趣呢？欢迎在评论区留言，感谢您的阅读。</p></div><div class="border-t border-gray-200 pt-6 pb-6 text-sm text-gray-700 dark:border-gray-700 dark:text-gray-300"><div class="mb-3"><img alt="runjs-cool" width="384" height="140" src="/static/images/runjs-cool.webp"/></div><span>关注微信公众号，获取最新原创文章（首发）</span><a target="_blank" rel="noopener noreferrer" href="https://github.com/balac2015/blob/main/data/blog/使用 Notion 数据库进行 Next.js 应用全栈开发.md">View on GitHub</a></div><div id="comment"></div></div><footer><div class="divide-gray-200 text-sm font-medium leading-5 dark:divide-gray-700 xl:col-start-1 xl:row-start-2 xl:divide-y"><div class="py-4 xl:py-8"><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">标签</h2><div class="mt-3 flex flex-wrap"><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/reactjs">React.js</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93">数据库</a></div></div><div class="flex justify-between py-4 xl:block xl:space-y-8 xl:py-8"><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">上一篇 文章</h2><div class="mt-3 text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/%E4%BD%BF%E7%94%A8%20Strapi%20%E5%92%8C%20Next.js%20%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E7%AE%80%E6%98%93%E5%BE%AE%E5%8D%9A">使用 Strapi 和 Next.js 开发一个简易微博</a></div></div><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">下一篇 文章</h2><div class="mt-3 text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/%E4%BD%BF%E7%94%A8%20Next.js%E3%80%81%20Prisma%20%E5%92%8C%20PostgreSQL%20%E5%85%A8%E6%A0%88%E5%BC%80%E5%8F%91%E8%A7%86%E9%A2%91%E7%BD%91%E7%AB%99">使用 Next.js、 Prisma 和 PostgreSQL 全栈开发视频网站</a></div></div></div></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog">← 返回文章列表</a></div></footer></div></div></article></div></main></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var d=Object.create;var t=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var i=a=\u003et(a,\"__esModule\",{value:!0});var k=(a,s)=\u003e()=\u003e(s||a((s={exports:{}}).exports,s),s.exports),g=(a,s)=\u003e{for(var c in s)t(a,c,{get:s[c],enumerable:!0})},o=(a,s,c,e)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let l of m(s))!u.call(a,l)\u0026\u0026(c||l!==\"default\")\u0026\u0026t(a,l,{get:()=\u003es[l],enumerable:!(e=h(s,l))||e.enumerable});return a},f=(a,s)=\u003eo(i(t(a!=null?d(N(a)):{},\"default\",!s\u0026\u0026a\u0026\u0026a.__esModule?{get:()=\u003ea.default,enumerable:!0}:{value:a,enumerable:!0})),a),y=(a=\u003e(s,c)=\u003ea\u0026\u0026a.get(s)||(c=o(i({}),s,1),a\u0026\u0026a.set(s,c),c))(typeof WeakMap!=\"undefined\"?new WeakMap:0);var p=k((S,r)=\u003e{r.exports=_jsx_runtime});var j={};g(j,{default:()=\u003ex,frontmatter:()=\u003eb});var n=f(p()),b={title:\"\\u4F7F\\u7528 Notion \\u6570\\u636E\\u5E93\\u8FDB\\u884C Next.js \\u5E94\\u7528\\u5168\\u6808\\u5F00\\u53D1\",date:\"2022/9/27 23:49:28\",lastmod:\"2023/1/25 11:42:59\",tags:[\"React.js\",\"\\u6570\\u636E\\u5E93\"],draft:!1,summary:\"\\u4ECA\\u5929\\u6211\\u5C31\\u5F97\\u5E26\\u5927\\u5BB6\\u6765\\u767D\\u5AD6\\u4E00\\u4E0B Notion \\u6570\\u636E\\u5E93\\uFF0C\\u8BA9\\u6211\\u4EEC\\u7684\\u4E2A\\u4EBA\\u5E94\\u7528\\u8F7B\\u677E\\u4E0A\\u7EBF\\uFF0C\\u672C\\u6587\\u8BB0\\u5F55\\u4E86\\u5229\\u7528 Next.js \\u548C Notion API \\u7F16\\u5199\\u4E86\\u4E00\\u4E2A\\u524D\\u7AEF\\u5237\\u9898\\u7F51\\u7AD9\\u7684\\u5168\\u8FC7\\u7A0B\\u3002\",images:\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0e025d77556e4073989114847ff39959~tplv-k3u1fbpfcp-watermark.image?\",authors:[\"default\"],layout:\"PostLayout\"};function w(a={}){let{wrapper:s}=a.components||{};return s?(0,n.jsx)(s,Object.assign({},a,{children:(0,n.jsx)(c,{})})):c();function c(){let e=Object.assign({blockquote:\"blockquote\",p:\"p\",h2:\"h2\",a:\"a\",span:\"span\",ul:\"ul\",li:\"li\",code:\"code\",ol:\"ol\",img:\"img\",h3:\"h3\",pre:\"pre\",strong:\"strong\"},a.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.blockquote,{children:(0,n.jsx)(e.p,{children:\"\\u6587\\u7AE0\\u4E3A\\u7A00\\u571F\\u6398\\u91D1\\u6280\\u672F\\u793E\\u533A\\u9996\\u53D1\\u7B7E\\u7EA6\\u6587\\u7AE0\\uFF0C14 \\u5929\\u5185\\u7981\\u6B62\\u8F6C\\u8F7D\\uFF0C14 \\u5929\\u540E\\u672A\\u83B7\\u6388\\u6743\\u7981\\u6B62\\u8F6C\\u8F7D\\uFF0C\\u4FB5\\u6743\\u5FC5\\u7A76\\uFF01\"})}),(0,n.jsxs)(e.h2,{id:\"\\u524D\\u8A00\",children:[(0,n.jsx)(e.a,{href:\"#\\u524D\\u8A00\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u524D\\u8A00\"]}),(0,n.jsx)(e.p,{children:\"\\u5728\\u4E0A\\u4E00\\u7BC7\\u4E2D\\uFF0C\\u6211\\u4EEC\\u4F7F\\u7528\\u4E86 strapi \\u548C Next.js \\u5F00\\u53D1\\u4E86\\u4E00\\u4E2A\\u7B80\\u6613\\u5FAE\\u535A\\uFF0C\\u4F46\\u662F\\u6211\\u6CA1\\u6709\\u90E8\\u7F72\\u4E0A\\u7EBF\\uFF0C\\u56E0\\u4E3A\\u6211\\u77E5\\u9053\\u8FD9\\u4E2A\\u5C0F\\u5E94\\u7528\\u53EA\\u80FD\\u4E2A\\u4EBA\\u4F53\\u9A8C\\uFF0C\\u82E5\\u662F\\u6211\\u4EEC\\u7684\\u4E2A\\u4EBA\\u9879\\u76EE\\u60F3\\u8981\\u90E8\\u7F72\\u4E0A\\u7EBF\\uFF0C\\u96BE\\u9053\\u8FD8\\u5F97\\u82B1\\u94B1\\u4E70\\u670D\\u52A1\\u5668\\u5417\\uFF0C\\u201C\\u4EFB\\u4F55\\u4E0D\\u80FD\\u4EE4\\u4EBA\\u6EE1\\u610F\\u7684\\u4E1C\\u897F\\uFF0C\\u4E0D\\u503C\\u5F97\\u6211\\u4EEC\\u5C48\\u5C0A\\u201C\\uFF0C\\u4ECA\\u5929\\u6211\\u5C31\\u5F97\\u5E26\\u5927\\u5BB6\\u6765\\u767D\\u5AD6\\u4E00\\u4E0B Notion \\u6570\\u636E\\u5E93\\uFF0C\\u8BA9\\u6211\\u4EEC\\u7684\\u4E2A\\u4EBA\\u5E94\\u7528\\u8F7B\\u677E\\u4E0A\\u7EBF\\u3002\"}),(0,n.jsx)(e.blockquote,{children:(0,n.jsxs)(e.p,{children:[\"\\u672C\\u6587\\u6D89\\u53CA\\u4EE3\\u7801\\u90FD\\u5728\",(0,n.jsx)(e.a,{href:\"https://github.com/maqi1520/notion-fe-app\",children:\" Github \\u4ED3\\u5E93\"}),\"\\u4E2D\"]})}),(0,n.jsxs)(e.h2,{id:\"notion-\\u662F\\u4EC0\\u4E48\",children:[(0,n.jsx)(e.a,{href:\"#notion-\\u662F\\u4EC0\\u4E48\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Notion \\u662F\\u4EC0\\u4E48?\"]}),(0,n.jsx)(e.p,{children:\"Notion \\u662F\\u4E00\\u6B3E\\u6781\\u5176\\u51FA\\u8272\\u7684\\u4E2A\\u4EBA\\u7B14\\u8BB0\\u8F6F\\u4EF6\\uFF0C\\u5B83\\u5C06\\u201C\\u4E07\\u7269\\u7686\\u5BF9\\u8C61\\u201D\\u7684\\u601D\\u7EF4\\u8FD0\\u7528\\u5230\\u7B14\\u8BB0\\u4E2D\\uFF0C\\u8BA9\\u4F7F\\u7528\\u8005\\u53EF\\u4EE5\\u5929\\u9A6C\\u884C\\u7A7A\\u5730\\u53BB\\u521B\\u9020\\u3001\\u62D6\\u62FD\\u3001\\u94FE\\u63A5\\u3002Notion \\u9002\\u5408\\u5404\\u79CD\\u573A\\u666F\\uFF0C\\u65E0\\u8BBA\\u662F\\u751F\\u6D3B\\u3001\\u5DE5\\u4F5C\\u8FD8\\u662F\\u5B66\\u4E60\\uFF0C\\u5404\\u79CD\\u4E1C\\u897F\\u90FD\\u53EF\\u4EE5\\u5728\\u8FD9\\u91CC\\u8BB0\\u5F55\\uFF1B\\u5B83\\u53EF\\u4EE5\\u5E2E\\u52A9\\u7528\\u6237\\u8BB0\\u5F55\\u65E5\\u7A0B\\u8868\\u3001\\u6BCF\\u65E5\\u8BA1\\u5212\\u3001\\u5F85\\u529E\\u4E8B\\u9879\\u3001\\u65E5\\u8BB0\\u7B49\\uFF0C\\u5230\\u4E86\\u65F6\\u95F4\\u7CFB\\u7EDF\\u4F1A\\u81EA\\u52A8\\u8FDB\\u884C\\u63D0\\u9192\\u3002\"}),(0,n.jsx)(e.p,{children:\"\\u4F46\\u5BF9\\u6211\\u4EEC\\u7A0B\\u5E8F\\u5458\\u6765\\u8BF4\\uFF0CNotion \\u9664\\u4E86\\u662F\\u7B14\\u8BB0\\u8F6F\\u4EF6\\uFF0C\\u8FD8\\u53EF\\u4EE5\\u662F\\u6570\\u636E\\u5E93\\u3002\"}),(0,n.jsx)(e.blockquote,{children:(0,n.jsx)(e.p,{children:\"\\u5728\\u5F00\\u59CB\\u4E4B\\u524D\\uFF0C\\u6211\\u5F3A\\u70C8\\u5EFA\\u8BAE\\u4E0D\\u8981\\u5728\\u751F\\u4EA7\\u73AF\\u5883\\u4E2D\\u4F7F\\u7528 Notion \\u6570\\u636E\\u5E93\\u3002\"})}),(0,n.jsxs)(e.h2,{id:\"\\u9700\\u6C42\\u5206\\u6790\",children:[(0,n.jsx)(e.a,{href:\"#\\u9700\\u6C42\\u5206\\u6790\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u9700\\u6C42\\u5206\\u6790\"]}),(0,n.jsxs)(e.p,{children:[\"\\u6211\\u5148\\u6765\\u4ECB\\u7ECD\\u4E00\\u4E0B\\u6211\\u7684\\u9700\\u6C42\\uFF0C\\u4E4B\\u524D\\u5199\\u8FC7\\u4E00\\u7BC7\",(0,n.jsx)(e.a,{href:\"https://juejin.cn/post/7127513487546253348\",children:\"\\u300A\\u3010\\u5B9E\\u6218\\u3011Next.js + \\u4E91\\u51FD\\u6570\\u5F00\\u53D1\\u4E00\\u4E2A\\u9762\\u8BD5\\u5237\\u9898\\u7F51\\u7AD9\\u300B\"}),'\\uFF0C\\u91C7\\u7528\\u4E86\"\\u817E\\u8BAF\\u4E91\\u4E91\\u5F00\\u53D1\"\\u4E2D\\u7684\\u4E91\\u6570\\u636E\\u5E93\\u548C Vercel \\u90E8\\u7F72\\u4E86\\u4E00\\u4E2A\\u9762\\u8BD5\\u5237\\u9898\\u7F51\\u7AD9\\uFF0C\\u4F46\\u73B0\\u5728\"\\u817E\\u8BAF\\u4E91\\u4E91\\u5F00\\u53D1\"\\u76EE\\u524D\\u6536\\u8D39\\u4E86\\uFF0C\\u4EF7\\u683C\\u662F 19.9 \\u5143/\\u6708\\uFF0C\\u6240\\u4EE5\\u6211\\u6253\\u7B97\\u5C06\\u6570\\u636E\\u5E93\\u4ECE\\u817E\\u8BAF\\u4E91\\u8FC1\\u79FB\\u5230 Notion\\uFF0C\\u5E76\\u4E14\\u4F7F\\u7528 Next.js \\u670D\\u52A1\\u7AEF\\u6E32\\u67D3\\uFF0C\\u6700\\u540E\\u90E8\\u7F72\\u540C\\u6837\\u4F7F\\u7528 Vercel\\u3002\\u8FD9\\u6837\\u505A\\u7684\\u4F18\\u70B9\\u662F\\uFF1A']}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"\\u6574\\u4E2A\\u4E0A\\u7EBF\\u7F51\\u7AD9\\u6211\\u90FD\\u4E0D\\u7528\\u82B1\\u94B1\"}),(0,n.jsx)(e.li,{children:\"SSR \\u6E32\\u67D3\\uFF0C\\u641C\\u7D22\\u5F15\\u64CE\\u53EF\\u4EE5\\u6536\\u5F55\\u7F51\\u7AD9\\u4E2D\\u66F4\\u591A\\u7684\\u9875\\u9762\\u3002\"})]}),(0,n.jsxs)(e.h2,{id:\"\\u521B\\u5EFA-notion-\\u6570\\u636E\\u5E93\",children:[(0,n.jsx)(e.a,{href:\"#\\u521B\\u5EFA-notion-\\u6570\\u636E\\u5E93\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u521B\\u5EFA Notion \\u6570\\u636E\\u5E93\"]}),(0,n.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u6CA1\\u6709\\u8D26\\u6237\\u7684\\u540C\\u5B66\\uFF0C\\u8BF7\\u5927\\u5BB6\\u81EA\\u884C\\u6CE8\\u518C\\u524D\\u5F80 \",(0,n.jsx)(e.a,{href:\"https://www.notion.so/\",children:\"https://www.notion.so/\"}),\" \\u6CE8\\u518C\\u8D26\\u53F7\\uFF0CNotion \\u76EE\\u524D\\u6CA1\\u6709\\u4E2D\\u6587\\u7248\\u672C\\uFF0C\\u5927\\u5BB6\\u53EF\\u4EE5\\u88C5\\u8FD9\\u4E2A\",(0,n.jsx)(e.a,{href:\"https://greasyfork.org/zh-CN/scripts/430116-notion-zh-cn-notion%E7%9A%84%E6%B1%89%E5%8C%96%E8%84%9A%E6%9C%AC\",title:\"notion\\u7684\\u6C49\\u5316\\u811A\\u672C\",children:\"\\u6CB9\\u7334\\u63D2\\u4EF6\"}),\"\\uFF0C\\u6C49\\u5316\\u4E00\\u4E0B\\u3002\"]}),(0,n.jsxs)(e.p,{children:[\"\\u9996\\u5148\\u6211\\u4EEC\\u5728 Notion \\u4E2D\\uFF0C\\u521B\\u5EFA\\u4E00\\u4E2A \",(0,n.jsx)(e.code,{children:\"full page table\"}),\" \\u9875\\u9762\\uFF0C\\u6765\\u4F5C\\u4E3A\\u6211\\u4EEC\\u7684\\u6570\\u636E\\u5E93\\u4FDD\\u5B58\\u6570\\u636E\\u3002\"]}),(0,n.jsx)(e.ol,{children:(0,n.jsx)(e.li,{children:\"\\u6253\\u5F00 Notion\\uFF0C\\u6DFB\\u52A0\\u4E00\\u4E2A page\\uFF0C\\u8F93\\u5165\\u540D\\u79F0\\uFF0C\\u5E76\\u5728\\u6A21\\u677F\\u4E2D\\u9009\\u62E9 DATABASE \\u4E0B\\u7684 Table\\u3002\"})}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\\u65B0\\u5EFA\\u9875\\u9762\\u521B\\u5EFA DATABASE\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/862d4219aad14f1099b4c7315193de53~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsx)(e.ol,{start:\"2\",children:(0,n.jsxs)(e.li,{children:[\"\\u70B9\\u51FB \",(0,n.jsx)(e.code,{children:\"properties\"}),\"\\uFF0C\\u6DFB\\u52A0\\u6211\\u4EEC\\u9898\\u76EE\\u8868\\u6240\\u9700\\u8981\\u7684\\u4E00\\u4E9B\\u6570\\u636E\\u9879\\uFF1A\"]})}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"Notion \\u6DFB\\u52A0 properties \\u5B57\\u6BB5\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9e081d1eba7347a09d9aa95113f2d50c~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsxs)(e.h3,{id:\"\\u9898\\u76EE\\u8868\",children:[(0,n.jsx)(e.a,{href:\"#\\u9898\\u76EE\\u8868\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u9898\\u76EE\\u8868\"]}),(0,n.jsx)(e.p,{children:\"\\u6839\\u636E\\u4E4B\\u524D\\u7684\\u6570\\u636E\\u7ED3\\u6784\\uFF0C\\u6DFB\\u52A0\\u5B57\\u6BB5\\uFF0C\\u8FD9\\u662F\\u9898\\u76EE\\u8868\\u7684\\u6570\\u636E ts \\u7C7B\\u578B\\u63A5\\u53E3\"}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"language-ts code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"interface\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Question\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  _id\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  category\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u5206\\u7C7B\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  title\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u6807\\u9898\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  desc\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u7B80\\u4ECB\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  options\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u9009\\u9879\\uFF0CJSON\\u8F6C\\u6210\\u5B57\\u7B26\\u4E32\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  explanation\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"//  \\u89E3\\u6790\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  level\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"number\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"//  \\u96BE\\u5EA6\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  tagId\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"number\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"//  \\u6807\\u7B7E\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"Notion properties \\u5B57\\u6BB5\\u7C7B\\u578B\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6d906db332d14128971578dbf4e308a3~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsxs)(e.p,{children:[\"\\u53EF\\u4EE5\\u770B\\u5230 Notion \\u6570\\u636E\\u5B57\\u6BB5\\u4E5F\\u5206\\u4E3A\",(0,n.jsx)(e.code,{children:\"\\u6587\\u672C\"}),\"\\u3001\",(0,n.jsx)(e.code,{children:\"\\u6570\\u5B57\"}),\"\\u3001\",(0,n.jsx)(e.code,{children:\"\\u4E0B\\u62C9\"}),\"\\u3001\",(0,n.jsx)(e.code,{children:\"\\u591A\\u9009\"}),\"\\u3001\",(0,n.jsx)(e.code,{children:\"\\u6587\\u4EF6\"}),\"\\u7B49\\u7B49\\uFF0C\\u6211\\u4EEC\\u5728\\u53F3\\u4FA7\\u9009\\u62E9\\u5B57\\u6BB5\\u7C7B\\u578B\\uFF0C\\u6240\\u6709\\u6DFB\\u52A0\\u5B8C\\u6210\\u540E\\uFF0C\\u6211\\u4EEC\\u518D\\u624B\\u52A8\\u5F55\\u5165\\u4E00\\u6761\\u6570\\u636E\\uFF0C\\u4EE5\\u4FBF\\u4E8E\\u540E\\u7EED\\u6D4B\\u8BD5\\u6570\\u636E\\u3002\"]}),(0,n.jsxs)(e.h3,{id:\"\\u6807\\u7B7E\\u8868\",children:[(0,n.jsx)(e.a,{href:\"#\\u6807\\u7B7E\\u8868\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u6807\\u7B7E\\u8868\"]}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"language-ts code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"interface\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Tag\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  id\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"number\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  tagName\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  image\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"Notion \\u521B\\u5EFA\\u6807\\u7B7E\\u8868\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f8e8ecb50752414797b2ed6dbd4eef6b~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsx)(e.p,{children:\"\\u6211\\u4EEC\\u4F7F\\u7528\\u76F8\\u540C\\u6B65\\u9AA4\\uFF0C\\u5EFA\\u7ACB\\u6807\\u7B7E\\u8868\\uFF0C\\u5E76\\u4E14\\u6DFB\\u52A0\\u6570\\u636E\\u5230\\u8868\\u4E2D\\u3002\"}),(0,n.jsxs)(e.h3,{id:\"\\u5EFA\\u7ACB\\u8868\\u5173\\u8054\",children:[(0,n.jsx)(e.a,{href:\"#\\u5EFA\\u7ACB\\u8868\\u5173\\u8054\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u5EFA\\u7ACB\\u8868\\u5173\\u8054\"]}),(0,n.jsx)(e.p,{children:\"\\u9898\\u76EE\\u8868\\u548C\\u6807\\u7B7E\\u8868\\u662F\\u591A\\u5BF9\\u4E00\\u7684\\u5173\\u7CFB\\uFF0C\\u4E00\\u4E2A\\u6807\\u7B7E\\u4E0B\\u6709\\u591A\\u9053\\u9898\\u76EE\\uFF0C\\u4E00\\u4E2A\\u9898\\u76EE\\u53EA\\u6709\\u4E00\\u4E2A\\u6807\\u7B7E\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"Notion \\u5EFA\\u7ACB\\u8868\\u5173\\u8054\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d0d2a30765bf4de5af3c432497aea8d8~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsxs)(e.p,{children:[\"\\u5728\\u9898\\u76EE\\u8868\\u6DFB\\u52A0\\u5C5E\\u6027\",(0,n.jsx)(e.code,{children:\"tag\"}),\"\\uFF0C\\u9009\\u62E9 \",(0,n.jsx)(e.code,{children:\"Relation\"}),\"\\uFF0C\\u8BA9\\u540E\\u9009\\u62E9\\u201C\\u6807\\u7B7E\\u201D\\u8868\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"Notion \\u5EFA\\u7ACB\\u8868\\u5173\\u8054\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f84533c69ca248448dd6ea11a0e3f502~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsx)(e.p,{children:\"\\u8FD9\\u6837\\u9898\\u76EE\\u8868\\u548C\\u6807\\u7B7E\\u8868\\u5C31\\u5EFA\\u7ACB\\u4E86\\u5173\\u7CFB\"}),(0,n.jsxs)(e.h2,{id:\"\\u521B\\u5EFA-notion-\\u96C6\\u6210\",children:[(0,n.jsx)(e.a,{href:\"#\\u521B\\u5EFA-notion-\\u96C6\\u6210\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u521B\\u5EFA Notion \\u96C6\\u6210\"]}),(0,n.jsxs)(e.p,{children:[\"\\u5728\\u4F7F\\u7528 Notion API \\u4E4B\\u524D\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u521B\\u5EFA\\u4E00\\u4E2A Notion \\u7684\\u5E94\\u7528\\u96C6\\u6210\\uFF0C\\u83B7\\u53D6 API Key\\u3002 \\u6253\\u5F00 \",(0,n.jsx)(e.a,{href:\"https://www.notion.so/my-integrations%EF%BC%8C%E6%89%93%E5%BC%80\",children:\"https://www.notion.so/my-integrations\\uFF0C\\u6253\\u5F00\"}),\" Notion \\u96C6\\u6210\\u9875\\u9762\\uFF0C\\u767B\\u5F55\\u81EA\\u5DF1\\u7684\\u8D26\\u53F7\\uFF0C\\u70B9\\u51FB New integration \\u521B\\u5EFA\\u4E00\\u4E2A\\u65B0\\u7684\\u5E94\\u7528\\uFF1A\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\\u521B\\u5EFA Notion \\u96C6\\u6210\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d8e733e652614f27b5f0d19bb0dd0b8d~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsx)(e.p,{children:\"\\u540D\\u79F0\\u53EF\\u4EE5\\u81EA\\u5DF1\\u8D77\\uFF0C\\u4E0A\\u4F20\\u4E00\\u4E2A LOGO\\uFF0C\\u7136\\u540E\\u5173\\u8054\\u4E00\\u4E2A Notion \\u7684\\u5DE5\\u4F5C\\u7A7A\\u95F4\\uFF1A\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\\u521B\\u5EFA Notion \\u96C6\\u6210\\uFF0C\\u586B\\u5199\\u4FE1\\u606F\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ed8e8abde26849d68b4122a6c7525d3e~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsxs)(e.p,{children:[\"\\u70B9\\u51FB\\u63D0\\u4EA4\\uFF0C\\u8FD9\\u4E2A\\u5E94\\u7528\\u5C31\\u521B\\u5EFA\\u597D\\u4E86\\uFF0C\\u5728\\u8DF3\\u8F6C\\u7684\\u65B0\\u9875\\u9762\\u91CC\\uFF0C\\u628A\",(0,n.jsx)(e.code,{children:\"Internal Integration Token\"}),\"\\u590D\\u5236\\u4E0B\\u6765\\uFF0C\\u4E0D\\u8981\\u6CC4\\u9732\\uFF0C\\u5426\\u5219\\u62FF\\u5230\\u8FD9\\u4E2A key \\u7684\\u4EBA\\u90FD\\u80FD\\u64CD\\u4F5C\\u4F60\\u7684\\u7B14\\u8BB0\\u5566\\u3002\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\\u590D\\u5236 Notion Token\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dd8d50adcc754b04a7d65fe4c950e32b~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsx)(e.p,{children:\"\\u63A5\\u4E0B\\u6765\\u5728 Notion Page \\u9875\\u9762\\uFF0C\\u70B9\\u51FB\\u66F4\\u591A\\uFF0C\\u521B\\u5EFA Connections\\uFF0C\\u8FDE\\u63A5\\u5230\\u6211\\u4EEC\\u521A\\u624D\\u521B\\u5EFA\\u7684\\u5E94\\u7528\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"Notion \\u9875\\u9762\\u5173\\u8054\\u96C6\\u6210\\u5E94\\u7528\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9bfec8debc08477aa2a1434bfbba084b~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsx)(e.p,{children:\"\\u8FD9\\u6837\\u5C31\\u53EF\\u4EE5\\u4F7F\\u7528 API \\u6765\\u64CD\\u4F5C\\u7B14\\u8BB0\\u5566\\u3002\"}),(0,n.jsxs)(e.h2,{id:\"\\u521D\\u59CB\\u5316\\u9879\\u76EE\",children:[(0,n.jsx)(e.a,{href:\"#\\u521D\\u59CB\\u5316\\u9879\\u76EE\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u521D\\u59CB\\u5316\\u9879\\u76EE\"]}),(0,n.jsx)(e.ol,{children:(0,n.jsx)(e.li,{children:\"\\u521B\\u5EFA\\u4E00\\u4E2A next \\u9879\\u76EE\"})}),(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-bash\",children:[(0,n.jsx)(e.span,{className:\"code-line\",children:`npx create-next-app fe-app --typescript\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"cd\"}),` fe-app\n`]})]})}),(0,n.jsx)(e.ol,{start:\"2\",children:(0,n.jsx)(e.li,{children:\"\\u5B89\\u88C5 TailwindCSS\"})}),(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-bash\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"yarn\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"add\"}),` -D tailwindcss postcss autoprefixer @tailwindcss/typography\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`npx tailwindcss init -p\n`})]})}),(0,n.jsx)(e.ol,{start:\"3\",children:(0,n.jsxs)(e.li,{children:[\"\\u7F16\\u8F91 \",(0,n.jsx)(e.code,{children:\"tailwind.config.js\"}),\" \\u914D\\u7F6E\\u6587\\u4EF6\"]})}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-js\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token comment doc-comment\",children:[\"/** \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"@type\"}),\" \",(0,n.jsxs)(e.span,{className:\"token class-name\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'tailwindcss'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"Config\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" */\"]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"module\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"exports\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"content\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'./src/**/*.{js,ts,jsx,tsx}'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"theme\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"extend\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"plugins\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"require\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'@tailwindcss/typography'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(e.ol,{start:\"4\",children:(0,n.jsxs)(e.li,{children:[\"\\u4FEE\\u6539 \",(0,n.jsx)(e.code,{children:\"styles/global.css\"}),\" \\u4E3A tailwindcss \\u7684\\u521D\\u59CB\\u5316\\u6307\\u4EE4\"]})}),(0,n.jsx)(e.pre,{className:\"language-css\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-css\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token atrule\",children:[(0,n.jsx)(e.span,{className:\"token rule\",children:\"@tailwind\"}),\" base\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token atrule\",children:[(0,n.jsx)(e.span,{className:\"token rule\",children:\"@tailwind\"}),\" components\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token atrule\",children:[(0,n.jsx)(e.span,{className:\"token rule\",children:\"@tailwind\"}),\" utilities\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"})]}),`\n`]})]})}),(0,n.jsx)(e.ol,{start:\"5\",children:(0,n.jsxs)(e.li,{children:[\"\\u8BBE\\u7F6E Node \\u73AF\\u5883\\u53D8\\u91CF\\uFF0C\\u65B0\\u5EFA\\u4E00\\u4E2A \",(0,n.jsx)(e.code,{children:\".env.local\"}),\" \\u6587\\u4EF6\"]})}),(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-bash\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token assign-left variable\",children:\"NOTION_ACCESS_TOKEN\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token assign-left variable\",children:\"NOTION_DATABASE_QUESTION_ID\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token assign-left variable\",children:\"NOTION_DATABASE_TAG_ID\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"TOKEN \\u4E3A\\u521A\\u624D\\u590D\\u5236\\u7684 TOKEN\\uFF0C\\u6570\\u636E\\u5E93 ID \\u4E3A NOTION \\u9875\\u9762 URL \\u4E0A\\u7684 ID\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\\u590D\\u5236 Notion \\u6570\\u636E\\u5E93ID\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3a06222fc4c041cca523cf31f2463493~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsxs)(e.h2,{id:\"\\u94FE\\u63A5\\u6570\\u636E\\u5E93\",children:[(0,n.jsx)(e.a,{href:\"#\\u94FE\\u63A5\\u6570\\u636E\\u5E93\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u94FE\\u63A5\\u6570\\u636E\\u5E93\"]}),(0,n.jsx)(e.p,{children:\"\\u6211\\u4EEC\\u9700\\u8981\\u5B89\\u88C5 Notion Javascript \\u5BA2\\u6237\\u7AEF\\uFF0C\\u6765\\u83B7\\u53D6\\u8868\\u6570\\u636E\\u4FE1\\u606F\\u3002\"}),(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsx)(e.code,{className:\"code-highlight language-bash\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"yarn\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"add\"}),` @notionhq/client\n`]})})}),(0,n.jsxs)(e.h2,{id:\"\\u67E5\\u8BE2\\u5217\\u8868\",children:[(0,n.jsx)(e.a,{href:\"#\\u67E5\\u8BE2\\u5217\\u8868\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u67E5\\u8BE2\\u5217\\u8868\"]}),(0,n.jsxs)(e.p,{children:[\"\\u65B0\\u5EFA\\u4E00\\u4E2A \",(0,n.jsx)(e.code,{children:\"lib/NotionServer.ts\"}),\", \\u5C06\\u6570\\u636E\\u5E93\\u8BF7\\u6C42\\u7684\\u65B9\\u6CD5\\u5C01\\u88C5\\u5728\\u8FD9\\u4E2A class \\u4E2D\"]}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"language-ts code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" Client \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'@notionhq/client'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" auth \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" process\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"env\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"NOTION_ACCESS_TOKEN\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" database \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" process\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"env\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"NOTION_DATABASE_QUESTION_ID\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"??\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"''\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Question\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"any\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"NotionService\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  client\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),` Client\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"constructor\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"client \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Client\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" auth \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"query\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"Promise\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),\"Question\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" response \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"client\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"databases\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"query\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      database_id\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" database\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" response\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),`results\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u65B0\\u5EFA\",(0,n.jsx)(e.code,{children:\"pages/api/question.ts\"}),\"\\uFF0C \\u4E0E\\u7EA6\\u5B9A\\u5F0F\\u8DEF\\u7531\\u4E00\\u6837\\uFF0C\\u4EFB\\u4F55\\u5728\",(0,n.jsx)(e.code,{children:\"pages/api\"}),\" \\u76EE\\u5F55\\u4E0B\\u7684\\u6587\\u4EF6\\u90FD\\u53EF\\u4EE5\\u4F5C\\u4E3A\",(0,n.jsx)(e.code,{children:\"/api/*\"}),\"\\u63A5\\u53E3\\u8BBF\\u95EE\\uFF0C\\u4EE5\\u4E0B\\u4EE3\\u7801\\u5C31\\u76F4\\u63A5\\u8C03\\u7528\\u4E86\\u521A\\u624D\\u521B\\u5EFA\\u7684 NotionServer\\uFF1A\"]}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"language-ts code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" NextApiRequest\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" NextApiResponse \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'next'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" NotionServer \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'../../lib/NotionServer'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Data\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"any\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" notionServer \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"NotionServer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"handler\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"req\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" NextApiRequest\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" res\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" NextApiResponse\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),\"Data\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" data \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" notionServer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"query\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  res\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"status\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"200\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"json\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u6B64\\u65F6\\u6211\\u4EEC\\u8BBF\\u95EE \",(0,n.jsx)(e.a,{href:\"http://localhost:3000/api/question\",children:\"http://localhost:3000/api/question\"}),\" \\uFF0C\\u4F1A\\u770B\\u5230\\u5982\\u4E0B\\u6570\\u636E\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"Notion api \\u8FD4\\u56DE\\u6570\\u636E\\u7ED3\\u6784\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ee9708f074a044709ed622314a1572af~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsx)(e.p,{children:\"\\u8FD9\\u663E\\u7136\\u4E0D\\u662F\\u6211\\u4EEC\\u60F3\\u8981\\u7684\\u6570\\u636E\\uFF0C\\u5728 Notion \\u4E2D\\uFF0C\\u8868\\u4E2D\\u7684\\u6BCF\\u4E00\\u4E2A\\u5355\\u5143\\u683C\\u6570\\u636E\\uFF0C\\u90FD\\u6709\\u7C7B\\u578B\\u548C\\u9488\\u5BF9\\u8FD9\\u4E2A\\u7C7B\\u578B\\u7684\\u63CF\\u8FF0\\u5B57\\u6BB5\\u3002 \\u6211\\u4EEC\\u60F3\\u8981\\u7684\\u683C\\u5F0F\\u662F\\u8FD9\\u6837\\u7684\\uFF0C\\u6BD4\\u5982\\uFF1A\"}),(0,n.jsx)(e.pre,{className:\"language-json\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-json\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"title\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"\\u8F93\\u51FA\\u4EC0\\u4E48\\uFF1F\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"desc\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"\\u9898\\u76EE\\u63CF\\u8FF0\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"title \\u5B57\\u6BB5\\u53EB\\u6807\\u9898\\uFF0C\\u800C\\u4E14\\u80AF\\u5B9A\\u662F\\u5355\\u884C\\u6587\\u672C\\u7C7B\\u578B\\uFF0C\\u662F\\u660E\\u786E\\u7684\\uFF0C\\u6240\\u4EE5\\u6211\\u4EEC\\u9700\\u8981\\u7B80\\u5316\\u4E00\\u4E0B\\u5B57\\u6BB5\\uFF0C\\u5728 \",(0,n.jsx)(e.code,{children:\"NotionServer.ts\"}),\" \\u4E2D\\u52A0\\u5165\\u4E00\\u4E2A\",(0,n.jsx)(e.code,{children:\"transformer\"}),\" \\u65B9\\u6CD5\\uFF0C\\u7528\\u4E8E\\u6570\\u636E\\u8F6C\\u6362:\"]}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"language-ts code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"NotionService\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"...\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"query\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"Promise\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),\"Question\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" response \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"client\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"databases\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"query\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      database_id\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" database\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" response\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"results\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"map\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"item\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\u003e\"}),\" NotionService\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"transformer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"item\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"private\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"static\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"transformer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"page\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"any\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" Question \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" data\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"any\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"for\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" key \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"in\"}),\" page\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"properties\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"switch\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"page\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"properties\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"key\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"type\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"case\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"relation\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"key\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" page\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"properties\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"key\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"relation\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"id\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"break\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"case\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"title\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"case\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"rich_text\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"key\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            page\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"properties\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"key\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"page\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"properties\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"key\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"type\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"text\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"content\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"break\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"default\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"key\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" page\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"properties\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"key\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"break\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\u8F6C\\u6362\\u540E\\uFF0C\\u5237\\u65B0\\u9875\\u9762\\uFF0C\\u4FBF\\u5F97\\u5230\\u4E86\\u6211\\u4EEC\\u60F3\\u8981\\u7684\\u6570\\u636E\\u3002\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\\u8F6C\\u6362\\u540E\\u7684 json \\u6570\\u636E\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/eb10395e6f0f4379aa20372cd8c5ebcb~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsxs)(e.h2,{id:\"\\u67E5\\u8BE2\\u8BE6\\u60C5\",children:[(0,n.jsx)(e.a,{href:\"#\\u67E5\\u8BE2\\u8BE6\\u60C5\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u67E5\\u8BE2\\u8BE6\\u60C5\"]}),(0,n.jsxs)(e.p,{children:[\"\\u6839\\u636E \",(0,n.jsx)(e.code,{children:\"page_id\"}),\" \\u67E5\\u8BE2\\u6570\\u636E\\u8BE6\\u60C5\\u53EF\\u4EE5\\u4F7F\\u7528\\u5982\\u4E0B\\u4EE3\\u7801\"]}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"language-ts code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"detail\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"id\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"Promise\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),\"Question\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" response \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"client\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"pages\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"retrieve\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    page_id\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" id\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" NotionService\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"transformer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"response\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\u540C\\u6837\\u67E5\\u8BE2\\u7ED3\\u679C\\u9700\\u8981\\u8F6C\\u6362\\u4E00\\u4E0B\\uFF0C\\u5C06 Notion \\u590D\\u6742\\u7ED3\\u679C\\u8F6C\\u6362\\u4E3A\\u6211\\u4EEC\\u9700\\u8981\\u7684\\u7B80\\u5355\\u6570\\u636E\\u7ED3\\u6784\\u3002\"}),(0,n.jsxs)(e.h2,{id:\"\\u6DFB\\u52A0\\u4FEE\\u6539\\u6570\\u636E\",children:[(0,n.jsx)(e.a,{href:\"#\\u6DFB\\u52A0\\u4FEE\\u6539\\u6570\\u636E\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u6DFB\\u52A0/\\u4FEE\\u6539\\u6570\\u636E\"]}),(0,n.jsx)(e.p,{children:\"\\u6DFB\\u52A0\\u548C\\u4FEE\\u6539\\u6570\\u636E\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u4F7F\\u7528\\u4E0B\\u9762\\u8FD9\\u4E2A 2 \\u4E2A\\u65B9\\u6CD5\"}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"language-ts code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"client\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"pages\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"create\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"paramters\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"client\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"pages\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"update\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"paramters\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\u5176\\u4E2D paramters \\u7684\\u503C\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u901A\\u8FC7 ts \\u7C7B\\u578B\\u770B\\uFF0C\\u5176\\u5B9E\\u8DDF\\u67E5\\u8BE2\\u8FD4\\u56DE\\u7684\\u6570\\u636E\\u4E00\\u81F4\\uFF0C\\u6211\\u53EA\\u9700\\u8981\\u62F7\\u8D1D\\u67E5\\u8BE2\\u7ED3\\u679C\\u7684\\u5176\\u4E2D\\u4E00\\u6761\\u6570\\u636E\\uFF0C\\u5220\\u9664\\u6389\\u5B57\\u6BB5\\u4E2D\\u7684 id\\uFF0C\\u66FF\\u6362\\u6389\\u91CC\\u9762\\u7684\\u5185\\u5BB9\\u4E3A\\u771F\\u5B9E\\u6570\\u636E\\u5373\\u53EF\\u3002\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"notionhq/client TS \\u7C7B\\u578B\\u63D0\\u793A\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e3517c7ef6dd42cdab2bb8c445e0b687~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsx)(e.p,{children:\"\\u4E0B\\u9762\\u662F\\u6DFB\\u52A0\\u9898\\u76EE\\u51FD\\u6570\\u7684\\u4EE3\\u7801\\uFF1A\"}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"language-ts code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"create\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"question\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" Question\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"Promise\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"any\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" response \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"client\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"pages\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"create\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    parent\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      database_id\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" database\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    properties\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      desc\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"rich_text\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        rich_text\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"text\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            text\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"              content\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" question\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"desc\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      options\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"rich_text\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        rich_text\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"text\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            text\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"              content\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" question\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"options\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      explanation\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"rich_text\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        rich_text\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"text\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            text\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"              content\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" question\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"explanation\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      tag\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"relation\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        relation\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            id\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" question\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"tag\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      title\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"title\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        title\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"text\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            text\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"              content\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" question\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"title\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" response\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\u7F16\\u8F91\\u6570\\u636E\\u4E0E\\u6DFB\\u52A0\\u6570\\u636E\\u65B9\\u6CD5\\u76F8\\u4F3C\\uFF0C\\u53EA\\u9700\\u8981\\u62F7\\u8D1D\\u67E5\\u8BE2\\u7ED3\\u679C\\u7684\\u6570\\u636E\\uFF0C\\u5C06\\u9700\\u8981\\u4FEE\\u6539\\u7684\\u90E8\\u5206\\u4FEE\\u6539\\u6389\\u5373\\u53EF\\uFF0C\\u4F7F\\u7528 Notion \\u4F5C\\u4E3A\\u6570\\u636E\\u5E93\\u7684\\u8FD8\\u6709\\u4E00\\u4E2A\\u597D\\u5904\\uFF0C\\u5C31\\u662F\\u53EF\\u4EE5\\u5C06 Notion \\u4F5C\\u4E3A CMS \\u7CFB\\u7EDF\\u6765\\u7528\\uFF0C\\u6709\\u65F6\\u6DFB\\u52A0\\u548C\\u4FEE\\u6539\\u4E0D\\u662F\\u5FC5\\u987B\\u7684\\u529F\\u80FD\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u76F4\\u63A5\\u5728 Notion \\u540E\\u53F0\\u8FDB\\u884C\\u6570\\u636E\\u7BA1\\u7406\\u3002\"}),(0,n.jsxs)(e.h2,{id:\"\\u6570\\u636E\\u5E93\\u8FC1\\u79FB\",children:[(0,n.jsx)(e.a,{href:\"#\\u6570\\u636E\\u5E93\\u8FC1\\u79FB\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u6570\\u636E\\u5E93\\u8FC1\\u79FB\"]}),(0,n.jsx)(e.p,{children:\"\\u56E0\\u6B64\\u6211\\u4EEC\\u53EF\\u4EE5\\u4ECE\\u4E91\\u5F00\\u53D1\\u6570\\u636E\\u5E93\\u4E2D\\u5C06\\u6570\\u636E\\u5BFC\\u51FA\\uFF0C\\u901A\\u8FC7 api \\u5BFC\\u5165\\u5230 Notion \\u6570\\u636E\\u5E93\\u4E2D\\u3002\"}),(0,n.jsxs)(e.p,{children:[\"\\u9996\\u5148\\u5728\\u65B0\\u5EFA\\u4E00\\u4E2A \",(0,n.jsx)(e.code,{children:\"pages/api/create.ts\"}),\" \\u7528\\u4E8E\\u521B\\u5EFA\\u9898\\u76EE\\u7684\\u63A5\\u53E3\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"language-ts code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" NextApiRequest\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" NextApiResponse \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'next'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" NotionServer \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'../../lib/NotionServer'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Data\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"any\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" notionServer \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"NotionServer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"handler\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"req\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" NextApiRequest\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" res\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" NextApiResponse\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),\"Data\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"req\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"method \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"!==\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'POST'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    res\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"status\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"405\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"send\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" message\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'Only POST requests allowed'\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" data \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" notionServer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"create\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"req\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"body\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  res\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"status\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"200\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"json\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\u63A5\\u4E0B\\u6765\\u5C31\\u53EF\\u4EE5\\u5C06\\u5BFC\\u51FA\\u7684 json\\uFF0C\\u901A\\u8FC7\\u6267\\u884C\\u672C\\u5730 node fetch \\u7684\\u65B9\\u5F0F\\u5C06\\u6570\\u636E\\u5168\\u90E8\\u5BFC\\u5165\\u5230 Notion \\u4E2D\"}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"language-ts code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" fs \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"require\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"fs\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" path \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"require\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"path\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" fetch \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"require\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"node-fetch\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" content \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" fs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"readFileSync\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    path\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"resolve\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"__dirname\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"./fe.json\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"utf8\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" tags \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      _id\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"6b428f57-0831-4280-ac1c-8d016c8d038b\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      id\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"17\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      image\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"/static/logo/fun.svg\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      tagName\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"\\u8DA3\\u5473\\u9898\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"...\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" data \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" content\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"split\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"\\\\n\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"for\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" index \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" index \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),\" data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"length\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" index\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"++\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"index\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"trim\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"===\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"continue\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" item \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"JSON\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"parse\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"index\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    item\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"tag \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" tags\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"find\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"tag\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\u003e\"}),\" tag\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"id \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"===\"}),\" item\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"tagId\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"?.\"}),\"_id\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" res \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"fetch\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"http://localhost:3000/api/create\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      method\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"post\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      headers\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token property string-property\",children:'\"Content-Type\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"application/json; charset=utf-8\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      body\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"JSON\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"stringify\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"item\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"then\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"res\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\u003e\"}),\" res\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"json\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"\\u7B2C\"'}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" index \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"\\u9898\"'}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" item\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"title \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" res\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"id\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"end\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\u4E0A\\u9762\\u4EE3\\u7801\\u4E2D tags \\u6211\\u662F\\u9009\\u521B\\u5EFA\\u4E86\\u4E00\\u4E2A tag \\u67E5\\u8BE2\\u63A5\\u53E3\\uFF0C\\u56E0\\u4E3A tags \\u6570\\u636E\\u4E0D\\u591A\\uFF0C\\u6240\\u4EE5\\u6211\\u76F4\\u63A5\\u5C06\\u6570\\u636E\\u590D\\u5236\\u4E86\\u4E0B\\u6765\\uFF0C\\u7528 nodejs \\u6267\\u884C\\u4E00\\u4E0B\\u4EE5\\u4E0A\\u4EE3\\u7801\\uFF0C\\u6211\\u4EEC\\u4FBF\\u53EF\\u4EE5\\u5728\\u63A7\\u5236\\u53F0\\u4E2D\\u770B\\u5230\\u6570\\u636E\\u5BFC\\u5165\\u7684\\u8FDB\\u5EA6\\u3002\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\\u6570\\u636E\\u8FC1\\u79FB\\u5230 Notion \\u5B8C\\u6210\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2db3d907d8244ca9aad789f7726050b5~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsx)(e.p,{children:\"\\u6267\\u884C\\u5B8C\\u6210\\uFF0C\\u603B\\u5171 968 \\u9898\\uFF0C \\u6211\\u4EEC\\u6765 Notion \\u4E2D\\u770B\\u770B\\u5BFC\\u5165\\u7684\\u6548\\u679C\\u3002\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"Notion \\u67E5\\u770B\\u6570\\u636E\\u8868\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/977c51ccbe4c45109228495e3775a6e8~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsxs)(e.p,{children:[\"\\u5F53\\u7136\\u6211\\u4E5F\\u5C06\\u5168\\u90E8\\u9898\\u76EE\\u516C\\u5F00\\u5728 Notion \\u4E0A\\u9762\\u4E86\\uFF0C\\u5927\\u5BB6\\u53EF\\u4EE5\\u901A\\u8FC7\",(0,n.jsx)(e.a,{href:\"https://fixed-temper-f5d.notion.site/da90b4d7537745a4a88b03369017e07a?v=3e765e0593374163a035759fe46fba49\",children:\"\\u8FD9\\u4E2A\\u94FE\\u63A5\"}),\"\\u67E5\\u770B\\u3002\"]}),(0,n.jsxs)(e.h2,{id:\"\\u5220\\u9664\\u6570\\u636E\",children:[(0,n.jsx)(e.a,{href:\"#\\u5220\\u9664\\u6570\\u636E\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u5220\\u9664\\u6570\\u636E\"]}),(0,n.jsxs)(e.p,{children:[\"\\u5728 Notion \\u4E2D\\uFF0C\\u4E0D\\u80FD\\u4F7F\\u7528 api \\u7684\\u65B9\\u5F0F\\u5220\\u9664\\u6570\\u636E\\uFF0C\\u6240\\u4EE5\\u6211\\u4EEC\\u9700\\u8981\\u6362\\u4E00\\u79CD\\u601D\\u7EF4\\u6765\\u89E3\\u51B3\\uFF0C\\u5728\\u8868\\u4E2D\\u521B\\u5EFA\\u4E00\\u4E2A\\u5B57\\u6BB5\",(0,n.jsx)(e.code,{children:\"In stock\"}),\" \\u6765\\u6807\\u8BC6\\uFF0C\\u7528\\u4E8E\\u5047\\u5220\\u9664\\u6570\\u636E\\uFF0C\\u4E5F\\u5C31\\u662F\\u5C06\\u201C\\u5220\\u9664\\u6570\\u636E\\u903B\\u8F91\\u201D\\u4FEE\\u6539\\u4E3A\\u201C\\u4FEE\\u6539\\u6570\\u636E\\u903B\\u8F91\\u201D\\uFF0C\\u5C06\\u8FD9\\u6761\\u6570\\u636E\\u4FEE\\u6539\\u4E3A\\u5F52\\u6863\\u7C7B\\u578B\\uFF0C\\u6240\\u4EE5\\u4E4B\\u524D\\u67E5\\u8BE2\\u5217\\u8868\\u63A5\\u53E3\\u9700\\u8981\\u52A0\\u4E0A \",(0,n.jsx)(e.code,{children:\"In stock\"}),\" \\u503C\\u4E3A \",(0,n.jsx)(e.code,{children:\"false\"}),\"\\uFF0C\\u67E5\\u8BE2\\u672A\\u5F52\\u6863\\u7684\\u6570\\u636E\\u3002\"]}),(0,n.jsx)(e.p,{children:\"\\u4E0B\\u9762\\u662F\\u5047\\u5220\\u9664\\u6570\\u636E\\u7684\\u4EE3\\u7801\\uFF1A\"}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"language-ts code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"remove\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"pageId\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" response \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"client\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"pages\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"update\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      page_id\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" pageId\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      properties\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token property string-property\",children:'\"In stock\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          checkbox\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" response\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.h2,{id:\"nextjs-ssr\",children:[(0,n.jsx)(e.a,{href:\"#nextjs-ssr\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Next.js SSR\"]}),(0,n.jsxs)(e.p,{children:[\"\\u5230\\u6B64\\uFF0C\\u6211\\u4EEC\\u5B8C\\u6210\\u4E86\\u6570\\u636E\\u8868\\u7684\\u5EFA\\u8BBE\\uFF0C\\u4EE5\\u53CA\\u6570\\u636E\\u5E93\\u7684\\u8FC1\\u79FB\\u3002\\u5B8C\\u6210\\u4E86\\u5BF9 \",(0,n.jsx)(e.code,{children:\"NotionService\"}),\" \\u7684\\u5C01\\u88C5\\uFF0C\\u6709\\u4E86 NotionService \\uFF0C\\u6211\\u4EEC\\u4E0D\\u4F46\\u53EF\\u4EE5\\u5B8C\\u6210\\u63A5\\u53E3\\uFF0C\\u800C\\u4E14\\u8FD8\\u53EF\\u4EE5\\u5728 Next.js \\u4E2D\\u76F4\\u63A5\\u83B7\\u53D6\\u6570\\u636E\\uFF0C\\u7528\\u4E8E\\u670D\\u52A1\\u7AEF\\u6E32\\u67D3\\u3002\"]}),(0,n.jsx)(e.p,{children:\"\\u4EE5\\u4E0B\\u662F\\u9996\\u9875\\u4E2D\\u670D\\u52A1\\u7AEF\\u83B7\\u53D6\\u6570\\u636E\\u7684\\u90E8\\u5206\\u5B9E\\u73B0\\u4EE3\\u7801\"}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"language-ts code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" React \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"react\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" GetServerSidePropsContext\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\"InferGetServerSidePropsType \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"next\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" NotionServer \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"@/lib/NotionServer\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"Interview\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  tags\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  q\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" InferGetServerSidePropsType\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"typeof\"}),\" getServerSideProps\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u4F7F\\u7528 props \\u6570\\u636E\\uFF0C\\u4E4B\\u95F4\\u8FDB\\u884C render\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"...\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u5728Nodejs \\u73AF\\u5883\\u4E2D\\u6267\\u884C\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"getServerSideProps\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"context\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" GetServerSidePropsContext\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" q \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" tagid\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" cursor \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" context\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"query\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" notionServer \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"NotionServer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" tags \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" notionServer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"queryTags\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" has_more \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" notionServer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"query\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    title\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" q \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"as\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    tagid\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" tagid \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"as\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u83B7\\u53D6\\u5230\\u7684\\u6570\\u636E\\uFF0C\\u4F20\\u9012\\u7ED9\\u7EC4\\u4EF6props\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    props\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      tags\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      has_more\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      q\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\u8FD9\\u90E8\\u5206\\u4E3B\\u8981\\u8DDF\\u4E4B\\u524D\\u6587\\u7AE0\\u4E2D\\u7684\\u5185\\u5BB9\\u5927\\u81F4\\u76F8\\u540C\\uFF0C\\u6240\\u4EE5\\u6211\\u5C31\\u4E0D\\u8FC7\\u591A\\u4ECB\\u7ECD\\u4E86\\uFF0C\\u6211\\u4EEC\\u76F4\\u63A5\\u6765\\u770B\\u4E0B\\u6548\\u679C\\u3002\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"Notion \\u548C Next.js \\u5F00\\u53D1\\u73B0\\u6548\\u679C\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/31e4c176557449aa9a332212d8609f16~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsxs)(e.p,{children:[\"\\u5927\\u5BB6\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,n.jsx)(e.a,{href:\"https://notion.runjs.cool/\",children:\"https://notion.runjs.cool/\"}),\" \\u8BBF\\u95EE\\u4F53\\u9A8C\\uFF0C\\u4E5F\\u53EF\\u4EE5\\u4E0E\\u4E4B\\u524D\\u7684\\u817E\\u8BAF\\u4E91\\u5F00\\u53D1\\u505A\\u5BF9\\u6BD4 \",(0,n.jsx)(e.a,{href:\"https://runjs.cool/\",children:\"https://runjs.cool/\"})]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"Notion \\u548C\\u817E\\u8BAF\\u4E91\\u63A5\\u53E3\\u5BF9\\u6BD4\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a297549d08dd4d2293f5ccd003aabd92~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsx)(e.p,{children:\"Notion \\u5C0F\\u6570\\u636E\\u91CF\\u63A5\\u53E3\\u5E73\\u5747 800ms\\uFF0C\\u5217\\u8868\\u63A5\\u53E3\\u5305\\u542B\\u4E86\\u7B54\\u6848\\u8BE6\\u60C5\\uFF0C\\u6240\\u4EE5\\u5728 1s \\u4EE5\\u4E0A\\uFF0C\\u817E\\u8BAF\\u4E91\\u6BCF\\u4E2A\\u63A5\\u53E3\\u90FD\\u5728 300ms \\u4EE5\\u4E0B\\u3002\"}),(0,n.jsxs)(e.h2,{id:\"\\u8E29\\u5751\",children:[(0,n.jsx)(e.a,{href:\"#\\u8E29\\u5751\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u8E29\\u5751\"]}),(0,n.jsx)(e.p,{children:\"\\u867D\\u7136\\u5168\\u6587\\u4E0B\\u6765\\uFF0C\\u5927\\u81F4\\u4E0A\\u6CA1\\u4EC0\\u4E48\\u96BE\\u5EA6\\uFF0C\\u4F46\\u662F\\u6211\\u5728\\u5B9E\\u8DF5\\u8FC7\\u7A0B\\u4E2D\\u4E5F\\u9047\\u5230\\u4E86\\u4E00\\u4E9B\\u5751\\u3002\"}),(0,n.jsx)(e.ol,{children:(0,n.jsxs)(e.li,{children:[\"Notion \\u4E2D\\uFF0C\\u6587\\u672C\\u5B57\\u6BB5\\u662F\\u4E00\\u4E2A\\u6570\\u7EC4\\uFF0C\\u4E0A\\u9762\",(0,n.jsx)(e.code,{children:\"transformer\"}),\"\\u4EE3\\u7801\\u4E2D\\u6211\\u4EEC\\u53D6\\u503C\\u90FD\\u662F\\u53D6\\u4E86\",(0,n.jsx)(e.code,{children:\"[0].text.content\"}),\"\\uFF0C\\u4F46 \",(0,n.jsx)(e.code,{children:\"content\"}),\" \\u7684\\u957F\\u5EA6\\u9650\\u5236\\u662F \",(0,n.jsx)(e.code,{children:\"2000\"}),\"\\uFF0C\\u6240\\u4EE5\\u6211\\u4EEC\\u4E4B\\u524D\\u7684\\u4E00\\u4E9B Text \\u5B57\\u6BB5\\uFF0C\\u8D85\\u8FC7 \",(0,n.jsx)(e.code,{children:\"2000\"}),\" \\u9700\\u8981\\u62C6\\u5206\\u6210\\u6570\\u7EC4\\u5B58\\u50A8\\uFF0C\\u8BFB\\u53D6\\u7684\\u65F6\\u5019\\u518D\\u5C06\\u6570\\u7EC4\\u62FC\\u63A5\\u6210\\u4E00\\u4E2A\\u5B57\\u7B26\\u4E32\\u3002\"]})}),(0,n.jsxs)(e.p,{children:[\"\\u81F3\\u4E8E\\u5982\\u4F55\\u62C6\\u5206\\uFF0C\\u5927\\u5BB6\\u53EF\\u4EE5\\u601D\\u8003\\u4E0B\\uFF0C\\u4E5F\\u76F4\\u63A5\\u770B\\u6211\\u7684\",(0,n.jsx)(e.a,{href:\"https://github.com/maqi1520/notion-fe-app\",title:\"Github \\u5730\\u5740\",children:\"\\u4EE3\\u7801\\u4ED3\\u5E93\"})]}),(0,n.jsx)(e.ol,{start:\"2\",children:(0,n.jsxs)(e.li,{children:[\"\\u4F20\\u7EDF\\u6570\\u636E\\u5206\\u9875\\u4F20 \",(0,n.jsx)(e.code,{children:\"page\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"page_size\"}),\" 2 \\u4E2A\\u5B57\\u6BB5\\uFF0C\\u4F46\\u5728 Notion \\u4E2D\\u91C7\\u7528\\u4E86 \",(0,n.jsx)(e.code,{children:\"start_cursor\"}),\" \\u6307\\u9488\\u7684\\u65B9\\u5F0F\\uFF0C\\u524D\\u7AEF\\u9700\\u8981\\u4F7F\\u7528\\u6EDA\\u52A8\\u7FFB\\u9875\\u7684\\u65B9\\u5F0F\\u3002\"]})}),(0,n.jsxs)(e.h2,{id:\"\\u5C0F\\u7ED3\",children:[(0,n.jsx)(e.a,{href:\"#\\u5C0F\\u7ED3\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u5C0F\\u7ED3\"]}),(0,n.jsx)(e.p,{children:\"\\u672C\\u6587\\u6211\\u4EEC\\u5229\\u7528 Next.js \\u548C Notion API \\u7F16\\u5199\\u4E86\\u4E00\\u4E2A\\u524D\\u7AEF\\u5237\\u9898\\u7F51\\u7AD9\\uFF0C\\u6574\\u4E2A\\u6D41\\u7A0B\\u662F\\uFF1A\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"\\u521B\\u5EFA\\u6570\\u636E\\u5E93\\u9875\\u9762\\u3001\\u914D\\u7F6E\\u5C5E\\u6027\\u3001\\u83B7\\u53D6\\u6570\\u636E\\u5E93 id\\u3002\"}),(0,n.jsx)(e.li,{children:\"\\u4ECE Notion \\u5B98\\u7F51\\u521B\\u5EFA\\u5E94\\u7528\\uFF0C\\u83B7\\u53D6 API KEY\\u3002\"}),(0,n.jsx)(e.li,{children:\"\\u4F7F\\u7528 @notionhq/client \\u5BF9 Notion \\u6570\\u636E\\u8FDB\\u884C\\u64CD\\u4F5C\\uFF0C\\u7F16\\u5199\\u63A5\\u53E3\"}),(0,n.jsx)(e.li,{children:\"\\u5728 Page \\u4E2D\\uFF0C\\u4F7F\\u7528 getServerSideProps \\u8FDB\\u884C\\u6570\\u636E\\u83B7\\u53D6\\uFF0C\\u8BA9\\u540E\\u4F7F\\u7528 react \\u8FDB\\u884C\\u6E32\\u67D3\\u9875\\u9762\\u3002\"})]}),(0,n.jsx)(e.p,{children:\"\\u4F7F\\u7528 Notion \\u4F5C\\u4E3A\\u6570\\u636E\\u5E93\\u6709\\u5229\\u6709\\u5F0A\"}),(0,n.jsx)(e.p,{children:\"\\u6700\\u5927\\u7684\\u4F18\\u70B9\\uFF1A \\u514D\\u8D39\\uFF0C\\u6253\\u901A Notion\\uFF0C\\u8BA9\\u7B14\\u8BB0\\u548C\\u7F51\\u7AD9\\u5F97\\u4EE5\\u540C\\u6B65\\uFF1B\"}),(0,n.jsx)(e.p,{children:\"\\u7F3A\\u70B9\\uFF1ANotion API \\u7684\\u7ED3\\u6784\\u6BD4\\u8F83\\u590D\\u6742\\uFF0C\\u63A5\\u53E3\\u56FA\\u5B9A\\uFF0C\\u4E0D\\u80FD\\u5B9E\\u73B0\\u5B9A\\u4E49\\u7684\\u529F\\u80FD\\uFF0C\\u6240\\u4EE5\\u8FD9\\u91CC\\u9002\\u5408\\u505A\\u4E00\\u4E9B\\u5C1D\\u8BD5\\u6027\\u7684\\u9879\\u76EE\\u3002\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u601D\\u8003\\uFF1A\\u82E5\\u662F\\u6211\\u4EEC\\u7684\\u7F51\\u7AD9\\u4E5F\\u9700\\u8981\\u5B9E\\u73B0 CMS \\u81EA\\u5B9A\\u4E49\\u8BBE\\u8BA1\\u8868\\u5355\\u7684\\u529F\\u80FD\\uFF0C\\u6211\\u76F8\\u4FE1 Notion \\u7684\\u6570\\u636E\\u7ED3\\u6784\\u503C\\u5F97\\u6211\\u4EEC\\u53C2\\u8003\\u3002\"})}),(0,n.jsx)(e.p,{children:\"\\u597D\\u4E86\\uFF0C\\u4EE5\\u4E0A\\u5C31\\u662F\\u5229\\u7528 Notion API \\u548C Next.js \\u8FDB\\u884C\\u5E94\\u7528\\u5168\\u6808\\u5F00\\u53D1\\u7684\\u8FC7\\u7A0B\\uFF0C\\u4F60\\u5B66\\u4F1A\\u4E86\\u5417\\uFF1F\\u82E5\\u5BF9\\u4F60\\u6709\\u5E2E\\u52A9\\uFF0C\\u8BB0\\u5F97\\u5E2E\\u6211\\u70B9\\u8D5E\\u3002\"}),(0,n.jsxs)(e.h2,{id:\"\\u540E\\u7EED\",children:[(0,n.jsx)(e.a,{href:\"#\\u540E\\u7EED\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u540E\\u7EED\"]}),(0,n.jsx)(e.p,{children:\"\\u63A5\\u4E0B\\u6765\\u6211\\u5C06\\u7EE7\\u7EED\\u5206\\u4EAB Next.js \\u76F8\\u5173\\u7684\\u5B9E\\u6218\\u6587\\u7AE0\\uFF0C\\u6B22\\u8FCE\\u5404\\u4F4D\\u5173\\u6CE8\\u6211\\u7684\\u300ANext.js \\u5168\\u6808\\u5F00\\u53D1\\u5B9E\\u6218\\u300B \\u4E13\\u680F\\u3002\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"\\u4F7F\\u7528 Prisma \\u548C PostgreSQL \\u8FDB\\u884C Next.js \\u5E94\\u7528\\u5168\\u6808\\u5F00\\u53D1\"}),(0,n.jsx)(e.li,{children:\"\\u4F7F\\u7528 NextAuth \\u5B9E\\u73B0 Next.js \\u5E94\\u7528\\u7684\\u9274\\u6743\\u4E0E\\u8BA4\\u8BC1\"}),(0,n.jsx)(e.li,{children:\"\\u4F7F\\u7528 React query \\u7ED9 Next.js \\u5E94\\u7528\\u5168\\u5C40\\u72B6\\u6001\\u7BA1\\u7406\"}),(0,n.jsx)(e.li,{children:\"\\u4F7F\\u7528 i18next \\u5B9E\\u73B0 Next.js \\u5E94\\u7528\\u56FD\\u9645\\u5316\"}),(0,n.jsx)(e.li,{children:\"\\u4F7F\\u7528 Playwright \\u8FDB\\u884C Next.js \\u5E94\\u7528\\u7684\\u7AEF\\u5230\\u7AEF\\u6D4B\\u8BD5\"}),(0,n.jsx)(e.li,{children:\"\\u4F7F\\u7528 Github actions \\u7ED9 Next.js \\u5E94\\u7528\\u521B\\u5EFA CI/CD\"}),(0,n.jsx)(e.li,{children:\"\\u4F7F\\u7528 Docker \\u90E8\\u7F72 Next.js \\u5E94\\u7528\"}),(0,n.jsx)(e.li,{children:\"\\u5C06 Next.js \\u5E94\\u7528\\u90E8\\u7F72\\u5230\\u817E\\u8BAF\\u4E91 serverless\"})]}),(0,n.jsx)(e.p,{children:\"\\u4F60\\u5BF9\\u54EA\\u5757\\u5185\\u5BB9\\u6BD4\\u8F83\\u611F\\u5174\\u8DA3\\u5462\\uFF1F\\u6B22\\u8FCE\\u5728\\u8BC4\\u8BBA\\u533A\\u7559\\u8A00\\uFF0C\\u611F\\u8C22\\u60A8\\u7684\\u9605\\u8BFB\\u3002\"})]})}}var x=w;return y(j);})();\n;return Component;","toc":[{"value":"前言","url":"#前言","depth":2},{"value":"Notion 是什么?","url":"#notion-是什么","depth":2},{"value":"需求分析","url":"#需求分析","depth":2},{"value":"创建 Notion 数据库","url":"#创建-notion-数据库","depth":2},{"value":"题目表","url":"#题目表","depth":3},{"value":"标签表","url":"#标签表","depth":3},{"value":"建立表关联","url":"#建立表关联","depth":3},{"value":"创建 Notion 集成","url":"#创建-notion-集成","depth":2},{"value":"初始化项目","url":"#初始化项目","depth":2},{"value":"链接数据库","url":"#链接数据库","depth":2},{"value":"查询列表","url":"#查询列表","depth":2},{"value":"查询详情","url":"#查询详情","depth":2},{"value":"添加/修改数据","url":"#添加修改数据","depth":2},{"value":"数据库迁移","url":"#数据库迁移","depth":2},{"value":"删除数据","url":"#删除数据","depth":2},{"value":"Next.js SSR","url":"#nextjs-ssr","depth":2},{"value":"踩坑","url":"#踩坑","depth":2},{"value":"小结","url":"#小结","depth":2},{"value":"后续","url":"#后续","depth":2}],"frontMatter":{"readingTime":{"text":"12 min read","minutes":11.135,"time":668100,"words":2227},"slug":"使用 Notion 数据库进行 Next.js 应用全栈开发","fileName":"使用 Notion 数据库进行 Next.js 应用全栈开发.md","title":"使用 Notion 数据库进行 Next.js 应用全栈开发","date":"2022-09-27T15:49:28.000Z","lastmod":"2023/1/25 11:42:59","tags":["React.js","数据库"],"draft":false,"summary":"今天我就得带大家来白嫖一下 Notion 数据库，让我们的个人应用轻松上线，本文记录了利用 Next.js 和 Notion API 编写了一个前端刷题网站的全过程。","images":"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0e025d77556e4073989114847ff39959~tplv-k3u1fbpfcp-watermark.image?","authors":["default"],"layout":"PostLayout"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.19,"time":11400,"words":38},"slug":["default"],"fileName":"default.md","name":"随风","avatar":"/static/images/avatar.jpeg","occupation":"前端工程师","company":"分享 JavaScript 热门框架，记录前端工程师学习成长历程。","email":"tianping888@163.com","juejin":"https://juejin.cn","zhihu":"https://www.zhihu.com","github":"https://github.com/balac2015","date":null}],"prev":{"title":"使用 Strapi 和 Next.js 开发一个简易微博","date":"2022-09-20T01:35:34.000Z","lastmod":"2023/1/25 11:43:01","tags":["React.js"],"draft":false,"summary":"本文主要介绍了使用 strapi 和 Next.js 实现了一个简易的微博，我们不必写后端，只需要后台配置便可以创建 api 接口，通过本文，我相信你对 strapi 有了一定了解。","images":"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9d9fcadc6a134a2296ced2f4c2b5ee3d~tplv-k3u1fbpfcp-watermark.image?","authors":["default"],"layout":"PostLayout","slug":"使用 Strapi 和 Next.js 开发一个简易微博"},"next":{"title":"使用 Next.js、 Prisma 和 PostgreSQL 全栈开发视频网站","date":"2022-10-11T15:57:14.000Z","lastmod":"2023/1/25 11:42:57","tags":["前端","React.js"],"draft":false,"summary":"本文将以实现一个视频网站为例，介绍 Next.js 和 Prisma 开发的全过程，prisma 对于 Next.js 来说，可谓是如虎添翼，有了它们，我们前端工程师轻松步入了全栈开发。","images":"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f670f626e68949df8f2a0479c8ac3833~tplv-k3u1fbpfcp-watermark.image?","authors":["default"],"layout":"PostLayout","slug":"使用 Next.js、 Prisma 和 PostgreSQL 全栈开发视频网站"}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["使用 Notion 数据库进行 Next.js 应用全栈开发"]},"buildId":"tzs-XIByjtI7cz8CnRw3S","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>