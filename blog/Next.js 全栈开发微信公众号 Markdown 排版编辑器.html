<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><title>Next.js 全栈开发微信公众号 Markdown 排版编辑器</title><meta name="robots" content="follow, index"/><meta name="description" content="阅读本文，你将收获： 学会使用 Monaco Editor 开发多文件编辑器；学会使用 mdx 在线编译 ；实现剪切板的劫持；学会使用云函数和云数据写接口；"/><meta property="og:url" content="https://github.com/balac2015/blog/Next.js%20%E5%85%A8%E6%A0%88%E5%BC%80%E5%8F%91%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%20Markdown%20%E6%8E%92%E7%89%88%E7%BC%96%E8%BE%91%E5%99%A8"/><meta property="og:type" content="article"/><meta property="og:site_name" content="Coding 工坊 | 随风"/><meta property="og:description" content="阅读本文，你将收获： 学会使用 Monaco Editor 开发多文件编辑器；学会使用 mdx 在线编译 ；实现剪切板的劫持；学会使用云函数和云数据写接口；"/><meta property="og:title" content="Next.js 全栈开发微信公众号 Markdown 排版编辑器"/><meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/722aa1c1cef346aba9cc4db65319fb69~tplv-k3u1fbpfcp-watermark.image?"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site"/><meta name="twitter:title" content="Next.js 全栈开发微信公众号 Markdown 排版编辑器"/><meta name="twitter:description" content="阅读本文，你将收获： 学会使用 Monaco Editor 开发多文件编辑器；学会使用 mdx 在线编译 ；实现剪切板的劫持；学会使用云函数和云数据写接口；"/><meta name="twitter:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/722aa1c1cef346aba9cc4db65319fb69~tplv-k3u1fbpfcp-watermark.image?"/><meta property="article:published_time" content="2022-11-29T16:42:25.000Z"/><meta property="article:modified_time" content="2023-01-25T03:42:14.000Z"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://github.com/balac2015/blog/Next.js 全栈开发微信公众号 Markdown 排版编辑器"
  },
  "headline": "Next.js 全栈开发微信公众号 Markdown 排版编辑器",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/722aa1c1cef346aba9cc4db65319fb69~tplv-k3u1fbpfcp-watermark.image?"
    }
  ],
  "datePublished": "2022-11-29T16:42:25.000Z",
  "dateModified": "2023-01-25T03:42:14.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "随风"
    }
  ],
  "publisher": {
    "@type": "Organization",
    "name": "随风",
    "logo": {
      "@type": "ImageObject",
      "url": "https://github.com/balac2015/static/images/logo.png"
    }
  },
  "description": "阅读本文，你将收获： 学会使用 Monaco Editor 开发多文件编辑器；学会使用 mdx 在线编译 ；实现剪切板的劫持；学会使用云函数和云数据写接口；"
}</script><meta name="next-head-count" content="20"/><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" content="#000000"/><meta name="referrer" content="no-referrer"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="preload" href="/_next/static/css/abb8fa3e48c59e29.css" as="style"/><link rel="stylesheet" href="/_next/static/css/abb8fa3e48c59e29.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-1690aa2475cf3a90.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-b4cdd9636ac3694c.js" defer=""></script><script src="/_next/static/chunks/pages/_app-b326530c3f1b0167.js" defer=""></script><script src="/_next/static/chunks/410-dc08c716b48ef576.js" defer=""></script><script src="/_next/static/chunks/606-dfa1dde35c330eb8.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-a12f8dbad1f7fc24.js" defer=""></script><script src="/_next/static/xRVIygn0gkexXE3qpo3Pp/_buildManifest.js" defer=""></script><script src="/_next/static/xRVIygn0gkexXE3qpo3Pp/_ssgManifest.js" defer=""></script><script src="/_next/static/xRVIygn0gkexXE3qpo3Pp/_middlewareManifest.js" defer=""></script></head><body class="bg-white text-black antialiased dark:bg-gray-900 dark:text-white"><div id="__next" data-reactroot=""><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between"><header class="flex items-center justify-between py-10"><h1><a aria-label="随风小站" href="/"><div class="flex items-center justify-between"><span><svg width="52" height="26" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><image xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAaCAYAAADFTB7LAAAAAXNSR0IArs4c6QAAAHplWElmTU0AKgAAAAgAAwESAAMAAAABAAEAAAExAAIAAAAeAAAAModpAAQAAAABAAAAUAAAAABBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKQAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAAGgAAAACQIupnAAAEEWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ2RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQ1RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQzRkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ0RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo0psFQAAACSElEQVRYCc2WMUhVURjH79VQEISKDAfFAqVBbHDOLcFNB0scinJrkrbarMFBEAxSQXCJWuQNurgIEoJTOBRSrdFghqZgaIWv5+8v56qvd73vnKM37gc/znnnfN//+99z73v3BYFFFAqFengB67ALc9BsUZpuCiYuwjD8hH9jk4Vb6TpIUKf5Q9g44SrPfBam4a9Z32O8myCTzhZNnxsDGvbhDbRG3Zg/gD+gkPHBaC/1kWY9EJ3QW+YtcU1Z74IdiGKESRiXe25rNLgOW6ajvghVSeLst8OaydfwCi4k1XjvIVwF70CxAjU2YuRdg48QRY5JpU2tUw6io6bDV8YGl2LyL8Oyqdcw4lJfNhdBPU967rahrWxBTAJ1NaBnViGtzpg09yWE6kDPkb6tt90VjiuM1hdGhcba413PGSIvpUY88pQoKkOnA3SxiomiTZ8PiOj0Fn1qT6tBbwgUutUdp+VZrSOgq31mlWyZhF4lLIHiM1RblpakVbDyA/ZKds6wEIZhnvJ7sAU34Cn4hbnCJ37VyVVo94LiF8S+kZIVgkAnqKtMJTjJHMJToFs87tNEBjd9Ch1qHpP7CTo5xTsOdYepMrjhWuSSzynukt8Pv2EMk00u9f/jBANMvsfUfbgCeiVavxAigwWXq/LJxeQMdfpNXIcFTM5DH1xN0gtJGCChGoHJpMTz2qOf/jPKaDfchEvwHVbhAz5eMx6F/rtps/FoJeUJBnS3lgxlu+kW68gzGzK4lll3GJPBb5DPqskKnol9YzKTHg8A2r/9Qs/XFFsAAAAASUVORK5CYII=" height="26" width="40"></image><image href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAaCAYAAADFTB7LAAAAAXNSR0IArs4c6QAAAHplWElmTU0AKgAAAAgAAwESAAMAAAABAAEAAAExAAIAAAAeAAAAModpAAQAAAABAAAAUAAAAABBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKQAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAAGgAAAACQIupnAAAEEWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ2RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQ1RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQzRkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ0RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo0psFQAAACSElEQVRYCc2WMUhVURjH79VQEISKDAfFAqVBbHDOLcFNB0scinJrkrbarMFBEAxSQXCJWuQNurgIEoJTOBRSrdFghqZgaIWv5+8v56qvd73vnKM37gc/znnnfN//+99z73v3BYFFFAqFengB67ALc9BsUZpuCiYuwjD8hH9jk4Vb6TpIUKf5Q9g44SrPfBam4a9Z32O8myCTzhZNnxsDGvbhDbRG3Zg/gD+gkPHBaC/1kWY9EJ3QW+YtcU1Z74IdiGKESRiXe25rNLgOW6ajvghVSeLst8OaydfwCi4k1XjvIVwF70CxAjU2YuRdg48QRY5JpU2tUw6io6bDV8YGl2LyL8Oyqdcw4lJfNhdBPU967rahrWxBTAJ1NaBnViGtzpg09yWE6kDPkb6tt90VjiuM1hdGhcba413PGSIvpUY88pQoKkOnA3SxiomiTZ8PiOj0Fn1qT6tBbwgUutUdp+VZrSOgq31mlWyZhF4lLIHiM1RblpakVbDyA/ZKds6wEIZhnvJ7sAU34Cn4hbnCJ37VyVVo94LiF8S+kZIVgkAnqKtMJTjJHMJToFs87tNEBjd9Ch1qHpP7CTo5xTsOdYepMrjhWuSSzynukt8Pv2EMk00u9f/jBANMvsfUfbgCeiVavxAigwWXq/LJxeQMdfpNXIcFTM5DH1xN0gtJGCChGoHJpMTz2qOf/jPKaDfchEvwHVbhAz5eMx6F/rtps/FoJeUJBnS3lgxlu+kW68gzGzK4lll3GJPBb5DPqskKnol9YzKTHg8A2r/9Qs/XFFsAAAAASUVORK5CYII=" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAaCAYAAADFTB7LAAAAAXNSR0IArs4c6QAAAHplWElmTU0AKgAAAAgAAwESAAMAAAABAAEAAAExAAIAAAAeAAAAModpAAQAAAABAAAAUAAAAABBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKQAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAAGgAAAACQIupnAAAEEWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ2RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQ1RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQzRkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ0RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo0psFQAAACSElEQVRYCc2WMUhVURjH79VQEISKDAfFAqVBbHDOLcFNB0scinJrkrbarMFBEAxSQXCJWuQNurgIEoJTOBRSrdFghqZgaIWv5+8v56qvd73vnKM37gc/znnnfN//+99z73v3BYFFFAqFengB67ALc9BsUZpuCiYuwjD8hH9jk4Vb6TpIUKf5Q9g44SrPfBam4a9Z32O8myCTzhZNnxsDGvbhDbRG3Zg/gD+gkPHBaC/1kWY9EJ3QW+YtcU1Z74IdiGKESRiXe25rNLgOW6ajvghVSeLst8OaydfwCi4k1XjvIVwF70CxAjU2YuRdg48QRY5JpU2tUw6io6bDV8YGl2LyL8Oyqdcw4lJfNhdBPU967rahrWxBTAJ1NaBnViGtzpg09yWE6kDPkb6tt90VjiuM1hdGhcba413PGSIvpUY88pQoKkOnA3SxiomiTZ8PiOj0Fn1qT6tBbwgUutUdp+VZrSOgq31mlWyZhF4lLIHiM1RblpakVbDyA/ZKds6wEIZhnvJ7sAU34Cn4hbnCJ37VyVVo94LiF8S+kZIVgkAnqKtMJTjJHMJToFs87tNEBjd9Ch1qHpP7CTo5xTsOdYepMrjhWuSSzynukt8Pv2EMk00u9f/jBANMvsfUfbgCeiVavxAigwWXq/LJxeQMdfpNXIcFTM5DH1xN0gtJGCChGoHJpMTz2qOf/jPKaDfchEvwHVbhAz5eMx6F/rtps/FoJeUJBnS3lgxlu+kW68gzGzK4lll3GJPBb5DPqskKnol9YzKTHg8A2r/9Qs/XFFsAAAAASUVORK5CYII=" height="26" width="40" x="15"></image></svg></span><div class="hidden text-2xl font-semibold sm:block">随风小站</div></div></a></h1><div class="flex items-center text-base leading-5"><div class="hidden sm:block"><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/blog">文章</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/tags">标签</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/projects">项目</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/boilerplate">模板</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/about">关于</a></div><div class="ml-1 mr-1 flex items-center sm:ml-4"><a class="block p-1" title="RSS" href="/feed.xml"><svg fill="currentColor" class="h-5 w-5" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M3.75 3a.75.75 0 00-.75.75v.5c0 .414.336.75.75.75H4c6.075 0 11 4.925 11 11v.25c0 .414.336.75.75.75h.5a.75.75 0 00.75-.75V16C17 8.82 11.18 3 4 3h-.25z"></path><path d="M3 8.75A.75.75 0 013.75 8H4a8 8 0 018 8v.25a.75.75 0 01-.75.75h-.5a.75.75 0 01-.75-.75V16a6 6 0 00-6-6h-.25A.75.75 0 013 9.25v-.5zM7 15a2 2 0 11-4 0 2 2 0 014 0z"></path></svg></a><button aria-label="Toggle Dark Mode" type="button" class="h-7 w-7 rounded p-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button></div><div class="sm:hidden"><button type="button" class="ml-1 mr-1 h-8 w-8 rounded py-1" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed top-0 left-0 z-50 h-full w-full transform bg-gray-200 opacity-95 duration-300 ease-in-out dark:bg-gray-800 translate-x-full"><div class="flex justify-end"><button type="button" class="mr-5 mt-11 h-8 w-8 rounded" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><nav class="mt-8 h-full"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/blog">文章</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">标签</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/projects">项目</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/boilerplate">模板</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/about">关于</a></div></nav></div></div></div></header><main class="mb-auto"><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div style="transform:translateX(-100%)" class="fixed top-0 left-0 h-1 w-full bg-primary-500 backdrop-blur-3xl transition-transform duration-150"></div><div class="fixed right-8 bottom-8 hidden flex-col gap-3 md:hidden"><button aria-label="Scroll To Comment" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path></svg></button><button aria-label="Scroll To Top" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div class="xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700"><header class="pt-6 xl:pb-6"><div class="space-y-1 text-center"><dl class="space-y-10"><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2022-11-29T16:42:25.000Z">2022年11月30日星期三</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">Next.js 全栈开发微信公众号 Markdown 排版编辑器</h1></div></div></header><div class="divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6 xl:divide-y-0" style="grid-template-rows:auto 1fr"><div class=""><dl class="pt-6 pb-10 xl:border-b xl:border-gray-200 xl:pt-11 xl:dark:border-gray-700"><dt class="sr-only">Authors</dt><dd><ul class="flex justify-center space-x-8 sm:space-x-12 xl:block xl:space-x-0 xl:space-y-8"><li class="flex items-center space-x-2"><img alt="avatar" src="/static/images/avatar.jpeg" width="38px" height="38px" class="h-10 w-10 rounded-full"/><dl class="whitespace-nowrap text-sm font-medium leading-5"><dt class="sr-only">作者</dt><dd class="text-gray-900 dark:text-gray-100">随风</dd></dl></li></ul></dd></dl><h2 class="pt-6 text-xs font-bold uppercase tracking-wide text-gray-500 dark:text-gray-400">目录</h2><ul class="py-4 text-sm font-medium leading-relaxed xl:border-b xl:border-gray-200 xl:dark:border-gray-700"><li class="false"><a class="text-primary-500" href="#阅读本文你将收获">阅读本文，你将收获：</a></li><li class="false"><a class="text-primary-500" href="#前言">前言</a></li><li class="false"><a class="text-primary-500" href="#技术栈">技术栈</a></li><li class="false"><a class="text-primary-500" href="#编辑器实现">编辑器实现</a></li><li class="ml-6"><a class="text-primary-500" href="#monaco-editor-实现-markdown-编辑器">monaco-editor 实现 markdown 编辑器</a></li><li class="ml-6"><a class="text-primary-500" href="#monaco-editor-实现多文件编辑">monaco-editor 实现多文件编辑</a></li><li class="ml-6"><a class="text-primary-500" href="#编译-mdx">编译 mdx</a></li><li class="ml-6"><a class="text-primary-500" href="#浏览器编译-react">浏览器编译 react</a></li><li class="ml-6"><a class="text-primary-500" href="#iframe-预览">iframe 预览</a></li><li class="ml-6"><a class="text-primary-500" href="#代码语法高亮">代码语法高亮</a></li><li class="false"><a class="text-primary-500" href="#复制到微信公众号后台">复制到微信公众号后台</a></li><li class="false"><a class="text-primary-500" href="#云函数开发接口">云函数开发接口</a></li><li class="ml-6"><a class="text-primary-500" href="#创建一个云函数">创建一个云函数</a></li><li class="false"><a class="text-primary-500" href="#nextjs-请求路径重写">Next.js 请求路径重写</a></li><li class="false"><a class="text-primary-500" href="#部署">部署</a></li><li class="false"><a class="text-primary-500" href="#小结">小结</a></li></ul></div><div class="xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="mt-6"><img alt="Next.js 全栈开发微信公众号 Markdown 排版编辑器" class="w-full rounded object-cover shadow-lg" src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/722aa1c1cef346aba9cc4db65319fb69~tplv-k3u1fbpfcp-watermark.image?"/></div><div class="prose max-w-none break-words pt-10 pb-8 dark:prose-dark"><blockquote><p>文章为稀土掘金技术社区首发签约文章，14 天内禁止转载，14 天后未获授权禁止转载，侵权必究！</p></blockquote><h2 id="阅读本文你将收获"><a href="#阅读本文你将收获" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>阅读本文，你将收获：</h2><ol><li>学会使用 Monaco Editor 开发多文件编辑器</li><li>学会使用 mdx 在线编译</li><li>了解了 JavaScript clipboard api，实现剪切板的劫持；</li><li>学会使用云函数和云数据写接口</li><li>学会使用 Next.js 的路由重写功能</li></ol><h2 id="前言"><a href="#前言" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>前言</h2><p>其实应该叫微信公众号 MDX 排版编辑器，因为知道 markdown 的人很多，而知道 MDX 的人却很少，之前也写过一篇文章<a target="_blank" rel="noopener noreferrer" href="https://juejin.cn/post/7081948276169113631">《[MDX Editor] 微信排版工具新选择》</a>，介绍了我开发这款编辑器的初衷，以及它的功能，阅读量那是相当的低，今天，我们将从技术实现的角度，来记录它的实现过程，没体验过的朋友可以先体验下。</p><ul><li><a target="_blank" rel="noopener noreferrer" href="https://editor.runjs.cool/">在线地址</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/maqi1520/mdx-editor">Github 地址</a></li></ul><p>那标题为什么要叫 “Markdown 排版编辑器呢”？ 因为 MDX 是 markdown 和 JSX 的结合，它让我们的文档即可以写 markdown 也可以写 React 组件，于是我想用 MDX 的强大功能来扩展微信公众号编辑器的不足。其实编辑器部分可以是纯 React 实现，而我选择使用 Next.js + 云开发，让它从单纯的编辑器晋升为我的写作工具，拥有了云端保存数据能力，本文收录在<a target="_blank" rel="noopener noreferrer" href="https://juejin.cn/column/7140121965360054308">《 Next.js 全栈开发实战》</a> 专栏中。</p><h2 id="技术栈"><a href="#技术栈" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>技术栈</h2><ul><li>Next.js</li><li>Tailwindcss</li><li>云函数+云数据库</li></ul><p>这套技术栈的优势是什么？</p><ul><li>纯 JavaScript 开发的全栈应用</li><li>“免费部署”，我们只需要一个域名。</li></ul><p>相信通过阅读本文，你也可以开发出一个全栈应用。</p><h2 id="编辑器实现"><a href="#编辑器实现" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>编辑器实现</h2><p><a target="_blank" rel="noopener noreferrer" href="https://microsoft.github.io/monaco-editor/" title="monaco-editor">Monaco Editor</a> 是 VS Code 中使用的开源代码编辑器， 拥有代码高亮和代码自动补全的功能，Monaco Editor 支持的语言有很多，包含 html、css、JavaScript 和 markdown 等，所以用它作为我们的编辑器就再合适不过了，Monaco Editor 有 2 种加载方式，分别是 amd 和 esm，也就是 Requirejs 和 ES Modules。</p><h3 id="monaco-editor-实现-markdown-编辑器"><a href="#monaco-editor-实现-markdown-编辑器" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>monaco-editor 实现 markdown 编辑器</h3><p>如果选择使用 Requirejs 来加载，我们使用几行代码就可以实现一个编辑器。</p><p>首先使用在 html 中引入 monaco-editor 的 cdn 地址，并且配置 require config。</p><div class="relative"><pre><code class="code-highlight language-html"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/min/vs/loader.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  require<span class="token punctuation">.</span><span class="token function property-access method">config</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token property literal-property">paths</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property literal-property">vs</span><span class="token operator">:</span> <span class="token string">&#x27;https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/min/vs&#x27;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</span></code></pre></div><p>在 React 的 <code>useEffect</code> hoooks 中使用 <code>monaco.editor.create</code> 创建一个 editor，使用 <code>onDidChangeModelContent</code> 方法监听 editor 中内容改变， 并且设置 state 值，这样就得到了一个实时编辑器效果。代码如下：</p><div class="relative"><pre><code class="code-highlight language-jsx"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">React</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect<span class="token punctuation">,</span> useRef <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;react&#x27;</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">ReactDom</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;react-dom&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function function-variable"><span class="token maybe-class-name">App</span></span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>value<span class="token punctuation">,</span> setValue<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&#x27;# 标题1 \r\r## 标题二\r\r正文&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">const</span> ref <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">var</span> editor <span class="token operator">=</span> monaco<span class="token punctuation">.</span><span class="token property-access">editor</span><span class="token punctuation">.</span><span class="token function property-access method">create</span><span class="token punctuation">(</span>ref<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">      value<span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property literal-property">language</span><span class="token operator">:</span> <span class="token string">&#x27;markdown&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property literal-property">minimap</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property literal-property">enabled</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property literal-property">theme</span><span class="token operator">:</span> <span class="token string">&#x27;vs-dark&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">    editor<span class="token punctuation">.</span><span class="token function property-access method">onDidChangeModelContent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token function">setValue</span><span class="token punctuation">(</span>editor<span class="token punctuation">.</span><span class="token function property-access method">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flex<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span>ref<span class="token punctuation">}</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flex-1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token property literal-property">height</span><span class="token operator">:</span> <span class="token number">800</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flex-1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token property literal-property">height</span><span class="token operator">:</span> <span class="token number">800</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token punctuation">{</span>value<span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line"><span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#x27;vs/editor/editor.main&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token maybe-class-name">ReactDom</span><span class="token punctuation">.</span><span class="token function property-access method">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token function property-access method">getElementById</span><span class="token punctuation">(</span><span class="token string">&#x27;app&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></code></pre></div><p><a target="_blank" rel="noopener noreferrer" href="https://code.juejin.cn/pen/7170613642608508941">代码片段</a></p><p>实现效果如下：</p><p><img alt="" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/42a26b233b944809bd970ca3cb3edca1~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>可能有同学对 <code>onDidChangeModelContent</code> 方法比较疑惑，中间有个单词<code>Model</code>，为什么不是<code>onDidChangeContent</code>呢？因为 Monaco Editor 在创建的时候，自动帮我创建了一个 Model， Editor 相当于一个容器，容器可以设置 Model、切换 Model，比如 vscode 中，每打开一个文件就是一个 Model，文件切换就是切换 model，每个文件都有状态，比如光标位置，历史记录等，这些状态都存在 model 中，这样就不会因为文件切换导致状态混淆，接下来我们就实现下多文件的切换。</p><h3 id="monaco-editor-实现多文件编辑"><a href="#monaco-editor-实现多文件编辑" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>monaco-editor 实现多文件编辑</h3><p>在 mdx editor 中，除了 markdown 编辑器，还需要有 css 和 js，因此，我们将初始的 value 改成一个对象</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">[</span>value<span class="token punctuation">,</span> setValue<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property literal-property">md</span><span class="token operator">:</span> <span class="token string">&#x27;# 标题1 \r\r## 标题二\r\r正文&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property literal-property">css</span><span class="token operator">:</span> <span class="token string">&#x27;.markdown-body{ color:#333}&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property literal-property">js</span><span class="token operator">:</span> <span class="token string">&#x27;console.log(&quot;test&quot;)&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></code></pre></div><p>接着，再创建一个 type 用于区分当前文件类型</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword">const</span> ref <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">[</span>type<span class="token punctuation">,</span> setType<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&#x27;md&#x27;</span><span class="token punctuation">)</span> <span class="token comment">// 当前类型</span>
</span></code></pre></div><p>然后在 <code>useEffect</code> 中创建 editor 和所有文件的 model，并且保存到 <code>ref</code> 中</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword">const</span> refEditor <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// editor 实例</span>
</span><span class="code-line"><span class="token keyword">const</span> refModels <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 所以文件的 model</span>
</span><span class="code-line"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">var</span> editor <span class="token operator">=</span> monaco<span class="token punctuation">.</span><span class="token property-access">editor</span><span class="token punctuation">.</span><span class="token function property-access method">create</span><span class="token punctuation">(</span>ref<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property literal-property">minimap</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property literal-property">enabled</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property literal-property">theme</span><span class="token operator">:</span> <span class="token string">&#x27;vs-dark&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">const</span> markdownModel <span class="token operator">=</span> monaco<span class="token punctuation">.</span><span class="token property-access">editor</span><span class="token punctuation">.</span><span class="token function property-access method">createModel</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token property-access">md</span><span class="token punctuation">,</span> <span class="token string">&#x27;markdown&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">  markdownModel<span class="token punctuation">.</span><span class="token function property-access method">onDidChangeContent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">setValue</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prev</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator spread">...</span>prev<span class="token punctuation">,</span> <span class="token property literal-property">md</span><span class="token operator">:</span> markdownModel<span class="token punctuation">.</span><span class="token function property-access method">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">const</span> cssModel <span class="token operator">=</span> monaco<span class="token punctuation">.</span><span class="token property-access">editor</span><span class="token punctuation">.</span><span class="token function property-access method">createModel</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token property-access">css</span><span class="token punctuation">,</span> <span class="token string">&#x27;css&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">  cssModel<span class="token punctuation">.</span><span class="token function property-access method">onDidChangeContent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">setValue</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prev</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator spread">...</span>prev<span class="token punctuation">,</span> <span class="token property literal-property">css</span><span class="token operator">:</span> cssModel<span class="token punctuation">.</span><span class="token function property-access method">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> jsModel <span class="token operator">=</span> monaco<span class="token punctuation">.</span><span class="token property-access">editor</span><span class="token punctuation">.</span><span class="token function property-access method">createModel</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">,</span> <span class="token string">&#x27;javascript&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">  jsModel<span class="token punctuation">.</span><span class="token function property-access method">onDidChangeContent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">setValue</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prev</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator spread">...</span>prev<span class="token punctuation">,</span> <span class="token property literal-property">js</span><span class="token operator">:</span> jsModel<span class="token punctuation">.</span><span class="token function property-access method">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  refEditor<span class="token punctuation">.</span><span class="token property-access">current</span> <span class="token operator">=</span> editor
</span><span class="code-line">  refModels<span class="token punctuation">.</span><span class="token property-access">current</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property literal-property">md</span><span class="token operator">:</span> markdownModel<span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property literal-property">css</span><span class="token operator">:</span> cssModel<span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property literal-property">js</span><span class="token operator">:</span> jsModel<span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</span></code></pre></div><p>最后根据 <code>type</code> 来设置当前的 model。</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>refEditor<span class="token punctuation">.</span><span class="token property-access">current</span> <span class="token operator">&amp;&amp;</span> refModels<span class="token punctuation">.</span><span class="token property-access">current</span> <span class="token operator">&amp;&amp;</span> refModels<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    refEditor<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">.</span><span class="token function property-access method">setModel</span><span class="token punctuation">(</span>refModels<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">)</span>
</span></code></pre></div><p>这样就使用了 monaco-editor 实现了多文件编辑功能，一起来看下效果</p><p><a target="_blank" rel="noopener noreferrer" href="https://code.juejin.cn/pen/7170681581848231948">代码片段</a></p><p><img alt="" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/65a512eb37814e9a97e03e7fe2bead41~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>每个 tab 都有历史记录，都可以实现撤销和重做，并且拥有语法高亮，这些都是 monaco-editor 帮我们实现的。</p><p>接下来我们需要将 mdx 编译成可以 react 组件或者 html。</p><h3 id="编译-mdx"><a href="#编译-mdx" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>编译 mdx</h3><p><a target="_blank" rel="noopener noreferrer" href="https://mdxjs.com/packages/mdx/" title="mdx">mdx</a> 提供了 3 个方法，可以将 mdx 编译成 javascript 分别是 compile、run 和 evaluate；</p><p>run 和 compile 需要配合使用</p><p>比如：在服务端使用 node.js 编译代码</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> compile <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;@mdx-js/mdx&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> code <span class="token operator">=</span> <span class="token class-name known-class-name">String</span><span class="token punctuation">(</span><span class="token keyword control-flow">await</span> <span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">&#x27;# hi&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token property literal-property">outputFormat</span><span class="token operator">:</span> <span class="token string">&#x27;function-body&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span></code></pre></div><p>然后再客户端上将代码用 run 函数执行</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token operator">*</span> <span class="token keyword module">as</span> runtime</span> <span class="token keyword module">from</span> <span class="token string">&#x27;react/jsx-runtime&#x27;</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> run <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;@mdx-js/mdx&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> code <span class="token operator">=</span> <span class="token string">&#x27;&#x27;</span> <span class="token comment">// To do: get `code` from server somehow.</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token keyword module">default</span><span class="token operator">:</span> <span class="token maybe-class-name">Content</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">run</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> runtime<span class="token punctuation">)</span>
</span></code></pre></div><p>这样就得到了一个 MDXContent 组件</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token punctuation">[</span><span class="token class-name known-class-name">Function</span><span class="token operator">:</span> <span class="token maybe-class-name">MDXContent</span><span class="token punctuation">]</span>
</span></code></pre></div><p>这种方式需要前后端配合才可以完成，而 <code>evaluate</code> 函数允许编译动态导入的内容； 比如下面代码就可以在浏览器完成：</p><div class="relative"><pre><code class="code-highlight language-jsx"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">React</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect<span class="token punctuation">,</span> useRef <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;react&#x27;</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">ReactDom</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;react-dom&#x27;</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">ReactDOMServer</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;react-dom/server&#x27;</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token operator">*</span> <span class="token keyword module">as</span> <span class="token maybe-class-name">Babel</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;@babel/standalone&#x27;</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token operator">*</span> <span class="token keyword module">as</span> runtime</span> <span class="token keyword module">from</span> <span class="token string">&#x27;react/jsx-runtime&#x27;</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> evaluate <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;@mdx-js/mdx&#x27;</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">MDXProvider</span><span class="token punctuation">,</span> useMDXComponents <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;@mdx-js/react&#x27;</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkGfm</span> <span class="token keyword module">from</span> <span class="token string">&#x27;remark-gfm&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>refTime<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>refTime<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  refTime<span class="token punctuation">.</span><span class="token property-access">current</span> <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token comment">//console.log(value.md)</span>
</span><span class="code-line">    <span class="token keyword control-flow">try</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token keyword module">default</span><span class="token operator">:</span> <span class="token maybe-class-name">Content</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">evaluate</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token property-access">md</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token operator spread">...</span>runtime<span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property literal-property">remarkPlugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>remarkGfm<span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property literal-property">format</span><span class="token operator">:</span> <span class="token string">&#x27;mdx&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token keyword">const</span> html <span class="token operator">=</span> <span class="token maybe-class-name">ReactDOMServer</span><span class="token punctuation">.</span><span class="token function property-access method">renderToString</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Content</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token class-name console">console</span><span class="token punctuation">.</span><span class="token function property-access method">log</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">}</span> <span class="token keyword control-flow">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token class-name console">console</span><span class="token punctuation">.</span><span class="token function property-access method">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token punctuation">)</span>
</span></code></pre></div><p>上面代码中，我们监听了 <code>value</code> 值的变化，使用 <code>evaluate</code> 函数编译 <code>vlaue</code> 中的 <code>md</code> 值，就可以得到 <code>&lt;Content /&gt;</code>组件，并且使用 <code>ReactDOMServer.renderToString</code> 方法将组件编译成 html。 上面底阿妈为什么需要传入 react runtime？ 因为 mdx 不但支持 react，还支持 vue 和 preact 等， 不同运行时的代码可以使用相应的包导入实现即可。</p><p>我们在马上掘金看下效果</p><p><a target="_blank" rel="noopener noreferrer" href="https://code.juejin.cn/pen/7170930559256887311">代码片段</a></p><p><img alt="" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1a914e00b9fc4e0db0df563af825dea1~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>打印的 html，在 console 中自动有了格式化效果，此时如果我在 markdown 中写入一个 react 组件，比如以下代码：</p><div class="relative"><pre><code class="code-highlight language-md"><span class="code-line"><span class="token important title"><span class="token punctuation">#</span> 标题 1</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token important title"><span class="token punctuation">##</span> 标题二</span>
</span><span class="code-line">
</span><span class="code-line">正文
</span><span class="code-line">
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Test</span><span class="token punctuation">/&gt;</span></span>
</span></code></pre></div><p>控制台中就会报错，提示找不到这个 <code>&lt;Test/&gt;</code> 组件 <img alt="" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/054b4a827ddc4fcc89741b0e7efa41ee~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>因此我们需要实现将 javascript tab 文件下的代码，传递给 <code>MDXProvider</code>，实现代码如下：</p><div class="relative"><pre><code class="code-highlight language-jsx"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">MDXProvider</span><span class="token punctuation">,</span> useMDXComponents <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;@mdx-js/react&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> html <span class="token operator">=</span> <span class="token maybe-class-name">ReactDOMServer</span><span class="token punctuation">.</span><span class="token function property-access method">renderToString</span><span class="token punctuation">(</span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MDXProvider</span></span> <span class="token attr-name">components</span><span class="token script language-javascript"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token maybe-class-name">Test</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Content</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">MDXProvider</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span></code></pre></div><p>在 javascript tab 下，写 React 组件代码，比如我们写一个 <code>Test</code> 组件，并且导出为对象，代码如下：</p><div class="relative"><pre><code class="code-highlight language-jsx"><span class="code-line"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Test</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword control-flow">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token property literal-property">color</span><span class="token operator">:</span> <span class="token string">&#x27;red&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">test</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token maybe-class-name">Test</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>但是，我们通过 monaco editor 得到的 jsx 代码是一个字符串， 而 MDXProvider 需要的 components 是一个对象，因此 jsx 需要在线编译成可执行的 react 代码，然后再返回一个组件对象就可以了。</p><h3 id="浏览器编译-react"><a href="#浏览器编译-react" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>浏览器编译 react</h3><p>我们可以使用 <a target="_blank" rel="noopener noreferrer" href="https://babeljs.io/docs/en/babel-standalone">@babel/standalone</a>，在浏览器中就可以将 jsx 代码编译为可执行的 react 代码</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token operator">*</span> <span class="token keyword module">as</span> <span class="token maybe-class-name">Babel</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;@babel/standalone&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">let</span> <span class="token maybe-class-name">RootComponents</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword control-flow">try</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token comment">//jsx 先通过编译成js</span>
</span><span class="code-line">    <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token maybe-class-name">Babel</span><span class="token punctuation">.</span><span class="token function property-access method">transform</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token property literal-property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;react&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token keyword">let</span> code <span class="token operator">=</span> res<span class="token punctuation">.</span><span class="token property-access">code</span><span class="token punctuation">.</span><span class="token function property-access method">replace</span><span class="token punctuation">(</span><span class="token string">&#x27;export default &#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;return &#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token class-name console">console</span><span class="token punctuation">.</span><span class="token function property-access method">log</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token maybe-class-name">RootComponents</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token string">&#x27;React&#x27;</span><span class="token punctuation">,</span> code<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token maybe-class-name">React</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">validateReactComponent</span><span class="token punctuation">(</span><span class="token maybe-class-name">RootComponents</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token class-name console">console</span><span class="token punctuation">.</span><span class="token function property-access method">log</span><span class="token punctuation">(</span><span class="token string">&#x27;javascript is not react component&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span> <span class="token keyword control-flow">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token class-name console">console</span><span class="token punctuation">.</span><span class="token function property-access method">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>在控制台中，我们可以查看打印的，为编译后的 code，变成了 React javascript 代码 <code>React.createElement</code></p><p><img alt="" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f78956c6c8e14fd4bc225d566f6c05c9~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>但是，编译后的代码中没有引入 React，那么我们可以使用 <code>new Function</code> 将当前环境的 <code>React</code> 对象传递给编译后的组件代码，就可以得到一个 RootComponents 对象了。 RootComponents 直接可以供给 MDXProvider 调用。</p><p>我们在马上掘金看下效果</p><p><a target="_blank" rel="noopener noreferrer" href="https://code.juejin.cn/pen/7170930559256887311">代码片段</a></p><p><img alt="" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/41d9d34a33f9454ca35147d6b12037ba~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>我们看到 test 文字为红色，到此我们实现了 MDX 在线编译功能。</p><h3 id="iframe-预览"><a href="#iframe-预览" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>iframe 预览</h3><p>目前我们的编辑器，还没有实现预览区的效果，我选择使用 iframe 来实现样式隔离，在 react 中可以直接使用 <code>srcDoc</code> 属性来动态改变 iframe 的内容，那么我们只需要将刚才编译后的 html 设置到 state 中，这样就可以实现实时渲染了</p><div class="relative"><pre><code class="code-highlight language-jsx"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iframe<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">         </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">sandbox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>allow-popups-to-escape-sandbox allow-scripts allow-popups allow-forms allow-pointer-lock allow-top-navigation allow-modals<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">               <span class="token attr-name">srcDoc</span><span class="token script language-javascript"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string">&lt;!DOCTYPE html&gt;
</span></span></span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript"><span class="token template-string"><span class="token string">&lt;html&gt;
</span></span></span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript"><span class="token template-string"><span class="token string">  &lt;head&gt;
</span></span></span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript"><span class="token template-string"><span class="token string">    &lt;meta charset=&quot;utf-8&quot; /&gt;
</span></span></span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript"><span class="token template-string"><span class="token string">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot; /&gt;
</span></span></span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript"><span class="token template-string"><span class="token string">    &lt;style&gt;
</span></span></span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript"><span class="token template-string"><span class="token string">      body {
</span></span></span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript"><span class="token template-string"><span class="token string">        margin: 0;
</span></span></span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript"><span class="token template-string"><span class="token string">        font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;,
</span></span></span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript"><span class="token template-string"><span class="token string">          &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;,
</span></span></span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript"><span class="token template-string"><span class="token string">          &quot;Microsoft YaHei&quot;, Arial, sans-serif;
</span></span></span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript"><span class="token template-string"><span class="token string">        text-align: justify;
</span></span></span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript"><span class="token template-string"><span class="token string">        font-size: 17px;
</span></span></span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript"><span class="token template-string"><span class="token string">        color: #333;
</span></span></span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript"><span class="token template-string"><span class="token string">        padding: 20px 16px 9px;
</span></span></span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript"><span class="token template-string"><span class="token string">      }
</span></span></span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript"><span class="token template-string"><span class="token string">      body * {
</span></span></span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript"><span class="token template-string"><span class="token string">        box-sizing: border-box;
</span></span></span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript"><span class="token template-string"><span class="token string">        box-sizing: border-box !important;
</span></span></span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript"><span class="token template-string"><span class="token string">        word-wrap: break-word !important;
</span></span></span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript"><span class="token template-string"><span class="token string">      }
</span></span></span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript"><span class="token template-string"><span class="token string">    &lt;/style&gt;
</span></span></span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript"><span class="token template-string"><span class="token string">    &lt;style id=&quot;_style&quot;&gt;</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>value<span class="token punctuation">.</span><span class="token property-access">css</span><span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">&lt;/style&gt;
</span></span></span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript"><span class="token template-string"><span class="token string">  &lt;/head&gt;
</span></span></span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript"><span class="token template-string"><span class="token string">  &lt;body&gt;&lt;div class=&quot;markdown-body&quot;&gt;</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>html<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">&lt;/div&gt;&lt;/body&gt;
</span></span></span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript"><span class="token template-string"><span class="token string">&lt;/html&gt;</span><span class="token string template-punctuation">`</span></span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</span></code></pre></div><p>给 iframe 添加一些样式</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token punctuation">.</span><span class="token property-access">iframe</span><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property literal-property">padding</span><span class="token operator">:</span> 16px<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token property literal-property">width</span><span class="token operator">:</span> 320px<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token property literal-property">border</span><span class="token operator">:</span> 4px <span class="token function">rgb</span><span class="token punctuation">(</span><span class="token number">192</span> <span class="token number">132</span> <span class="token number">252</span><span class="token punctuation">)</span> solid<span class="token punctuation">;</span>
</span><span class="code-line">  border<span class="token operator">-</span>radius<span class="token operator">:</span> 40px<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token property literal-property">height</span><span class="token operator">:</span> 730px<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token property literal-property">display</span><span class="token operator">:</span> block<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token property literal-property">margin</span><span class="token operator">:</span> <span class="token number">0</span> auto<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token property literal-property">background</span><span class="token operator">:</span> black<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">iframe<span class="token punctuation">{</span>
</span><span class="code-line">  border<span class="token operator">-</span>radius<span class="token operator">:</span> 20px<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token property literal-property">width</span><span class="token operator">:</span> 320px<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token property literal-property">height</span><span class="token operator">:</span> 720px<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token property literal-property">border</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token property literal-property">background</span><span class="token operator">:</span> #fff<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>一起来看下效果，这样是否已经有那么点效果了呢 ？</p><p><img alt="" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/86e90a027bf34b86b8658338b29c392a~tplv-k3u1fbpfcp-zoom-1.image"/> 如上图中，在 md 中，写了一块 js 代码块，右侧编辑区并没有实现语法高亮。因此需要继续优化，在 mdx 中实现语法高亮的功能。</p><h3 id="代码语法高亮"><a href="#代码语法高亮" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>代码语法高亮</h3><p>markdown 在编译过程中会涉及 3 种 ast 抽象语法树 ， remark 负责转换为 mdast，它可以操作 markdown 文件，比如让 markdown 支持更多格式（比如：公式、脚注、任务列表等），需要使用 remark 插件； rehype 负责转换为 hast ，它可以转换 html，比如给代码高亮，这一步是在编译 HTML 后完成的。代码语法高亮有现成的插件，我们安装一个 <code>rehype-prism-plus</code> 插件，</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkGfm</span> <span class="token keyword module">from</span> <span class="token string">&#x27;remark-gfm&#x27;</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">rehypePrismPlus</span> <span class="token keyword module">from</span> <span class="token string">&#x27;rehype-prism-plus&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token keyword module">default</span><span class="token operator">:</span> <span class="token maybe-class-name">Content</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">evaluate</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token property-access">md</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token operator spread">...</span>runtime<span class="token punctuation">,</span>
</span><span class="code-line">  useMDXComponents<span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property literal-property">remarkPlugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>remarkGfm<span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property literal-property">rehypePlugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>rehypePrismPlus<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token property literal-property">ignoreMissing</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property literal-property">format</span><span class="token operator">:</span> <span class="token string">&#x27;mdx&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></code></pre></div><p>在 evaluate 函数中配置 remarkPlugins 和 rehypePlugins，最后我们到 github <a target="_blank" rel="noopener noreferrer" href="https://github.com/PrismJS/prism-themes" title="prism-themes">prism-themes</a> 中复制一份高亮样式代码到我们的 css 文件中，一起来看下效果吧！ <a target="_blank" rel="noopener noreferrer" href="https://code.juejin.cn/pen/7171092385114374151">代码片段</a></p><p><img alt="" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ada58003896049c0955719f3e89f6ba2~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>至此，我们的 mdx 编辑器已经完成了 90%，还有 10 % ，需要需要支持一键复制到微信公众号后台。</p><h2 id="复制到微信公众号后台"><a href="#复制到微信公众号后台" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>复制到微信公众号后台</h2><p>常规的富文本编辑器都有劫持剪切板内容这样的功能，这样才可以实现粘贴带格式。微信公众后台使用的是 ueditor，也有这样的功能。</p><p>比如你在控制台中执行以下代码，接着在文档中选中任意文本，进行复制</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token function property-access method">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#x27;copy&#x27;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  e<span class="token punctuation">.</span><span class="token property-access">clipboardData</span><span class="token punctuation">.</span><span class="token function property-access method">setData</span><span class="token punctuation">(</span><span class="token string">&#x27;text/plain&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Hello, world!&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">  e<span class="token punctuation">.</span><span class="token property-access">clipboardData</span><span class="token punctuation">.</span><span class="token function property-access method">setData</span><span class="token punctuation">(</span><span class="token string">&#x27;text/html&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;&lt;b&gt;Hello, world!&lt;/b&gt;&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">  e<span class="token punctuation">.</span><span class="token function property-access method">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 阻止默认事件</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></code></pre></div><p>然后你到任意位置粘贴都会变成“Hello, world”，只不过在支持富文本编辑的地方会变得加粗，这就是剪切板劫持，因此我们 state 中的 html 和 css，需要转成行内样式，这样在粘贴的时候才会有样式。</p><p>有一个 npm 包很好用，<a target="_blank" rel="noopener noreferrer" href="https://www.npmjs.com/package/juice" title="juice">Juice</a> - 可以将 html 和 css 转变为有内联样式的 html。</p><p>比如官方的例子</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword">var</span> juice <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;juice&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token function">juice</span><span class="token punctuation">(</span><span class="token string">&#x27;&lt;style&gt;div{color:red;}&lt;/style&gt;&lt;div/&gt;&#x27;</span><span class="token punctuation">)</span>
</span></code></pre></div><p>转变后的结果</p><div class="relative"><pre><code class="code-highlight language-html"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token css language-css value"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">red</span><span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</span></code></pre></div><p>那么，我们就可以在页面上加一个复制按钮，首先使用 juice 将 html 和 css 转变为内联的 html，然后将装换后的 html 写进 <code>clipboardData</code> 中，这样就实现了微信公众号排版复制功能。</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">juice</span> <span class="token keyword module">from</span> <span class="token string">&quot;juice&quot;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function function-variable">handleCopy</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> copyValue <span class="token operator">=</span> juice<span class="token punctuation">.</span><span class="token function property-access method">inlineContent</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string">&lt;div class=&quot;markdown-body&quot;&gt;</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>html<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">&lt;/div&gt;</span><span class="token string template-punctuation">`</span></span><span class="token punctuation">,</span> basecss <span class="token operator">+</span> value<span class="token punctuation">.</span><span class="token property-access">css</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token function property-access method">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#x27;copy&#x27;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      e<span class="token punctuation">.</span><span class="token property-access">clipboardData</span><span class="token punctuation">.</span><span class="token function property-access method">setData</span><span class="token punctuation">(</span><span class="token string">&#x27;text/plain&#x27;</span><span class="token punctuation">,</span> copyValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      e<span class="token punctuation">.</span><span class="token property-access">clipboardData</span><span class="token punctuation">.</span><span class="token function property-access method">setData</span><span class="token punctuation">(</span><span class="token string">&#x27;text/html&#x27;</span><span class="token punctuation">,</span> copyValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      e<span class="token punctuation">.</span><span class="token function property-access method">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 阻止默认事件</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token function property-access method">execCommand</span><span class="token punctuation">(</span><span class="token string">&#x27;copy&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">  <span class="token operator spread">...</span>
</span><span class="code-line">  <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleCopy<span class="token punctuation">}</span><span class="token operator">&gt;</span>复制到微信后台<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</span><span class="code-line">  <span class="token operator spread">...</span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span></code></pre></div><p>一起来看下效果。</p><p><a target="_blank" rel="noopener noreferrer" href="https://code.juejin.cn/pen/7171349691837120544">代码片段</a></p><p><img alt="公众号后台粘贴" src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/62460d15b14846febf45b6c5b9e7a03b~tplv-k3u1fbpfcp-watermark.image?"/></p><p>至此我们的编辑器已经完成。当然产品细节决定产品质量，码上掘金中的例子，还需要继续打磨优化样式，加入更多功能，才可以开发出一款比较完善的产品。</p><h2 id="云函数开发接口"><a href="#云函数开发接口" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>云函数开发接口</h2><p>为了让数据保存到云端，我选择使用云函数来开发接口，使用云数据库来保存数据。至于为什么？主要是因为便宜。</p><p>目前腾讯云开发 19.9 一月，我这里选择使用 <a target="_blank" rel="noopener noreferrer" href="https://www.lafyun.com/" title="laf">laf</a></p><p><img alt="" src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/053a8ed1bd1f47a7908d3a2ce9007b29~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?"/></p><p>laf 是一个开源的云开发平台，可以像写博客一样写函数，随手上线，最重要的是官网体验版现在是免费的。点击官网，右上角在线体验，注册一个账号就可以使用，每个用户拥有内存:256MB, 数据库:1GB, 存储:3GB。</p><h3 id="创建一个云函数"><a href="#创建一个云函数" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>创建一个云函数</h3><p>输入以下代码，便可以创建一个 get 和 post 接口</p><div class="relative"><pre><code class="code-highlight language-ts"><span class="code-line"><span class="token keyword">import</span> cloud <span class="token keyword">from</span> <span class="token string">&#x27;@/cloud-sdk&#x27;</span>
</span><span class="code-line">
</span><span class="code-line">exports<span class="token punctuation">.</span><span class="token function function-variable">main</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>ctx<span class="token operator">:</span> FunctionContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token comment">// body, query 为请求参数, auth 是授权对象</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> auth<span class="token punctuation">,</span> body<span class="token punctuation">,</span> query<span class="token punctuation">,</span> method <span class="token punctuation">}</span> <span class="token operator">=</span> ctx
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>method <span class="token operator">===</span> <span class="token string">&#x27;POST&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> db <span class="token operator">=</span> cloud<span class="token punctuation">.</span><span class="token function">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token keyword">const</span> r <span class="token operator">=</span> <span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">collection</span><span class="token punctuation">(</span><span class="token string">&#x27;mdx&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token keyword">return</span> r
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token comment">// 数据库操作</span>
</span><span class="code-line">  <span class="token keyword">const</span> db <span class="token operator">=</span> cloud<span class="token punctuation">.</span><span class="token function">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">const</span> r <span class="token operator">=</span> <span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">collection</span><span class="token punctuation">(</span><span class="token string">&#x27;mdx&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">doc</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">return</span> r
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>POST 访问，默认将 body 中的数据全部保存，get 访问，通过 id 查询数据。</p><p>保存后点击发布，就可以在控制台获得 api url <code>https://XXXXX.lafyun.com:443/test-api</code></p><h2 id="nextjs-请求路径重写"><a href="#nextjs-请求路径重写" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Next.js 请求路径重写</h2><p><img alt="api默认允许跨域" src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e87b52015ca5485ea3dec26283998037~tplv-k3u1fbpfcp-watermark.image?"/></p><p>laf 提供的 URL 默认是允许跨域的，如果我们使用 create react app 创建应用，那么通过控制台是可以看到访问的接口，为了防止其他人知道你的 url，滥用数据，因此我们选择使用 Next.js 来开发，可以将 api 配置在环境变量中，通过 Next.js 的路由重写功能。</p><p>在 <code>next.config.js</code> 添加以下配置</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"> <span class="token keyword">async</span> <span class="token function">rewrites</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword control-flow">return</span> <span class="token punctuation">[</span>
</span><span class="code-line">      <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token property literal-property">source</span><span class="token operator">:</span> <span class="token string">&#x27;/api/:path*&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property literal-property">destination</span><span class="token operator">:</span> <span class="token template-string"><span class="token string template-punctuation">`</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">NEXT_PUBLIC_API_URL</span><span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">/api/:path?secret=</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">MY_SECRET_TOKEN</span><span class="token punctuation interpolation-punctuation">}</span></span><span class="token string template-punctuation">`</span></span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">]</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span></code></pre></div><p>这样用户访问 <code>http://localhost:3000/api/*</code> 下的路径就会自动带上 SECRET，而访问地址是看不到的</p><p>在云函数装加入秘钥判断即可。</p><div class="relative"><pre><code class="code-highlight language-ts"><span class="code-line"><span class="token keyword">import</span> cloud <span class="token keyword">from</span> <span class="token string">&#x27;@/cloud-sdk&#x27;</span>
</span><span class="code-line">
</span><span class="code-line">exports<span class="token punctuation">.</span><span class="token function function-variable">main</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>ctx<span class="token operator">:</span> FunctionContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> auth<span class="token punctuation">,</span> body<span class="token punctuation">,</span> query<span class="token punctuation">,</span> method <span class="token punctuation">}</span> <span class="token operator">=</span> ctx
</span><span class="code-line">  <span class="token comment">// 加入秘钥判断，防止滥用</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>query<span class="token punctuation">.</span>secret <span class="token operator">!==</span> <span class="token string">&#x27;MY_SECRET_TOKEN&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    ctx<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">403</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token string">&#x27;秘钥错误，无权限&#x27;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>method <span class="token operator">===</span> <span class="token string">&#x27;POST&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> db <span class="token operator">=</span> cloud<span class="token punctuation">.</span><span class="token function">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token keyword">const</span> r <span class="token operator">=</span> <span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">collection</span><span class="token punctuation">(</span><span class="token string">&#x27;mdx&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token keyword">return</span> r
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token comment">// 数据库操作</span>
</span><span class="code-line">  <span class="token keyword">const</span> db <span class="token operator">=</span> cloud<span class="token punctuation">.</span><span class="token function">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">const</span> r <span class="token operator">=</span> <span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">collection</span><span class="token punctuation">(</span><span class="token string">&#x27;mdx&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">doc</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">return</span> r
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>这样别人知道你的 url，也无法滥用使用云函数接口了。</p><h2 id="部署"><a href="#部署" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>部署</h2><p>最后，部署我们直接使用 vecel 部署，之前的文章介绍过多次，这里就不赘述了</p><h2 id="小结"><a href="#小结" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>小结</h2><ol><li>本文从零开始使用 Monaco Editor 开发多文件编辑器；</li><li>使用 mdx 实现在线编译；</li><li>了解了 JavaScript clipboard api，实现剪切板的劫持</li><li>使用 laf 云函数和云数据开发了 api 节课；</li><li>最后使用 Next.js 的路由重写功能，防止云函数 api 的暴露。</li></ol><p>好了，以上就是本文的全部内容，你学会了吗？接下来我将继续分享 Next.js 相关的实战文章，欢迎各位关注我的<a target="_blank" rel="noopener noreferrer" href="https://juejin.cn/column/7140121965360054308">《 Next.js 全栈开发实战》</a> 专栏，感谢您的阅读。</p></div><div class="border-t border-gray-200 pt-6 pb-6 text-sm text-gray-700 dark:border-gray-700 dark:text-gray-300"><div class="mb-3"><img alt="runjs-cool" width="384" height="140" src="/static/images/runjs-cool.webp"/></div><span>关注微信公众号，获取最新原创文章（首发）</span><a target="_blank" rel="noopener noreferrer" href="https://github.com/balac2015/blob/main/data/blog/Next.js 全栈开发微信公众号 Markdown 排版编辑器.md">View on GitHub</a></div><div id="comment"></div></div><footer><div class="divide-gray-200 text-sm font-medium leading-5 dark:divide-gray-700 xl:col-start-1 xl:row-start-2 xl:divide-y"><div class="py-4 xl:py-8"><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">标签</h2><div class="mt-3 flex flex-wrap"><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/reactjs">React.js</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/%E5%89%8D%E7%AB%AF">前端</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/markdown">Markdown</a></div></div><div class="flex justify-between py-4 xl:block xl:space-y-8 xl:py-8"><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">上一篇 文章</h2><div class="mt-3 text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%20React%20hooks%20%E9%97%AD%E5%8C%85%E9%99%B7%E9%98%B1%EF%BC%9F">如何避免 React hooks 闭包陷阱？</a></div></div><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">下一篇 文章</h2><div class="mt-3 text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/%E5%88%9B%E5%BB%BA%20React%20%E5%BA%94%E7%94%A8%E7%9A%84%207%20%E7%A7%8D%E6%96%B9%E5%BC%8F%EF%BC%8C%E4%BD%A0%E7%94%A8%E8%BF%87%E5%87%A0%E7%A7%8D%EF%BC%9F">创建 React 应用的 7 种方式，你用过几种？</a></div></div></div></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog">← 返回文章列表</a></div></footer></div></div></article></div></main></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var d=Object.create;var t=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty;var o=a=\u003et(a,\"__esModule\",{value:!0});var k=(a,s)=\u003e()=\u003e(s||a((s={exports:{}}).exports,s),s.exports),g=(a,s)=\u003e{for(var c in s)t(a,c,{get:s[c],enumerable:!0})},i=(a,s,c,e)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let l of h(s))!N.call(a,l)\u0026\u0026(c||l!==\"default\")\u0026\u0026t(a,l,{get:()=\u003es[l],enumerable:!(e=m(s,l))||e.enumerable});return a},y=(a,s)=\u003ei(o(t(a!=null?d(u(a)):{},\"default\",!s\u0026\u0026a\u0026\u0026a.__esModule?{get:()=\u003ea.default,enumerable:!0}:{value:a,enumerable:!0})),a),f=(a=\u003e(s,c)=\u003ea\u0026\u0026a.get(s)||(c=i(o({}),s,1),a\u0026\u0026a.set(s,c),c))(typeof WeakMap!=\"undefined\"?new WeakMap:0);var p=k((M,r)=\u003e{r.exports=_jsx_runtime});var v={};g(v,{default:()=\u003ej,frontmatter:()=\u003ew});var n=y(p()),w={title:\"Next.js \\u5168\\u6808\\u5F00\\u53D1\\u5FAE\\u4FE1\\u516C\\u4F17\\u53F7 Markdown \\u6392\\u7248\\u7F16\\u8F91\\u5668\",date:\"2022/11/30 00:42:25\",lastmod:\"2023/1/25 11:42:14\",tags:[\"React.js\",\"\\u524D\\u7AEF\",\"Markdown\"],draft:!1,summary:\"\\u9605\\u8BFB\\u672C\\u6587\\uFF0C\\u4F60\\u5C06\\u6536\\u83B7\\uFF1A \\u5B66\\u4F1A\\u4F7F\\u7528 Monaco Editor \\u5F00\\u53D1\\u591A\\u6587\\u4EF6\\u7F16\\u8F91\\u5668\\uFF1B\\u5B66\\u4F1A\\u4F7F\\u7528 mdx \\u5728\\u7EBF\\u7F16\\u8BD1 \\uFF1B\\u5B9E\\u73B0\\u526A\\u5207\\u677F\\u7684\\u52AB\\u6301\\uFF1B\\u5B66\\u4F1A\\u4F7F\\u7528\\u4E91\\u51FD\\u6570\\u548C\\u4E91\\u6570\\u636E\\u5199\\u63A5\\u53E3\\uFF1B\",images:\"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/722aa1c1cef346aba9cc4db65319fb69~tplv-k3u1fbpfcp-watermark.image?\",authors:[\"default\"],layout:\"PostLayout\"};function b(a={}){let{wrapper:s}=a.components||{};return s?(0,n.jsx)(s,Object.assign({},a,{children:(0,n.jsx)(c,{})})):c();function c(){let e=Object.assign({blockquote:\"blockquote\",p:\"p\",h2:\"h2\",a:\"a\",span:\"span\",ol:\"ol\",li:\"li\",ul:\"ul\",h3:\"h3\",pre:\"pre\",code:\"code\",img:\"img\"},a.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.blockquote,{children:(0,n.jsx)(e.p,{children:\"\\u6587\\u7AE0\\u4E3A\\u7A00\\u571F\\u6398\\u91D1\\u6280\\u672F\\u793E\\u533A\\u9996\\u53D1\\u7B7E\\u7EA6\\u6587\\u7AE0\\uFF0C14 \\u5929\\u5185\\u7981\\u6B62\\u8F6C\\u8F7D\\uFF0C14 \\u5929\\u540E\\u672A\\u83B7\\u6388\\u6743\\u7981\\u6B62\\u8F6C\\u8F7D\\uFF0C\\u4FB5\\u6743\\u5FC5\\u7A76\\uFF01\"})}),(0,n.jsxs)(e.h2,{id:\"\\u9605\\u8BFB\\u672C\\u6587\\u4F60\\u5C06\\u6536\\u83B7\",children:[(0,n.jsx)(e.a,{href:\"#\\u9605\\u8BFB\\u672C\\u6587\\u4F60\\u5C06\\u6536\\u83B7\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u9605\\u8BFB\\u672C\\u6587\\uFF0C\\u4F60\\u5C06\\u6536\\u83B7\\uFF1A\"]}),(0,n.jsxs)(e.ol,{children:[(0,n.jsx)(e.li,{children:\"\\u5B66\\u4F1A\\u4F7F\\u7528 Monaco Editor \\u5F00\\u53D1\\u591A\\u6587\\u4EF6\\u7F16\\u8F91\\u5668\"}),(0,n.jsx)(e.li,{children:\"\\u5B66\\u4F1A\\u4F7F\\u7528 mdx \\u5728\\u7EBF\\u7F16\\u8BD1\"}),(0,n.jsx)(e.li,{children:\"\\u4E86\\u89E3\\u4E86 JavaScript clipboard api\\uFF0C\\u5B9E\\u73B0\\u526A\\u5207\\u677F\\u7684\\u52AB\\u6301\\uFF1B\"}),(0,n.jsx)(e.li,{children:\"\\u5B66\\u4F1A\\u4F7F\\u7528\\u4E91\\u51FD\\u6570\\u548C\\u4E91\\u6570\\u636E\\u5199\\u63A5\\u53E3\"}),(0,n.jsx)(e.li,{children:\"\\u5B66\\u4F1A\\u4F7F\\u7528 Next.js \\u7684\\u8DEF\\u7531\\u91CD\\u5199\\u529F\\u80FD\"})]}),(0,n.jsxs)(e.h2,{id:\"\\u524D\\u8A00\",children:[(0,n.jsx)(e.a,{href:\"#\\u524D\\u8A00\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u524D\\u8A00\"]}),(0,n.jsxs)(e.p,{children:[\"\\u5176\\u5B9E\\u5E94\\u8BE5\\u53EB\\u5FAE\\u4FE1\\u516C\\u4F17\\u53F7 MDX \\u6392\\u7248\\u7F16\\u8F91\\u5668\\uFF0C\\u56E0\\u4E3A\\u77E5\\u9053 markdown \\u7684\\u4EBA\\u5F88\\u591A\\uFF0C\\u800C\\u77E5\\u9053 MDX \\u7684\\u4EBA\\u5374\\u5F88\\u5C11\\uFF0C\\u4E4B\\u524D\\u4E5F\\u5199\\u8FC7\\u4E00\\u7BC7\\u6587\\u7AE0\",(0,n.jsx)(e.a,{href:\"https://juejin.cn/post/7081948276169113631\",children:\"\\u300A[MDX Editor] \\u5FAE\\u4FE1\\u6392\\u7248\\u5DE5\\u5177\\u65B0\\u9009\\u62E9\\u300B\"}),\"\\uFF0C\\u4ECB\\u7ECD\\u4E86\\u6211\\u5F00\\u53D1\\u8FD9\\u6B3E\\u7F16\\u8F91\\u5668\\u7684\\u521D\\u8877\\uFF0C\\u4EE5\\u53CA\\u5B83\\u7684\\u529F\\u80FD\\uFF0C\\u9605\\u8BFB\\u91CF\\u90A3\\u662F\\u76F8\\u5F53\\u7684\\u4F4E\\uFF0C\\u4ECA\\u5929\\uFF0C\\u6211\\u4EEC\\u5C06\\u4ECE\\u6280\\u672F\\u5B9E\\u73B0\\u7684\\u89D2\\u5EA6\\uFF0C\\u6765\\u8BB0\\u5F55\\u5B83\\u7684\\u5B9E\\u73B0\\u8FC7\\u7A0B\\uFF0C\\u6CA1\\u4F53\\u9A8C\\u8FC7\\u7684\\u670B\\u53CB\\u53EF\\u4EE5\\u5148\\u4F53\\u9A8C\\u4E0B\\u3002\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://editor.runjs.cool/\",children:\"\\u5728\\u7EBF\\u5730\\u5740\"})}),(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/maqi1520/mdx-editor\",children:\"Github \\u5730\\u5740\"})})]}),(0,n.jsxs)(e.p,{children:[\"\\u90A3\\u6807\\u9898\\u4E3A\\u4EC0\\u4E48\\u8981\\u53EB \\u201CMarkdown \\u6392\\u7248\\u7F16\\u8F91\\u5668\\u5462\\u201D\\uFF1F \\u56E0\\u4E3A MDX \\u662F markdown \\u548C JSX \\u7684\\u7ED3\\u5408\\uFF0C\\u5B83\\u8BA9\\u6211\\u4EEC\\u7684\\u6587\\u6863\\u5373\\u53EF\\u4EE5\\u5199 markdown \\u4E5F\\u53EF\\u4EE5\\u5199 React \\u7EC4\\u4EF6\\uFF0C\\u4E8E\\u662F\\u6211\\u60F3\\u7528 MDX \\u7684\\u5F3A\\u5927\\u529F\\u80FD\\u6765\\u6269\\u5C55\\u5FAE\\u4FE1\\u516C\\u4F17\\u53F7\\u7F16\\u8F91\\u5668\\u7684\\u4E0D\\u8DB3\\u3002\\u5176\\u5B9E\\u7F16\\u8F91\\u5668\\u90E8\\u5206\\u53EF\\u4EE5\\u662F\\u7EAF React \\u5B9E\\u73B0\\uFF0C\\u800C\\u6211\\u9009\\u62E9\\u4F7F\\u7528 Next.js + \\u4E91\\u5F00\\u53D1\\uFF0C\\u8BA9\\u5B83\\u4ECE\\u5355\\u7EAF\\u7684\\u7F16\\u8F91\\u5668\\u664B\\u5347\\u4E3A\\u6211\\u7684\\u5199\\u4F5C\\u5DE5\\u5177\\uFF0C\\u62E5\\u6709\\u4E86\\u4E91\\u7AEF\\u4FDD\\u5B58\\u6570\\u636E\\u80FD\\u529B\\uFF0C\\u672C\\u6587\\u6536\\u5F55\\u5728\",(0,n.jsx)(e.a,{href:\"https://juejin.cn/column/7140121965360054308\",children:\"\\u300A Next.js \\u5168\\u6808\\u5F00\\u53D1\\u5B9E\\u6218\\u300B\"}),\" \\u4E13\\u680F\\u4E2D\\u3002\"]}),(0,n.jsxs)(e.h2,{id:\"\\u6280\\u672F\\u6808\",children:[(0,n.jsx)(e.a,{href:\"#\\u6280\\u672F\\u6808\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u6280\\u672F\\u6808\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"Next.js\"}),(0,n.jsx)(e.li,{children:\"Tailwindcss\"}),(0,n.jsx)(e.li,{children:\"\\u4E91\\u51FD\\u6570+\\u4E91\\u6570\\u636E\\u5E93\"})]}),(0,n.jsx)(e.p,{children:\"\\u8FD9\\u5957\\u6280\\u672F\\u6808\\u7684\\u4F18\\u52BF\\u662F\\u4EC0\\u4E48\\uFF1F\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"\\u7EAF JavaScript \\u5F00\\u53D1\\u7684\\u5168\\u6808\\u5E94\\u7528\"}),(0,n.jsx)(e.li,{children:\"\\u201C\\u514D\\u8D39\\u90E8\\u7F72\\u201D\\uFF0C\\u6211\\u4EEC\\u53EA\\u9700\\u8981\\u4E00\\u4E2A\\u57DF\\u540D\\u3002\"})]}),(0,n.jsx)(e.p,{children:\"\\u76F8\\u4FE1\\u901A\\u8FC7\\u9605\\u8BFB\\u672C\\u6587\\uFF0C\\u4F60\\u4E5F\\u53EF\\u4EE5\\u5F00\\u53D1\\u51FA\\u4E00\\u4E2A\\u5168\\u6808\\u5E94\\u7528\\u3002\"}),(0,n.jsxs)(e.h2,{id:\"\\u7F16\\u8F91\\u5668\\u5B9E\\u73B0\",children:[(0,n.jsx)(e.a,{href:\"#\\u7F16\\u8F91\\u5668\\u5B9E\\u73B0\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7F16\\u8F91\\u5668\\u5B9E\\u73B0\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://microsoft.github.io/monaco-editor/\",title:\"monaco-editor\",children:\"Monaco Editor\"}),\" \\u662F VS Code \\u4E2D\\u4F7F\\u7528\\u7684\\u5F00\\u6E90\\u4EE3\\u7801\\u7F16\\u8F91\\u5668\\uFF0C \\u62E5\\u6709\\u4EE3\\u7801\\u9AD8\\u4EAE\\u548C\\u4EE3\\u7801\\u81EA\\u52A8\\u8865\\u5168\\u7684\\u529F\\u80FD\\uFF0CMonaco Editor \\u652F\\u6301\\u7684\\u8BED\\u8A00\\u6709\\u5F88\\u591A\\uFF0C\\u5305\\u542B html\\u3001css\\u3001JavaScript \\u548C markdown \\u7B49\\uFF0C\\u6240\\u4EE5\\u7528\\u5B83\\u4F5C\\u4E3A\\u6211\\u4EEC\\u7684\\u7F16\\u8F91\\u5668\\u5C31\\u518D\\u5408\\u9002\\u4E0D\\u8FC7\\u4E86\\uFF0CMonaco Editor \\u6709 2 \\u79CD\\u52A0\\u8F7D\\u65B9\\u5F0F\\uFF0C\\u5206\\u522B\\u662F amd \\u548C esm\\uFF0C\\u4E5F\\u5C31\\u662F Requirejs \\u548C ES Modules\\u3002\"]}),(0,n.jsxs)(e.h3,{id:\"monaco-editor-\\u5B9E\\u73B0-markdown-\\u7F16\\u8F91\\u5668\",children:[(0,n.jsx)(e.a,{href:\"#monaco-editor-\\u5B9E\\u73B0-markdown-\\u7F16\\u8F91\\u5668\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"monaco-editor \\u5B9E\\u73B0 markdown \\u7F16\\u8F91\\u5668\"]}),(0,n.jsx)(e.p,{children:\"\\u5982\\u679C\\u9009\\u62E9\\u4F7F\\u7528 Requirejs \\u6765\\u52A0\\u8F7D\\uFF0C\\u6211\\u4EEC\\u4F7F\\u7528\\u51E0\\u884C\\u4EE3\\u7801\\u5C31\\u53EF\\u4EE5\\u5B9E\\u73B0\\u4E00\\u4E2A\\u7F16\\u8F91\\u5668\\u3002\"}),(0,n.jsx)(e.p,{children:\"\\u9996\\u5148\\u4F7F\\u7528\\u5728 html \\u4E2D\\u5F15\\u5165 monaco-editor \\u7684 cdn \\u5730\\u5740\\uFF0C\\u5E76\\u4E14\\u914D\\u7F6E require config\\u3002\"}),(0,n.jsx)(e.pre,{className:\"language-html\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-html\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),\"div\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"id\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"app\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"div\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),\"script\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"src\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/min/vs/loader.js\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token script\"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"script\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),\"script\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsx)(e.span,{className:\"token language-javascript\",children:`\n`})})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsxs)(e.span,{className:\"token language-javascript\",children:[\"  require\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"config\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"paths\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"vs\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/min/vs'\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsx)(e.span,{className:\"token language-javascript\"})}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"script\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u5728 React \\u7684 \",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" hoooks \\u4E2D\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"monaco.editor.create\"}),\" \\u521B\\u5EFA\\u4E00\\u4E2A editor\\uFF0C\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"onDidChangeModelContent\"}),\" \\u65B9\\u6CD5\\u76D1\\u542C editor \\u4E2D\\u5185\\u5BB9\\u6539\\u53D8\\uFF0C \\u5E76\\u4E14\\u8BBE\\u7F6E state \\u503C\\uFF0C\\u8FD9\\u6837\\u5C31\\u5F97\\u5230\\u4E86\\u4E00\\u4E2A\\u5B9E\\u65F6\\u7F16\\u8F91\\u5668\\u6548\\u679C\\u3002\\u4EE3\\u7801\\u5982\\u4E0B\\uFF1A\"]}),(0,n.jsx)(e.pre,{className:\"language-jsx\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-jsx\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"React\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" useState\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" useEffect\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" useRef \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'react'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token imports\",children:(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"ReactDom\"})}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'react-dom'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"App\"})}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"value\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" setValue\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"useState\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'# \\u6807\\u98981 \\\\r\\\\r## \\u6807\\u9898\\u4E8C\\\\r\\\\r\\u6B63\\u6587'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" ref \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"useRef\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" editor \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" monaco\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"editor\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"create\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"ref\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"current\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      value\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"language\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'markdown'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"minimap\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"enabled\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"theme\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'vs-dark'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    editor\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"onDidChangeModelContent\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token function\",children:\"setValue\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"editor\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"getValue\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),\"div\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"className\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"flex\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),\"div\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"ref\"}),(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[(0,n.jsx)(e.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"ref\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"className\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"flex-1\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"style\"}),(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[(0,n.jsx)(e.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"height\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"800\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"div\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),\"div\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"className\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"flex-1\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"style\"}),(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[(0,n.jsx)(e.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"height\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"800\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"        \"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"value\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"div\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"    \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"div\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"require\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'vs/editor/editor.main'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"ReactDom\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"render\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"App\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token dom variable\",children:\"document\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"getElementById\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'app'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://code.juejin.cn/pen/7170613642608508941\",children:\"\\u4EE3\\u7801\\u7247\\u6BB5\"})}),(0,n.jsx)(e.p,{children:\"\\u5B9E\\u73B0\\u6548\\u679C\\u5982\\u4E0B\\uFF1A\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/42a26b233b944809bd970ca3cb3edca1~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsxs)(e.p,{children:[\"\\u53EF\\u80FD\\u6709\\u540C\\u5B66\\u5BF9 \",(0,n.jsx)(e.code,{children:\"onDidChangeModelContent\"}),\" \\u65B9\\u6CD5\\u6BD4\\u8F83\\u7591\\u60D1\\uFF0C\\u4E2D\\u95F4\\u6709\\u4E2A\\u5355\\u8BCD\",(0,n.jsx)(e.code,{children:\"Model\"}),\"\\uFF0C\\u4E3A\\u4EC0\\u4E48\\u4E0D\\u662F\",(0,n.jsx)(e.code,{children:\"onDidChangeContent\"}),\"\\u5462\\uFF1F\\u56E0\\u4E3A Monaco Editor \\u5728\\u521B\\u5EFA\\u7684\\u65F6\\u5019\\uFF0C\\u81EA\\u52A8\\u5E2E\\u6211\\u521B\\u5EFA\\u4E86\\u4E00\\u4E2A Model\\uFF0C Editor \\u76F8\\u5F53\\u4E8E\\u4E00\\u4E2A\\u5BB9\\u5668\\uFF0C\\u5BB9\\u5668\\u53EF\\u4EE5\\u8BBE\\u7F6E Model\\u3001\\u5207\\u6362 Model\\uFF0C\\u6BD4\\u5982 vscode \\u4E2D\\uFF0C\\u6BCF\\u6253\\u5F00\\u4E00\\u4E2A\\u6587\\u4EF6\\u5C31\\u662F\\u4E00\\u4E2A Model\\uFF0C\\u6587\\u4EF6\\u5207\\u6362\\u5C31\\u662F\\u5207\\u6362 model\\uFF0C\\u6BCF\\u4E2A\\u6587\\u4EF6\\u90FD\\u6709\\u72B6\\u6001\\uFF0C\\u6BD4\\u5982\\u5149\\u6807\\u4F4D\\u7F6E\\uFF0C\\u5386\\u53F2\\u8BB0\\u5F55\\u7B49\\uFF0C\\u8FD9\\u4E9B\\u72B6\\u6001\\u90FD\\u5B58\\u5728 model \\u4E2D\\uFF0C\\u8FD9\\u6837\\u5C31\\u4E0D\\u4F1A\\u56E0\\u4E3A\\u6587\\u4EF6\\u5207\\u6362\\u5BFC\\u81F4\\u72B6\\u6001\\u6DF7\\u6DC6\\uFF0C\\u63A5\\u4E0B\\u6765\\u6211\\u4EEC\\u5C31\\u5B9E\\u73B0\\u4E0B\\u591A\\u6587\\u4EF6\\u7684\\u5207\\u6362\\u3002\"]}),(0,n.jsxs)(e.h3,{id:\"monaco-editor-\\u5B9E\\u73B0\\u591A\\u6587\\u4EF6\\u7F16\\u8F91\",children:[(0,n.jsx)(e.a,{href:\"#monaco-editor-\\u5B9E\\u73B0\\u591A\\u6587\\u4EF6\\u7F16\\u8F91\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"monaco-editor \\u5B9E\\u73B0\\u591A\\u6587\\u4EF6\\u7F16\\u8F91\"]}),(0,n.jsx)(e.p,{children:\"\\u5728 mdx editor \\u4E2D\\uFF0C\\u9664\\u4E86 markdown \\u7F16\\u8F91\\u5668\\uFF0C\\u8FD8\\u9700\\u8981\\u6709 css \\u548C js\\uFF0C\\u56E0\\u6B64\\uFF0C\\u6211\\u4EEC\\u5C06\\u521D\\u59CB\\u7684 value \\u6539\\u6210\\u4E00\\u4E2A\\u5BF9\\u8C61\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"value\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" setValue\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"useState\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"md\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'# \\u6807\\u98981 \\\\r\\\\r## \\u6807\\u9898\\u4E8C\\\\r\\\\r\\u6B63\\u6587'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"css\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'.markdown-body{ color:#333}'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"js\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:`'console.log(\"test\")'`}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\u63A5\\u7740\\uFF0C\\u518D\\u521B\\u5EFA\\u4E00\\u4E2A type \\u7528\\u4E8E\\u533A\\u5206\\u5F53\\u524D\\u6587\\u4EF6\\u7C7B\\u578B\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" ref \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"useRef\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"type\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" setType\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"useState\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'md'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u5F53\\u524D\\u7C7B\\u578B\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u7136\\u540E\\u5728 \",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u4E2D\\u521B\\u5EFA editor \\u548C\\u6240\\u6709\\u6587\\u4EF6\\u7684 model\\uFF0C\\u5E76\\u4E14\\u4FDD\\u5B58\\u5230 \",(0,n.jsx)(e.code,{children:\"ref\"}),\" \\u4E2D\"]}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" refEditor \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"useRef\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// editor \\u5B9E\\u4F8B\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" refModels \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"useRef\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u6240\\u4EE5\\u6587\\u4EF6\\u7684 model\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" editor \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" monaco\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"editor\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"create\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"ref\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"current\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"minimap\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"enabled\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"theme\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'vs-dark'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" markdownModel \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" monaco\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"editor\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"createModel\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"value\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"md\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'markdown'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  markdownModel\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"onDidChangeContent\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"setValue\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"prev\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator spread\",children:\"...\"}),\"prev\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"md\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" markdownModel\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"getValue\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" cssModel \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" monaco\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"editor\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"createModel\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"value\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"css\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'css'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  cssModel\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"onDidChangeContent\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"setValue\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"prev\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator spread\",children:\"...\"}),\"prev\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"css\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" cssModel\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"getValue\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" jsModel \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" monaco\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"editor\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"createModel\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"value\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"js\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'javascript'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  jsModel\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"onDidChangeContent\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"setValue\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"prev\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator spread\",children:\"...\"}),\"prev\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"js\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" jsModel\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"getValue\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  refEditor\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"current\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` editor\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  refModels\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"current\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"md\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" markdownModel\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"css\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" cssModel\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"js\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" jsModel\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u6700\\u540E\\u6839\\u636E \",(0,n.jsx)(e.code,{children:\"type\"}),\" \\u6765\\u8BBE\\u7F6E\\u5F53\\u524D\\u7684 model\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"refEditor\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"current\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\u0026\"}),\" refModels\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"current\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\u0026\"}),\" refModels\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"current\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"type\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    refEditor\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"current\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"setModel\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"refModels\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"current\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"type\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"type\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\u8FD9\\u6837\\u5C31\\u4F7F\\u7528\\u4E86 monaco-editor \\u5B9E\\u73B0\\u4E86\\u591A\\u6587\\u4EF6\\u7F16\\u8F91\\u529F\\u80FD\\uFF0C\\u4E00\\u8D77\\u6765\\u770B\\u4E0B\\u6548\\u679C\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://code.juejin.cn/pen/7170681581848231948\",children:\"\\u4EE3\\u7801\\u7247\\u6BB5\"})}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/65a512eb37814e9a97e03e7fe2bead41~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsx)(e.p,{children:\"\\u6BCF\\u4E2A tab \\u90FD\\u6709\\u5386\\u53F2\\u8BB0\\u5F55\\uFF0C\\u90FD\\u53EF\\u4EE5\\u5B9E\\u73B0\\u64A4\\u9500\\u548C\\u91CD\\u505A\\uFF0C\\u5E76\\u4E14\\u62E5\\u6709\\u8BED\\u6CD5\\u9AD8\\u4EAE\\uFF0C\\u8FD9\\u4E9B\\u90FD\\u662F monaco-editor \\u5E2E\\u6211\\u4EEC\\u5B9E\\u73B0\\u7684\\u3002\"}),(0,n.jsx)(e.p,{children:\"\\u63A5\\u4E0B\\u6765\\u6211\\u4EEC\\u9700\\u8981\\u5C06 mdx \\u7F16\\u8BD1\\u6210\\u53EF\\u4EE5 react \\u7EC4\\u4EF6\\u6216\\u8005 html\\u3002\"}),(0,n.jsxs)(e.h3,{id:\"\\u7F16\\u8BD1-mdx\",children:[(0,n.jsx)(e.a,{href:\"#\\u7F16\\u8BD1-mdx\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7F16\\u8BD1 mdx\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://mdxjs.com/packages/mdx/\",title:\"mdx\",children:\"mdx\"}),\" \\u63D0\\u4F9B\\u4E86 3 \\u4E2A\\u65B9\\u6CD5\\uFF0C\\u53EF\\u4EE5\\u5C06 mdx \\u7F16\\u8BD1\\u6210 javascript \\u5206\\u522B\\u662F compile\\u3001run \\u548C evaluate\\uFF1B\"]}),(0,n.jsx)(e.p,{children:\"run \\u548C compile \\u9700\\u8981\\u914D\\u5408\\u4F7F\\u7528\"}),(0,n.jsx)(e.p,{children:\"\\u6BD4\\u5982\\uFF1A\\u5728\\u670D\\u52A1\\u7AEF\\u4F7F\\u7528 node.js \\u7F16\\u8BD1\\u4EE3\\u7801\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" compile \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'@mdx-js/mdx'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" code \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name known-class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"await\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"compile\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'# hi'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"outputFormat\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'function-body'\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\u7136\\u540E\\u518D\\u5BA2\\u6237\\u7AEF\\u4E0A\\u5C06\\u4EE3\\u7801\\u7528 run \\u51FD\\u6570\\u6267\\u884C\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"as\"}),\" runtime\"]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'react/jsx-runtime'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" run \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'@mdx-js/mdx'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" code \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"''\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// To do: get `code` from server somehow.\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Content\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"await\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"run\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"code\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" runtime\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\u8FD9\\u6837\\u5C31\\u5F97\\u5230\\u4E86\\u4E00\\u4E2A MDXContent \\u7EC4\\u4EF6\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsx)(e.code,{className:\"language-js code-highlight\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token class-name known-class-name\",children:\"Function\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"MDXContent\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n`]})})}),(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u79CD\\u65B9\\u5F0F\\u9700\\u8981\\u524D\\u540E\\u7AEF\\u914D\\u5408\\u624D\\u53EF\\u4EE5\\u5B8C\\u6210\\uFF0C\\u800C \",(0,n.jsx)(e.code,{children:\"evaluate\"}),\" \\u51FD\\u6570\\u5141\\u8BB8\\u7F16\\u8BD1\\u52A8\\u6001\\u5BFC\\u5165\\u7684\\u5185\\u5BB9\\uFF1B \\u6BD4\\u5982\\u4E0B\\u9762\\u4EE3\\u7801\\u5C31\\u53EF\\u4EE5\\u5728\\u6D4F\\u89C8\\u5668\\u5B8C\\u6210\\uFF1A\"]}),(0,n.jsx)(e.pre,{className:\"language-jsx\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-jsx\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"React\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" useState\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" useEffect\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" useRef \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'react'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token imports\",children:(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"ReactDom\"})}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'react-dom'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token imports\",children:(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"ReactDOMServer\"})}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'react-dom/server'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"as\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Babel\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'@babel/standalone'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"as\"}),\" runtime\"]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'react/jsx-runtime'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" evaluate \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'@mdx-js/mdx'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"MDXProvider\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" useMDXComponents \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'@mdx-js/react'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token imports\",children:\"remarkGfm\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'remark-gfm'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"refTime\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"current\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"clearTimeout\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"refTime\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"current\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  refTime\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"current\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"setTimeout\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"//console.log(value.md)\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"try\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Content\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"await\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"evaluate\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"value\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"md\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token operator spread\",children:\"...\"}),\"runtime\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"remarkPlugins\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"remarkGfm\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"format\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'mdx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" html \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"ReactDOMServer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"renderToString\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Content\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"html\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"catch\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"error\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"error\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"500\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"value\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u4E0A\\u9762\\u4EE3\\u7801\\u4E2D\\uFF0C\\u6211\\u4EEC\\u76D1\\u542C\\u4E86 \",(0,n.jsx)(e.code,{children:\"value\"}),\" \\u503C\\u7684\\u53D8\\u5316\\uFF0C\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"evaluate\"}),\" \\u51FD\\u6570\\u7F16\\u8BD1 \",(0,n.jsx)(e.code,{children:\"vlaue\"}),\" \\u4E2D\\u7684 \",(0,n.jsx)(e.code,{children:\"md\"}),\" \\u503C\\uFF0C\\u5C31\\u53EF\\u4EE5\\u5F97\\u5230 \",(0,n.jsx)(e.code,{children:\"\u003cContent /\u003e\"}),\"\\u7EC4\\u4EF6\\uFF0C\\u5E76\\u4E14\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"ReactDOMServer.renderToString\"}),\" \\u65B9\\u6CD5\\u5C06\\u7EC4\\u4EF6\\u7F16\\u8BD1\\u6210 html\\u3002 \\u4E0A\\u9762\\u5E95\\u963F\\u5988\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981\\u4F20\\u5165 react runtime\\uFF1F \\u56E0\\u4E3A mdx \\u4E0D\\u4F46\\u652F\\u6301 react\\uFF0C\\u8FD8\\u652F\\u6301 vue \\u548C preact \\u7B49\\uFF0C \\u4E0D\\u540C\\u8FD0\\u884C\\u65F6\\u7684\\u4EE3\\u7801\\u53EF\\u4EE5\\u4F7F\\u7528\\u76F8\\u5E94\\u7684\\u5305\\u5BFC\\u5165\\u5B9E\\u73B0\\u5373\\u53EF\\u3002\"]}),(0,n.jsx)(e.p,{children:\"\\u6211\\u4EEC\\u5728\\u9A6C\\u4E0A\\u6398\\u91D1\\u770B\\u4E0B\\u6548\\u679C\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://code.juejin.cn/pen/7170930559256887311\",children:\"\\u4EE3\\u7801\\u7247\\u6BB5\"})}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1a914e00b9fc4e0db0df563af825dea1~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsx)(e.p,{children:\"\\u6253\\u5370\\u7684 html\\uFF0C\\u5728 console \\u4E2D\\u81EA\\u52A8\\u6709\\u4E86\\u683C\\u5F0F\\u5316\\u6548\\u679C\\uFF0C\\u6B64\\u65F6\\u5982\\u679C\\u6211\\u5728 markdown \\u4E2D\\u5199\\u5165\\u4E00\\u4E2A react \\u7EC4\\u4EF6\\uFF0C\\u6BD4\\u5982\\u4EE5\\u4E0B\\u4EE3\\u7801\\uFF1A\"}),(0,n.jsx)(e.pre,{className:\"language-md\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-md\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token important title\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"#\"}),\" \\u6807\\u9898 1\"]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token important title\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"##\"}),\" \\u6807\\u9898\\u4E8C\"]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u6B63\\u6587\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),\"Test\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u63A7\\u5236\\u53F0\\u4E2D\\u5C31\\u4F1A\\u62A5\\u9519\\uFF0C\\u63D0\\u793A\\u627E\\u4E0D\\u5230\\u8FD9\\u4E2A \",(0,n.jsx)(e.code,{children:\"\u003cTest/\u003e\"}),\" \\u7EC4\\u4EF6 \",(0,n.jsx)(e.img,{alt:\"\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/054b4a827ddc4fcc89741b0e7efa41ee~tplv-k3u1fbpfcp-zoom-1.image\"})]}),(0,n.jsxs)(e.p,{children:[\"\\u56E0\\u6B64\\u6211\\u4EEC\\u9700\\u8981\\u5B9E\\u73B0\\u5C06 javascript tab \\u6587\\u4EF6\\u4E0B\\u7684\\u4EE3\\u7801\\uFF0C\\u4F20\\u9012\\u7ED9 \",(0,n.jsx)(e.code,{children:\"MDXProvider\"}),\"\\uFF0C\\u5B9E\\u73B0\\u4EE3\\u7801\\u5982\\u4E0B\\uFF1A\"]}),(0,n.jsx)(e.pre,{className:\"language-jsx\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-jsx\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"MDXProvider\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" useMDXComponents \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'@mdx-js/react'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" html \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"ReactDOMServer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"renderToString\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"MDXProvider\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"components\"}),(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[(0,n.jsx)(e.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Test\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"    \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Content\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"  \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c/\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"MDXProvider\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u5728 javascript tab \\u4E0B\\uFF0C\\u5199 React \\u7EC4\\u4EF6\\u4EE3\\u7801\\uFF0C\\u6BD4\\u5982\\u6211\\u4EEC\\u5199\\u4E00\\u4E2A \",(0,n.jsx)(e.code,{children:\"Test\"}),\" \\u7EC4\\u4EF6\\uFF0C\\u5E76\\u4E14\\u5BFC\\u51FA\\u4E3A\\u5BF9\\u8C61\\uFF0C\\u4EE3\\u7801\\u5982\\u4E0B\\uFF1A\"]}),(0,n.jsx)(e.pre,{className:\"language-jsx\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-jsx\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Test\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),\"p\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"style\"}),(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[(0,n.jsx)(e.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"color\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'red'\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"test\"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"p\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Test\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\u4F46\\u662F\\uFF0C\\u6211\\u4EEC\\u901A\\u8FC7 monaco editor \\u5F97\\u5230\\u7684 jsx \\u4EE3\\u7801\\u662F\\u4E00\\u4E2A\\u5B57\\u7B26\\u4E32\\uFF0C \\u800C MDXProvider \\u9700\\u8981\\u7684 components \\u662F\\u4E00\\u4E2A\\u5BF9\\u8C61\\uFF0C\\u56E0\\u6B64 jsx \\u9700\\u8981\\u5728\\u7EBF\\u7F16\\u8BD1\\u6210\\u53EF\\u6267\\u884C\\u7684 react \\u4EE3\\u7801\\uFF0C\\u7136\\u540E\\u518D\\u8FD4\\u56DE\\u4E00\\u4E2A\\u7EC4\\u4EF6\\u5BF9\\u8C61\\u5C31\\u53EF\\u4EE5\\u4E86\\u3002\"}),(0,n.jsxs)(e.h3,{id:\"\\u6D4F\\u89C8\\u5668\\u7F16\\u8BD1-react\",children:[(0,n.jsx)(e.a,{href:\"#\\u6D4F\\u89C8\\u5668\\u7F16\\u8BD1-react\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u6D4F\\u89C8\\u5668\\u7F16\\u8BD1 react\"]}),(0,n.jsxs)(e.p,{children:[\"\\u6211\\u4EEC\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,n.jsx)(e.a,{href:\"https://babeljs.io/docs/en/babel-standalone\",children:\"@babel/standalone\"}),\"\\uFF0C\\u5728\\u6D4F\\u89C8\\u5668\\u4E2D\\u5C31\\u53EF\\u4EE5\\u5C06 jsx \\u4EE3\\u7801\\u7F16\\u8BD1\\u4E3A\\u53EF\\u6267\\u884C\\u7684 react \\u4EE3\\u7801\"]}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"as\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Babel\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'@babel/standalone'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"RootComponents\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"value\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"js\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"try\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"//jsx \\u5148\\u901A\\u8FC7\\u7F16\\u8BD1\\u6210js\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" res \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Babel\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"transform\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"value\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"js\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"presets\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'react'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" code \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" res\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"code\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"replace\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'export default '\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'return '\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"code\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"RootComponents\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Function\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'React'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" code\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"React\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"validateReactComponent\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"RootComponents\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'javascript is not react component'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"catch\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"error\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"error\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u5728\\u63A7\\u5236\\u53F0\\u4E2D\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u67E5\\u770B\\u6253\\u5370\\u7684\\uFF0C\\u4E3A\\u7F16\\u8BD1\\u540E\\u7684 code\\uFF0C\\u53D8\\u6210\\u4E86 React javascript \\u4EE3\\u7801 \",(0,n.jsx)(e.code,{children:\"React.createElement\"})]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f78956c6c8e14fd4bc225d566f6c05c9~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsxs)(e.p,{children:[\"\\u4F46\\u662F\\uFF0C\\u7F16\\u8BD1\\u540E\\u7684\\u4EE3\\u7801\\u4E2D\\u6CA1\\u6709\\u5F15\\u5165 React\\uFF0C\\u90A3\\u4E48\\u6211\\u4EEC\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"new Function\"}),\" \\u5C06\\u5F53\\u524D\\u73AF\\u5883\\u7684 \",(0,n.jsx)(e.code,{children:\"React\"}),\" \\u5BF9\\u8C61\\u4F20\\u9012\\u7ED9\\u7F16\\u8BD1\\u540E\\u7684\\u7EC4\\u4EF6\\u4EE3\\u7801\\uFF0C\\u5C31\\u53EF\\u4EE5\\u5F97\\u5230\\u4E00\\u4E2A RootComponents \\u5BF9\\u8C61\\u4E86\\u3002 RootComponents \\u76F4\\u63A5\\u53EF\\u4EE5\\u4F9B\\u7ED9 MDXProvider \\u8C03\\u7528\\u3002\"]}),(0,n.jsx)(e.p,{children:\"\\u6211\\u4EEC\\u5728\\u9A6C\\u4E0A\\u6398\\u91D1\\u770B\\u4E0B\\u6548\\u679C\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://code.juejin.cn/pen/7170930559256887311\",children:\"\\u4EE3\\u7801\\u7247\\u6BB5\"})}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/41d9d34a33f9454ca35147d6b12037ba~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsx)(e.p,{children:\"\\u6211\\u4EEC\\u770B\\u5230 test \\u6587\\u5B57\\u4E3A\\u7EA2\\u8272\\uFF0C\\u5230\\u6B64\\u6211\\u4EEC\\u5B9E\\u73B0\\u4E86 MDX \\u5728\\u7EBF\\u7F16\\u8BD1\\u529F\\u80FD\\u3002\"}),(0,n.jsxs)(e.h3,{id:\"iframe-\\u9884\\u89C8\",children:[(0,n.jsx)(e.a,{href:\"#iframe-\\u9884\\u89C8\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"iframe \\u9884\\u89C8\"]}),(0,n.jsxs)(e.p,{children:[\"\\u76EE\\u524D\\u6211\\u4EEC\\u7684\\u7F16\\u8F91\\u5668\\uFF0C\\u8FD8\\u6CA1\\u6709\\u5B9E\\u73B0\\u9884\\u89C8\\u533A\\u7684\\u6548\\u679C\\uFF0C\\u6211\\u9009\\u62E9\\u4F7F\\u7528 iframe \\u6765\\u5B9E\\u73B0\\u6837\\u5F0F\\u9694\\u79BB\\uFF0C\\u5728 react \\u4E2D\\u53EF\\u4EE5\\u76F4\\u63A5\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"srcDoc\"}),\" \\u5C5E\\u6027\\u6765\\u52A8\\u6001\\u6539\\u53D8 iframe \\u7684\\u5185\\u5BB9\\uFF0C\\u90A3\\u4E48\\u6211\\u4EEC\\u53EA\\u9700\\u8981\\u5C06\\u521A\\u624D\\u7F16\\u8BD1\\u540E\\u7684 html \\u8BBE\\u7F6E\\u5230 state \\u4E2D\\uFF0C\\u8FD9\\u6837\\u5C31\\u53EF\\u4EE5\\u5B9E\\u73B0\\u5B9E\\u65F6\\u6E32\\u67D3\\u4E86\"]}),(0,n.jsx)(e.pre,{className:\"language-jsx\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-jsx\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),\"div\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"className\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"iframe\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"         \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),\"iframe\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"sandbox\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"allow-popups-to-escape-sandbox allow-scripts allow-popups allow-forms allow-pointer-lock allow-top-navigation allow-modals\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),`\n`]})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"               \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"srcDoc\"}),(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[(0,n.jsx)(e.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(e.span,{className:\"token string\",children:`\u003c!DOCTYPE html\u003e\n`})]})]})]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token tag\",children:(0,n.jsx)(e.span,{className:\"token script language-javascript\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`\u003chtml\u003e\n`})})})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token tag\",children:(0,n.jsx)(e.span,{className:\"token script language-javascript\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`  \u003chead\u003e\n`})})})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token tag\",children:(0,n.jsx)(e.span,{className:\"token script language-javascript\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`    \u003cmeta charset=\"utf-8\" /\u003e\n`})})})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token tag\",children:(0,n.jsx)(e.span,{className:\"token script language-javascript\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`    \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1\" /\u003e\n`})})})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token tag\",children:(0,n.jsx)(e.span,{className:\"token script language-javascript\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`    \u003cstyle\u003e\n`})})})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token tag\",children:(0,n.jsx)(e.span,{className:\"token script language-javascript\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`      body {\n`})})})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token tag\",children:(0,n.jsx)(e.span,{className:\"token script language-javascript\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`        margin: 0;\n`})})})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token tag\",children:(0,n.jsx)(e.span,{className:\"token script language-javascript\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`        font-family: -apple-system-font, BlinkMacSystemFont, \"Helvetica Neue\",\n`})})})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token tag\",children:(0,n.jsx)(e.span,{className:\"token script language-javascript\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`          \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei UI\",\n`})})})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token tag\",children:(0,n.jsx)(e.span,{className:\"token script language-javascript\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`          \"Microsoft YaHei\", Arial, sans-serif;\n`})})})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token tag\",children:(0,n.jsx)(e.span,{className:\"token script language-javascript\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`        text-align: justify;\n`})})})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token tag\",children:(0,n.jsx)(e.span,{className:\"token script language-javascript\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`        font-size: 17px;\n`})})})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token tag\",children:(0,n.jsx)(e.span,{className:\"token script language-javascript\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`        color: #333;\n`})})})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token tag\",children:(0,n.jsx)(e.span,{className:\"token script language-javascript\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`        padding: 20px 16px 9px;\n`})})})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token tag\",children:(0,n.jsx)(e.span,{className:\"token script language-javascript\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`      }\n`})})})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token tag\",children:(0,n.jsx)(e.span,{className:\"token script language-javascript\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`      body * {\n`})})})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token tag\",children:(0,n.jsx)(e.span,{className:\"token script language-javascript\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`        box-sizing: border-box;\n`})})})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token tag\",children:(0,n.jsx)(e.span,{className:\"token script language-javascript\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`        box-sizing: border-box !important;\n`})})})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token tag\",children:(0,n.jsx)(e.span,{className:\"token script language-javascript\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`        word-wrap: break-word !important;\n`})})})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token tag\",children:(0,n.jsx)(e.span,{className:\"token script language-javascript\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`      }\n`})})})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token tag\",children:(0,n.jsx)(e.span,{className:\"token script language-javascript\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`    \u003c/style\u003e\n`})})})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token tag\",children:(0,n.jsx)(e.span,{className:\"token script language-javascript\",children:(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:'    \u003cstyle id=\"_style\"\u003e'}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"value\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"css\"}),(0,n.jsx)(e.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token string\",children:`\u003c/style\u003e\n`})]})})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token tag\",children:(0,n.jsx)(e.span,{className:\"token script language-javascript\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`  \u003c/head\u003e\n`})})})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token tag\",children:(0,n.jsx)(e.span,{className:\"token script language-javascript\",children:(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:'  \u003cbody\u003e\u003cdiv class=\"markdown-body\"\u003e'}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"html\",(0,n.jsx)(e.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token string\",children:`\u003c/div\u003e\u003c/body\u003e\n`})]})})})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003c/html\u003e\"}),(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"div\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"div\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\u7ED9 iframe \\u6DFB\\u52A0\\u4E00\\u4E9B\\u6837\\u5F0F\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"iframe\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"padding\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" 16px\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"width\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" 320px\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"border\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" 4px \",(0,n.jsx)(e.span,{className:\"token function\",children:\"rgb\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"192\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"132\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"252\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" solid\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  border\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\"radius\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" 40px\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"height\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" 730px\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"display\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" block\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"margin\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),\" auto\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"background\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" black\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"iframe\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  border\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\"radius\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" 20px\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"width\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" 320px\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"height\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" 720px\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"border\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"background\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" #fff\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\u4E00\\u8D77\\u6765\\u770B\\u4E0B\\u6548\\u679C\\uFF0C\\u8FD9\\u6837\\u662F\\u5426\\u5DF2\\u7ECF\\u6709\\u90A3\\u4E48\\u70B9\\u6548\\u679C\\u4E86\\u5462 \\uFF1F\"}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.img,{alt:\"\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/86e90a027bf34b86b8658338b29c392a~tplv-k3u1fbpfcp-zoom-1.image\"}),\" \\u5982\\u4E0A\\u56FE\\u4E2D\\uFF0C\\u5728 md \\u4E2D\\uFF0C\\u5199\\u4E86\\u4E00\\u5757 js \\u4EE3\\u7801\\u5757\\uFF0C\\u53F3\\u4FA7\\u7F16\\u8F91\\u533A\\u5E76\\u6CA1\\u6709\\u5B9E\\u73B0\\u8BED\\u6CD5\\u9AD8\\u4EAE\\u3002\\u56E0\\u6B64\\u9700\\u8981\\u7EE7\\u7EED\\u4F18\\u5316\\uFF0C\\u5728 mdx \\u4E2D\\u5B9E\\u73B0\\u8BED\\u6CD5\\u9AD8\\u4EAE\\u7684\\u529F\\u80FD\\u3002\"]}),(0,n.jsxs)(e.h3,{id:\"\\u4EE3\\u7801\\u8BED\\u6CD5\\u9AD8\\u4EAE\",children:[(0,n.jsx)(e.a,{href:\"#\\u4EE3\\u7801\\u8BED\\u6CD5\\u9AD8\\u4EAE\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u4EE3\\u7801\\u8BED\\u6CD5\\u9AD8\\u4EAE\"]}),(0,n.jsxs)(e.p,{children:[\"markdown \\u5728\\u7F16\\u8BD1\\u8FC7\\u7A0B\\u4E2D\\u4F1A\\u6D89\\u53CA 3 \\u79CD ast \\u62BD\\u8C61\\u8BED\\u6CD5\\u6811 \\uFF0C remark \\u8D1F\\u8D23\\u8F6C\\u6362\\u4E3A mdast\\uFF0C\\u5B83\\u53EF\\u4EE5\\u64CD\\u4F5C markdown \\u6587\\u4EF6\\uFF0C\\u6BD4\\u5982\\u8BA9 markdown \\u652F\\u6301\\u66F4\\u591A\\u683C\\u5F0F\\uFF08\\u6BD4\\u5982\\uFF1A\\u516C\\u5F0F\\u3001\\u811A\\u6CE8\\u3001\\u4EFB\\u52A1\\u5217\\u8868\\u7B49\\uFF09\\uFF0C\\u9700\\u8981\\u4F7F\\u7528 remark \\u63D2\\u4EF6\\uFF1B rehype \\u8D1F\\u8D23\\u8F6C\\u6362\\u4E3A hast \\uFF0C\\u5B83\\u53EF\\u4EE5\\u8F6C\\u6362 html\\uFF0C\\u6BD4\\u5982\\u7ED9\\u4EE3\\u7801\\u9AD8\\u4EAE\\uFF0C\\u8FD9\\u4E00\\u6B65\\u662F\\u5728\\u7F16\\u8BD1 HTML \\u540E\\u5B8C\\u6210\\u7684\\u3002\\u4EE3\\u7801\\u8BED\\u6CD5\\u9AD8\\u4EAE\\u6709\\u73B0\\u6210\\u7684\\u63D2\\u4EF6\\uFF0C\\u6211\\u4EEC\\u5B89\\u88C5\\u4E00\\u4E2A \",(0,n.jsx)(e.code,{children:\"rehype-prism-plus\"}),\" \\u63D2\\u4EF6\\uFF0C\"]}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token imports\",children:\"remarkGfm\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'remark-gfm'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token imports\",children:\"rehypePrismPlus\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'rehype-prism-plus'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Content\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"await\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"evaluate\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"value\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"md\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token operator spread\",children:\"...\"}),\"runtime\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  useMDXComponents\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"remarkPlugins\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"remarkGfm\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"rehypePlugins\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"rehypePrismPlus\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"ignoreMissing\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"format\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'mdx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u5728 evaluate \\u51FD\\u6570\\u4E2D\\u914D\\u7F6E remarkPlugins \\u548C rehypePlugins\\uFF0C\\u6700\\u540E\\u6211\\u4EEC\\u5230 github \",(0,n.jsx)(e.a,{href:\"https://github.com/PrismJS/prism-themes\",title:\"prism-themes\",children:\"prism-themes\"}),\" \\u4E2D\\u590D\\u5236\\u4E00\\u4EFD\\u9AD8\\u4EAE\\u6837\\u5F0F\\u4EE3\\u7801\\u5230\\u6211\\u4EEC\\u7684 css \\u6587\\u4EF6\\u4E2D\\uFF0C\\u4E00\\u8D77\\u6765\\u770B\\u4E0B\\u6548\\u679C\\u5427\\uFF01 \",(0,n.jsx)(e.a,{href:\"https://code.juejin.cn/pen/7171092385114374151\",children:\"\\u4EE3\\u7801\\u7247\\u6BB5\"})]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ada58003896049c0955719f3e89f6ba2~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsx)(e.p,{children:\"\\u81F3\\u6B64\\uFF0C\\u6211\\u4EEC\\u7684 mdx \\u7F16\\u8F91\\u5668\\u5DF2\\u7ECF\\u5B8C\\u6210\\u4E86 90%\\uFF0C\\u8FD8\\u6709 10 % \\uFF0C\\u9700\\u8981\\u9700\\u8981\\u652F\\u6301\\u4E00\\u952E\\u590D\\u5236\\u5230\\u5FAE\\u4FE1\\u516C\\u4F17\\u53F7\\u540E\\u53F0\\u3002\"}),(0,n.jsxs)(e.h2,{id:\"\\u590D\\u5236\\u5230\\u5FAE\\u4FE1\\u516C\\u4F17\\u53F7\\u540E\\u53F0\",children:[(0,n.jsx)(e.a,{href:\"#\\u590D\\u5236\\u5230\\u5FAE\\u4FE1\\u516C\\u4F17\\u53F7\\u540E\\u53F0\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u590D\\u5236\\u5230\\u5FAE\\u4FE1\\u516C\\u4F17\\u53F7\\u540E\\u53F0\"]}),(0,n.jsx)(e.p,{children:\"\\u5E38\\u89C4\\u7684\\u5BCC\\u6587\\u672C\\u7F16\\u8F91\\u5668\\u90FD\\u6709\\u52AB\\u6301\\u526A\\u5207\\u677F\\u5185\\u5BB9\\u8FD9\\u6837\\u7684\\u529F\\u80FD\\uFF0C\\u8FD9\\u6837\\u624D\\u53EF\\u4EE5\\u5B9E\\u73B0\\u7C98\\u8D34\\u5E26\\u683C\\u5F0F\\u3002\\u5FAE\\u4FE1\\u516C\\u4F17\\u540E\\u53F0\\u4F7F\\u7528\\u7684\\u662F ueditor\\uFF0C\\u4E5F\\u6709\\u8FD9\\u6837\\u7684\\u529F\\u80FD\\u3002\"}),(0,n.jsx)(e.p,{children:\"\\u6BD4\\u5982\\u4F60\\u5728\\u63A7\\u5236\\u53F0\\u4E2D\\u6267\\u884C\\u4EE5\\u4E0B\\u4EE3\\u7801\\uFF0C\\u63A5\\u7740\\u5728\\u6587\\u6863\\u4E2D\\u9009\\u4E2D\\u4EFB\\u610F\\u6587\\u672C\\uFF0C\\u8FDB\\u884C\\u590D\\u5236\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token dom variable\",children:\"document\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"addEventListener\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'copy'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"e\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  e\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"clipboardData\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"setData\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'text/plain'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'Hello, world!'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  e\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"clipboardData\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"setData\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'text/html'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'\u003cb\u003eHello, world!\u003c/b\u003e'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  e\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"preventDefault\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u963B\\u6B62\\u9ED8\\u8BA4\\u4E8B\\u4EF6\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\u7136\\u540E\\u4F60\\u5230\\u4EFB\\u610F\\u4F4D\\u7F6E\\u7C98\\u8D34\\u90FD\\u4F1A\\u53D8\\u6210\\u201CHello, world\\u201D\\uFF0C\\u53EA\\u4E0D\\u8FC7\\u5728\\u652F\\u6301\\u5BCC\\u6587\\u672C\\u7F16\\u8F91\\u7684\\u5730\\u65B9\\u4F1A\\u53D8\\u5F97\\u52A0\\u7C97\\uFF0C\\u8FD9\\u5C31\\u662F\\u526A\\u5207\\u677F\\u52AB\\u6301\\uFF0C\\u56E0\\u6B64\\u6211\\u4EEC state \\u4E2D\\u7684 html \\u548C css\\uFF0C\\u9700\\u8981\\u8F6C\\u6210\\u884C\\u5185\\u6837\\u5F0F\\uFF0C\\u8FD9\\u6837\\u5728\\u7C98\\u8D34\\u7684\\u65F6\\u5019\\u624D\\u4F1A\\u6709\\u6837\\u5F0F\\u3002\"}),(0,n.jsxs)(e.p,{children:[\"\\u6709\\u4E00\\u4E2A npm \\u5305\\u5F88\\u597D\\u7528\\uFF0C\",(0,n.jsx)(e.a,{href:\"https://www.npmjs.com/package/juice\",title:\"juice\",children:\"Juice\"}),\" - \\u53EF\\u4EE5\\u5C06 html \\u548C css \\u8F6C\\u53D8\\u4E3A\\u6709\\u5185\\u8054\\u6837\\u5F0F\\u7684 html\\u3002\"]}),(0,n.jsx)(e.p,{children:\"\\u6BD4\\u5982\\u5B98\\u65B9\\u7684\\u4F8B\\u5B50\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" juice \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"require\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'juice'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" result \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"juice\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'\u003cstyle\u003ediv{color:red;}\u003c/style\u003e\u003cdiv/\u003e'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\u8F6C\\u53D8\\u540E\\u7684\\u7ED3\\u679C\"}),(0,n.jsx)(e.pre,{className:\"language-html\",children:(0,n.jsx)(e.code,{className:\"code-highlight language-html\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),\"div\"]}),\" \",(0,n.jsxs)(e.span,{className:\"token special-attr\",children:[(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"style\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),(0,n.jsxs)(e.span,{className:\"token css language-css value\",children:[(0,n.jsx)(e.span,{className:\"token property\",children:\"color\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token color\",children:\"red\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"div\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]})})}),(0,n.jsxs)(e.p,{children:[\"\\u90A3\\u4E48\\uFF0C\\u6211\\u4EEC\\u5C31\\u53EF\\u4EE5\\u5728\\u9875\\u9762\\u4E0A\\u52A0\\u4E00\\u4E2A\\u590D\\u5236\\u6309\\u94AE\\uFF0C\\u9996\\u5148\\u4F7F\\u7528 juice \\u5C06 html \\u548C css \\u8F6C\\u53D8\\u4E3A\\u5185\\u8054\\u7684 html\\uFF0C\\u7136\\u540E\\u5C06\\u88C5\\u6362\\u540E\\u7684 html \\u5199\\u8FDB \",(0,n.jsx)(e.code,{children:\"clipboardData\"}),\" \\u4E2D\\uFF0C\\u8FD9\\u6837\\u5C31\\u5B9E\\u73B0\\u4E86\\u5FAE\\u4FE1\\u516C\\u4F17\\u53F7\\u6392\\u7248\\u590D\\u5236\\u529F\\u80FD\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token imports\",children:\"juice\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"juice\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"handleCopy\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" copyValue \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" juice\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"inlineContent\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\u003cdiv class=\"markdown-body\"\u003e'}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"html\",(0,n.jsx)(e.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003c/div\u003e\"}),(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" basecss \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" value\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"css\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token dom variable\",children:\"document\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"addEventListener\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'copy'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"e\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      e\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"clipboardData\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"setData\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'text/plain'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" copyValue\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      e\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"clipboardData\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"setData\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'text/html'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" copyValue\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      e\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"preventDefault\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u963B\\u6B62\\u9ED8\\u8BA4\\u4E8B\\u4EF6\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token dom variable\",children:\"document\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"execCommand\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'copy'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token operator spread\",children:\"...\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),\"button onClick\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"handleCopy\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\"\\u590D\\u5236\\u5230\\u5FAE\\u4FE1\\u540E\\u53F0\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"button\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token operator spread\",children:\"...\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\u4E00\\u8D77\\u6765\\u770B\\u4E0B\\u6548\\u679C\\u3002\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://code.juejin.cn/pen/7171349691837120544\",children:\"\\u4EE3\\u7801\\u7247\\u6BB5\"})}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\\u516C\\u4F17\\u53F7\\u540E\\u53F0\\u7C98\\u8D34\",src:\"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/62460d15b14846febf45b6c5b9e7a03b~tplv-k3u1fbpfcp-watermark.image?\"})}),(0,n.jsx)(e.p,{children:\"\\u81F3\\u6B64\\u6211\\u4EEC\\u7684\\u7F16\\u8F91\\u5668\\u5DF2\\u7ECF\\u5B8C\\u6210\\u3002\\u5F53\\u7136\\u4EA7\\u54C1\\u7EC6\\u8282\\u51B3\\u5B9A\\u4EA7\\u54C1\\u8D28\\u91CF\\uFF0C\\u7801\\u4E0A\\u6398\\u91D1\\u4E2D\\u7684\\u4F8B\\u5B50\\uFF0C\\u8FD8\\u9700\\u8981\\u7EE7\\u7EED\\u6253\\u78E8\\u4F18\\u5316\\u6837\\u5F0F\\uFF0C\\u52A0\\u5165\\u66F4\\u591A\\u529F\\u80FD\\uFF0C\\u624D\\u53EF\\u4EE5\\u5F00\\u53D1\\u51FA\\u4E00\\u6B3E\\u6BD4\\u8F83\\u5B8C\\u5584\\u7684\\u4EA7\\u54C1\\u3002\"}),(0,n.jsxs)(e.h2,{id:\"\\u4E91\\u51FD\\u6570\\u5F00\\u53D1\\u63A5\\u53E3\",children:[(0,n.jsx)(e.a,{href:\"#\\u4E91\\u51FD\\u6570\\u5F00\\u53D1\\u63A5\\u53E3\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u4E91\\u51FD\\u6570\\u5F00\\u53D1\\u63A5\\u53E3\"]}),(0,n.jsx)(e.p,{children:\"\\u4E3A\\u4E86\\u8BA9\\u6570\\u636E\\u4FDD\\u5B58\\u5230\\u4E91\\u7AEF\\uFF0C\\u6211\\u9009\\u62E9\\u4F7F\\u7528\\u4E91\\u51FD\\u6570\\u6765\\u5F00\\u53D1\\u63A5\\u53E3\\uFF0C\\u4F7F\\u7528\\u4E91\\u6570\\u636E\\u5E93\\u6765\\u4FDD\\u5B58\\u6570\\u636E\\u3002\\u81F3\\u4E8E\\u4E3A\\u4EC0\\u4E48\\uFF1F\\u4E3B\\u8981\\u662F\\u56E0\\u4E3A\\u4FBF\\u5B9C\\u3002\"}),(0,n.jsxs)(e.p,{children:[\"\\u76EE\\u524D\\u817E\\u8BAF\\u4E91\\u5F00\\u53D1 19.9 \\u4E00\\u6708\\uFF0C\\u6211\\u8FD9\\u91CC\\u9009\\u62E9\\u4F7F\\u7528 \",(0,n.jsx)(e.a,{href:\"https://www.lafyun.com/\",title:\"laf\",children:\"laf\"})]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\",src:\"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/053a8ed1bd1f47a7908d3a2ce9007b29~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?\"})}),(0,n.jsx)(e.p,{children:\"laf \\u662F\\u4E00\\u4E2A\\u5F00\\u6E90\\u7684\\u4E91\\u5F00\\u53D1\\u5E73\\u53F0\\uFF0C\\u53EF\\u4EE5\\u50CF\\u5199\\u535A\\u5BA2\\u4E00\\u6837\\u5199\\u51FD\\u6570\\uFF0C\\u968F\\u624B\\u4E0A\\u7EBF\\uFF0C\\u6700\\u91CD\\u8981\\u7684\\u662F\\u5B98\\u7F51\\u4F53\\u9A8C\\u7248\\u73B0\\u5728\\u662F\\u514D\\u8D39\\u7684\\u3002\\u70B9\\u51FB\\u5B98\\u7F51\\uFF0C\\u53F3\\u4E0A\\u89D2\\u5728\\u7EBF\\u4F53\\u9A8C\\uFF0C\\u6CE8\\u518C\\u4E00\\u4E2A\\u8D26\\u53F7\\u5C31\\u53EF\\u4EE5\\u4F7F\\u7528\\uFF0C\\u6BCF\\u4E2A\\u7528\\u6237\\u62E5\\u6709\\u5185\\u5B58:256MB, \\u6570\\u636E\\u5E93:1GB, \\u5B58\\u50A8:3GB\\u3002\"}),(0,n.jsxs)(e.h3,{id:\"\\u521B\\u5EFA\\u4E00\\u4E2A\\u4E91\\u51FD\\u6570\",children:[(0,n.jsx)(e.a,{href:\"#\\u521B\\u5EFA\\u4E00\\u4E2A\\u4E91\\u51FD\\u6570\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u521B\\u5EFA\\u4E00\\u4E2A\\u4E91\\u51FD\\u6570\"]}),(0,n.jsx)(e.p,{children:\"\\u8F93\\u5165\\u4EE5\\u4E0B\\u4EE3\\u7801\\uFF0C\\u4FBF\\u53EF\\u4EE5\\u521B\\u5EFA\\u4E00\\u4E2A get \\u548C post \\u63A5\\u53E3\"}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-ts\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" cloud \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'@/cloud-sdk'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"exports\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"main\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"ctx\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" FunctionContext\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// body, query \\u4E3A\\u8BF7\\u6C42\\u53C2\\u6570, auth \\u662F\\u6388\\u6743\\u5BF9\\u8C61\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" auth\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" body\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" query\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" method \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` ctx\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"method \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"===\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'POST'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" db \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" cloud\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"database\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" r \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" db\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"collection\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'mdx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"add\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"body\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),` r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u6570\\u636E\\u5E93\\u64CD\\u4F5C\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" db \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" cloud\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"database\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" r \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" db\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"collection\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'mdx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"doc\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"query\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"id\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"get\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),` r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"POST \\u8BBF\\u95EE\\uFF0C\\u9ED8\\u8BA4\\u5C06 body \\u4E2D\\u7684\\u6570\\u636E\\u5168\\u90E8\\u4FDD\\u5B58\\uFF0Cget \\u8BBF\\u95EE\\uFF0C\\u901A\\u8FC7 id \\u67E5\\u8BE2\\u6570\\u636E\\u3002\"}),(0,n.jsxs)(e.p,{children:[\"\\u4FDD\\u5B58\\u540E\\u70B9\\u51FB\\u53D1\\u5E03\\uFF0C\\u5C31\\u53EF\\u4EE5\\u5728\\u63A7\\u5236\\u53F0\\u83B7\\u5F97 api url \",(0,n.jsx)(e.code,{children:\"https://XXXXX.lafyun.com:443/test-api\"})]}),(0,n.jsxs)(e.h2,{id:\"nextjs-\\u8BF7\\u6C42\\u8DEF\\u5F84\\u91CD\\u5199\",children:[(0,n.jsx)(e.a,{href:\"#nextjs-\\u8BF7\\u6C42\\u8DEF\\u5F84\\u91CD\\u5199\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Next.js \\u8BF7\\u6C42\\u8DEF\\u5F84\\u91CD\\u5199\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"api\\u9ED8\\u8BA4\\u5141\\u8BB8\\u8DE8\\u57DF\",src:\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e87b52015ca5485ea3dec26283998037~tplv-k3u1fbpfcp-watermark.image?\"})}),(0,n.jsx)(e.p,{children:\"laf \\u63D0\\u4F9B\\u7684 URL \\u9ED8\\u8BA4\\u662F\\u5141\\u8BB8\\u8DE8\\u57DF\\u7684\\uFF0C\\u5982\\u679C\\u6211\\u4EEC\\u4F7F\\u7528 create react app \\u521B\\u5EFA\\u5E94\\u7528\\uFF0C\\u90A3\\u4E48\\u901A\\u8FC7\\u63A7\\u5236\\u53F0\\u662F\\u53EF\\u4EE5\\u770B\\u5230\\u8BBF\\u95EE\\u7684\\u63A5\\u53E3\\uFF0C\\u4E3A\\u4E86\\u9632\\u6B62\\u5176\\u4ED6\\u4EBA\\u77E5\\u9053\\u4F60\\u7684 url\\uFF0C\\u6EE5\\u7528\\u6570\\u636E\\uFF0C\\u56E0\\u6B64\\u6211\\u4EEC\\u9009\\u62E9\\u4F7F\\u7528 Next.js \\u6765\\u5F00\\u53D1\\uFF0C\\u53EF\\u4EE5\\u5C06 api \\u914D\\u7F6E\\u5728\\u73AF\\u5883\\u53D8\\u91CF\\u4E2D\\uFF0C\\u901A\\u8FC7 Next.js \\u7684\\u8DEF\\u7531\\u91CD\\u5199\\u529F\\u80FD\\u3002\"}),(0,n.jsxs)(e.p,{children:[\"\\u5728 \",(0,n.jsx)(e.code,{children:\"next.config.js\"}),\" \\u6DFB\\u52A0\\u4EE5\\u4E0B\\u914D\\u7F6E\"]}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"rewrites\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"source\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'/api/:path*'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"destination\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"process\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"env\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"NEXT_PUBLIC_API_URL\"}),(0,n.jsx)(e.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token string\",children:\"/api/:path?secret=\"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"process\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"env\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"MY_SECRET_TOKEN\"}),(0,n.jsx)(e.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u6837\\u7528\\u6237\\u8BBF\\u95EE \",(0,n.jsx)(e.code,{children:\"http://localhost:3000/api/*\"}),\" \\u4E0B\\u7684\\u8DEF\\u5F84\\u5C31\\u4F1A\\u81EA\\u52A8\\u5E26\\u4E0A SECRET\\uFF0C\\u800C\\u8BBF\\u95EE\\u5730\\u5740\\u662F\\u770B\\u4E0D\\u5230\\u7684\"]}),(0,n.jsx)(e.p,{children:\"\\u5728\\u4E91\\u51FD\\u6570\\u88C5\\u52A0\\u5165\\u79D8\\u94A5\\u5224\\u65AD\\u5373\\u53EF\\u3002\"}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-ts\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" cloud \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'@/cloud-sdk'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"exports\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"main\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"ctx\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" FunctionContext\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" auth\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" body\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" query\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" method \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` ctx\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u52A0\\u5165\\u79D8\\u94A5\\u5224\\u65AD\\uFF0C\\u9632\\u6B62\\u6EE5\\u7528\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"query\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"secret \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"!==\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'MY_SECRET_TOKEN'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    ctx\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"response\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"status\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"403\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'\\u79D8\\u94A5\\u9519\\u8BEF\\uFF0C\\u65E0\\u6743\\u9650'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"method \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"===\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'POST'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" db \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" cloud\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"database\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" r \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" db\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"collection\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'mdx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"add\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"body\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),` r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u6570\\u636E\\u5E93\\u64CD\\u4F5C\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" db \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" cloud\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"database\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" r \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" db\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"collection\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'mdx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"doc\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"query\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"id\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"get\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),` r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\u8FD9\\u6837\\u522B\\u4EBA\\u77E5\\u9053\\u4F60\\u7684 url\\uFF0C\\u4E5F\\u65E0\\u6CD5\\u6EE5\\u7528\\u4F7F\\u7528\\u4E91\\u51FD\\u6570\\u63A5\\u53E3\\u4E86\\u3002\"}),(0,n.jsxs)(e.h2,{id:\"\\u90E8\\u7F72\",children:[(0,n.jsx)(e.a,{href:\"#\\u90E8\\u7F72\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u90E8\\u7F72\"]}),(0,n.jsx)(e.p,{children:\"\\u6700\\u540E\\uFF0C\\u90E8\\u7F72\\u6211\\u4EEC\\u76F4\\u63A5\\u4F7F\\u7528 vecel \\u90E8\\u7F72\\uFF0C\\u4E4B\\u524D\\u7684\\u6587\\u7AE0\\u4ECB\\u7ECD\\u8FC7\\u591A\\u6B21\\uFF0C\\u8FD9\\u91CC\\u5C31\\u4E0D\\u8D58\\u8FF0\\u4E86\"}),(0,n.jsxs)(e.h2,{id:\"\\u5C0F\\u7ED3\",children:[(0,n.jsx)(e.a,{href:\"#\\u5C0F\\u7ED3\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u5C0F\\u7ED3\"]}),(0,n.jsxs)(e.ol,{children:[(0,n.jsx)(e.li,{children:\"\\u672C\\u6587\\u4ECE\\u96F6\\u5F00\\u59CB\\u4F7F\\u7528 Monaco Editor \\u5F00\\u53D1\\u591A\\u6587\\u4EF6\\u7F16\\u8F91\\u5668\\uFF1B\"}),(0,n.jsx)(e.li,{children:\"\\u4F7F\\u7528 mdx \\u5B9E\\u73B0\\u5728\\u7EBF\\u7F16\\u8BD1\\uFF1B\"}),(0,n.jsx)(e.li,{children:\"\\u4E86\\u89E3\\u4E86 JavaScript clipboard api\\uFF0C\\u5B9E\\u73B0\\u526A\\u5207\\u677F\\u7684\\u52AB\\u6301\"}),(0,n.jsx)(e.li,{children:\"\\u4F7F\\u7528 laf \\u4E91\\u51FD\\u6570\\u548C\\u4E91\\u6570\\u636E\\u5F00\\u53D1\\u4E86 api \\u8282\\u8BFE\\uFF1B\"}),(0,n.jsx)(e.li,{children:\"\\u6700\\u540E\\u4F7F\\u7528 Next.js \\u7684\\u8DEF\\u7531\\u91CD\\u5199\\u529F\\u80FD\\uFF0C\\u9632\\u6B62\\u4E91\\u51FD\\u6570 api \\u7684\\u66B4\\u9732\\u3002\"})]}),(0,n.jsxs)(e.p,{children:[\"\\u597D\\u4E86\\uFF0C\\u4EE5\\u4E0A\\u5C31\\u662F\\u672C\\u6587\\u7684\\u5168\\u90E8\\u5185\\u5BB9\\uFF0C\\u4F60\\u5B66\\u4F1A\\u4E86\\u5417\\uFF1F\\u63A5\\u4E0B\\u6765\\u6211\\u5C06\\u7EE7\\u7EED\\u5206\\u4EAB Next.js \\u76F8\\u5173\\u7684\\u5B9E\\u6218\\u6587\\u7AE0\\uFF0C\\u6B22\\u8FCE\\u5404\\u4F4D\\u5173\\u6CE8\\u6211\\u7684\",(0,n.jsx)(e.a,{href:\"https://juejin.cn/column/7140121965360054308\",children:\"\\u300A Next.js \\u5168\\u6808\\u5F00\\u53D1\\u5B9E\\u6218\\u300B\"}),\" \\u4E13\\u680F\\uFF0C\\u611F\\u8C22\\u60A8\\u7684\\u9605\\u8BFB\\u3002\"]})]})}}var j=b;return f(v);})();\n;return Component;","toc":[{"value":"阅读本文，你将收获：","url":"#阅读本文你将收获","depth":2},{"value":"前言","url":"#前言","depth":2},{"value":"技术栈","url":"#技术栈","depth":2},{"value":"编辑器实现","url":"#编辑器实现","depth":2},{"value":"monaco-editor 实现 markdown 编辑器","url":"#monaco-editor-实现-markdown-编辑器","depth":3},{"value":"monaco-editor 实现多文件编辑","url":"#monaco-editor-实现多文件编辑","depth":3},{"value":"编译 mdx","url":"#编译-mdx","depth":3},{"value":"浏览器编译 react","url":"#浏览器编译-react","depth":3},{"value":"iframe 预览","url":"#iframe-预览","depth":3},{"value":"代码语法高亮","url":"#代码语法高亮","depth":3},{"value":"复制到微信公众号后台","url":"#复制到微信公众号后台","depth":2},{"value":"云函数开发接口","url":"#云函数开发接口","depth":2},{"value":"创建一个云函数","url":"#创建一个云函数","depth":3},{"value":"Next.js 请求路径重写","url":"#nextjs-请求路径重写","depth":2},{"value":"部署","url":"#部署","depth":2},{"value":"小结","url":"#小结","depth":2}],"frontMatter":{"readingTime":{"text":"17 min read","minutes":16.4,"time":984000,"words":3280},"slug":"Next.js 全栈开发微信公众号 Markdown 排版编辑器","fileName":"Next.js 全栈开发微信公众号 Markdown 排版编辑器.md","title":"Next.js 全栈开发微信公众号 Markdown 排版编辑器","date":"2022-11-29T16:42:25.000Z","lastmod":"2023/1/25 11:42:14","tags":["React.js","前端","Markdown"],"draft":false,"summary":"阅读本文，你将收获： 学会使用 Monaco Editor 开发多文件编辑器；学会使用 mdx 在线编译 ；实现剪切板的劫持；学会使用云函数和云数据写接口；","images":"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/722aa1c1cef346aba9cc4db65319fb69~tplv-k3u1fbpfcp-watermark.image?","authors":["default"],"layout":"PostLayout"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.19,"time":11400,"words":38},"slug":["default"],"fileName":"default.md","name":"随风","avatar":"/static/images/avatar.jpeg","occupation":"前端工程师","company":"分享 JavaScript 热门框架，记录前端工程师学习成长历程。","email":"tianping888@163.com","juejin":"https://juejin.cn","zhihu":"https://www.zhihu.com","github":"https://github.com/balac2015","date":null}],"prev":{"title":"如何避免 React hooks 闭包陷阱？","date":"2022-11-27T23:57:37.000Z","lastmod":"2023/1/25 11:42:16","tags":["React.js","掘金·金石计划"],"draft":false,"summary":"有时候我们使用了useMemo useCallback 来优化性能，这些函数与外围的 state 形成闭包，导致缓存函数中获取到的 state 不是最新的值，这就是闭包陷阱。","images":"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dc9a2de7e4874d37ba6010fac897d212~tplv-k3u1fbpfcp-watermark.image?","authors":["default"],"layout":"PostLayout","slug":"如何避免 React hooks 闭包陷阱？"},"next":{"title":"创建 React 应用的 7 种方式，你用过几种？","date":"2022-12-06T15:56:54.000Z","lastmod":"2023/1/25 11:42:13","tags":["React.js","掘金·金石计划"],"draft":false,"summary":"本文例举创建 react 应用的常见 7 种方式，首先，我们第一个是想到的是 react 官方团队提供的脚手架工具 Create React App(cra) 项目是零配置。","images":"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3f2429d85e694e2c83e047daf1b6f3c0~tplv-k3u1fbpfcp-watermark.image?","authors":["default"],"layout":"PostLayout","slug":"创建 React 应用的 7 种方式，你用过几种？"}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["Next.js 全栈开发微信公众号 Markdown 排版编辑器"]},"buildId":"xRVIygn0gkexXE3qpo3Pp","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>