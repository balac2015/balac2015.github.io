<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><title>油猴脚本开发教程</title><meta name="robots" content="follow, index"/><meta name="description" content="本文简单介绍了油猴脚本开发步骤以及实现，结合 webpack 让脚本实现工程化，并且配合 github action，让脚本实现自动化构建和部署。"/><meta property="og:url" content="https://github.com/balac2015/blog/%E6%B2%B9%E7%8C%B4%E8%84%9A%E6%9C%AC%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B"/><meta property="og:type" content="article"/><meta property="og:site_name" content="Coding 工坊 | 随风"/><meta property="og:description" content="本文简单介绍了油猴脚本开发步骤以及实现，结合 webpack 让脚本实现工程化，并且配合 github action，让脚本实现自动化构建和部署。"/><meta property="og:title" content="油猴脚本开发教程"/><meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1388cc913ee64f9c8bab6b1af5773c6b~tplv-k3u1fbpfcp-watermark.image?"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site"/><meta name="twitter:title" content="油猴脚本开发教程"/><meta name="twitter:description" content="本文简单介绍了油猴脚本开发步骤以及实现，结合 webpack 让脚本实现工程化，并且配合 github action，让脚本实现自动化构建和部署。"/><meta name="twitter:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1388cc913ee64f9c8bab6b1af5773c6b~tplv-k3u1fbpfcp-watermark.image?"/><meta property="article:published_time" content="2022-09-01T09:50:24.000Z"/><meta property="article:modified_time" content="2023-01-25T03:43:10.000Z"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://github.com/balac2015/blog/油猴脚本开发教程"
  },
  "headline": "油猴脚本开发教程",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1388cc913ee64f9c8bab6b1af5773c6b~tplv-k3u1fbpfcp-watermark.image?"
    }
  ],
  "datePublished": "2022-09-01T09:50:24.000Z",
  "dateModified": "2023-01-25T03:43:10.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "随风"
    }
  ],
  "publisher": {
    "@type": "Organization",
    "name": "随风",
    "logo": {
      "@type": "ImageObject",
      "url": "https://github.com/balac2015/static/images/logo.png"
    }
  },
  "description": "本文简单介绍了油猴脚本开发步骤以及实现，结合 webpack 让脚本实现工程化，并且配合 github action，让脚本实现自动化构建和部署。"
}</script><meta name="next-head-count" content="20"/><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" content="#000000"/><meta name="referrer" content="no-referrer"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="preload" href="/_next/static/css/abb8fa3e48c59e29.css" as="style"/><link rel="stylesheet" href="/_next/static/css/abb8fa3e48c59e29.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-1690aa2475cf3a90.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-b4cdd9636ac3694c.js" defer=""></script><script src="/_next/static/chunks/pages/_app-b326530c3f1b0167.js" defer=""></script><script src="/_next/static/chunks/410-dc08c716b48ef576.js" defer=""></script><script src="/_next/static/chunks/606-dfa1dde35c330eb8.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-a12f8dbad1f7fc24.js" defer=""></script><script src="/_next/static/xRVIygn0gkexXE3qpo3Pp/_buildManifest.js" defer=""></script><script src="/_next/static/xRVIygn0gkexXE3qpo3Pp/_ssgManifest.js" defer=""></script><script src="/_next/static/xRVIygn0gkexXE3qpo3Pp/_middlewareManifest.js" defer=""></script></head><body class="bg-white text-black antialiased dark:bg-gray-900 dark:text-white"><div id="__next" data-reactroot=""><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between"><header class="flex items-center justify-between py-10"><h1><a aria-label="随风小站" href="/"><div class="flex items-center justify-between"><span><svg width="52" height="26" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><image xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAaCAYAAADFTB7LAAAAAXNSR0IArs4c6QAAAHplWElmTU0AKgAAAAgAAwESAAMAAAABAAEAAAExAAIAAAAeAAAAModpAAQAAAABAAAAUAAAAABBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKQAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAAGgAAAACQIupnAAAEEWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ2RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQ1RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQzRkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ0RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo0psFQAAACSElEQVRYCc2WMUhVURjH79VQEISKDAfFAqVBbHDOLcFNB0scinJrkrbarMFBEAxSQXCJWuQNurgIEoJTOBRSrdFghqZgaIWv5+8v56qvd73vnKM37gc/znnnfN//+99z73v3BYFFFAqFengB67ALc9BsUZpuCiYuwjD8hH9jk4Vb6TpIUKf5Q9g44SrPfBam4a9Z32O8myCTzhZNnxsDGvbhDbRG3Zg/gD+gkPHBaC/1kWY9EJ3QW+YtcU1Z74IdiGKESRiXe25rNLgOW6ajvghVSeLst8OaydfwCi4k1XjvIVwF70CxAjU2YuRdg48QRY5JpU2tUw6io6bDV8YGl2LyL8Oyqdcw4lJfNhdBPU967rahrWxBTAJ1NaBnViGtzpg09yWE6kDPkb6tt90VjiuM1hdGhcba413PGSIvpUY88pQoKkOnA3SxiomiTZ8PiOj0Fn1qT6tBbwgUutUdp+VZrSOgq31mlWyZhF4lLIHiM1RblpakVbDyA/ZKds6wEIZhnvJ7sAU34Cn4hbnCJ37VyVVo94LiF8S+kZIVgkAnqKtMJTjJHMJToFs87tNEBjd9Ch1qHpP7CTo5xTsOdYepMrjhWuSSzynukt8Pv2EMk00u9f/jBANMvsfUfbgCeiVavxAigwWXq/LJxeQMdfpNXIcFTM5DH1xN0gtJGCChGoHJpMTz2qOf/jPKaDfchEvwHVbhAz5eMx6F/rtps/FoJeUJBnS3lgxlu+kW68gzGzK4lll3GJPBb5DPqskKnol9YzKTHg8A2r/9Qs/XFFsAAAAASUVORK5CYII=" height="26" width="40"></image><image href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAaCAYAAADFTB7LAAAAAXNSR0IArs4c6QAAAHplWElmTU0AKgAAAAgAAwESAAMAAAABAAEAAAExAAIAAAAeAAAAModpAAQAAAABAAAAUAAAAABBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKQAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAAGgAAAACQIupnAAAEEWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ2RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQ1RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQzRkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ0RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo0psFQAAACSElEQVRYCc2WMUhVURjH79VQEISKDAfFAqVBbHDOLcFNB0scinJrkrbarMFBEAxSQXCJWuQNurgIEoJTOBRSrdFghqZgaIWv5+8v56qvd73vnKM37gc/znnnfN//+99z73v3BYFFFAqFengB67ALc9BsUZpuCiYuwjD8hH9jk4Vb6TpIUKf5Q9g44SrPfBam4a9Z32O8myCTzhZNnxsDGvbhDbRG3Zg/gD+gkPHBaC/1kWY9EJ3QW+YtcU1Z74IdiGKESRiXe25rNLgOW6ajvghVSeLst8OaydfwCi4k1XjvIVwF70CxAjU2YuRdg48QRY5JpU2tUw6io6bDV8YGl2LyL8Oyqdcw4lJfNhdBPU967rahrWxBTAJ1NaBnViGtzpg09yWE6kDPkb6tt90VjiuM1hdGhcba413PGSIvpUY88pQoKkOnA3SxiomiTZ8PiOj0Fn1qT6tBbwgUutUdp+VZrSOgq31mlWyZhF4lLIHiM1RblpakVbDyA/ZKds6wEIZhnvJ7sAU34Cn4hbnCJ37VyVVo94LiF8S+kZIVgkAnqKtMJTjJHMJToFs87tNEBjd9Ch1qHpP7CTo5xTsOdYepMrjhWuSSzynukt8Pv2EMk00u9f/jBANMvsfUfbgCeiVavxAigwWXq/LJxeQMdfpNXIcFTM5DH1xN0gtJGCChGoHJpMTz2qOf/jPKaDfchEvwHVbhAz5eMx6F/rtps/FoJeUJBnS3lgxlu+kW68gzGzK4lll3GJPBb5DPqskKnol9YzKTHg8A2r/9Qs/XFFsAAAAASUVORK5CYII=" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAaCAYAAADFTB7LAAAAAXNSR0IArs4c6QAAAHplWElmTU0AKgAAAAgAAwESAAMAAAABAAEAAAExAAIAAAAeAAAAModpAAQAAAABAAAAUAAAAABBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKQAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAAGgAAAACQIupnAAAEEWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ2RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQ1RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjdFNDI1QUQzRkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOjdFNDI1QUQ0RkQxNzExRTg5RUUyRDA2RDA3NDUyMUM1PC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo0psFQAAACSElEQVRYCc2WMUhVURjH79VQEISKDAfFAqVBbHDOLcFNB0scinJrkrbarMFBEAxSQXCJWuQNurgIEoJTOBRSrdFghqZgaIWv5+8v56qvd73vnKM37gc/znnnfN//+99z73v3BYFFFAqFengB67ALc9BsUZpuCiYuwjD8hH9jk4Vb6TpIUKf5Q9g44SrPfBam4a9Z32O8myCTzhZNnxsDGvbhDbRG3Zg/gD+gkPHBaC/1kWY9EJ3QW+YtcU1Z74IdiGKESRiXe25rNLgOW6ajvghVSeLst8OaydfwCi4k1XjvIVwF70CxAjU2YuRdg48QRY5JpU2tUw6io6bDV8YGl2LyL8Oyqdcw4lJfNhdBPU967rahrWxBTAJ1NaBnViGtzpg09yWE6kDPkb6tt90VjiuM1hdGhcba413PGSIvpUY88pQoKkOnA3SxiomiTZ8PiOj0Fn1qT6tBbwgUutUdp+VZrSOgq31mlWyZhF4lLIHiM1RblpakVbDyA/ZKds6wEIZhnvJ7sAU34Cn4hbnCJ37VyVVo94LiF8S+kZIVgkAnqKtMJTjJHMJToFs87tNEBjd9Ch1qHpP7CTo5xTsOdYepMrjhWuSSzynukt8Pv2EMk00u9f/jBANMvsfUfbgCeiVavxAigwWXq/LJxeQMdfpNXIcFTM5DH1xN0gtJGCChGoHJpMTz2qOf/jPKaDfchEvwHVbhAz5eMx6F/rtps/FoJeUJBnS3lgxlu+kW68gzGzK4lll3GJPBb5DPqskKnol9YzKTHg8A2r/9Qs/XFFsAAAAASUVORK5CYII=" height="26" width="40" x="15"></image></svg></span><div class="hidden text-2xl font-semibold sm:block">随风小站</div></div></a></h1><div class="flex items-center text-base leading-5"><div class="hidden sm:block"><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/blog">文章</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/tags">标签</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/projects">项目</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/boilerplate">模板</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/about">关于</a></div><div class="ml-1 mr-1 flex items-center sm:ml-4"><a class="block p-1" title="RSS" href="/feed.xml"><svg fill="currentColor" class="h-5 w-5" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M3.75 3a.75.75 0 00-.75.75v.5c0 .414.336.75.75.75H4c6.075 0 11 4.925 11 11v.25c0 .414.336.75.75.75h.5a.75.75 0 00.75-.75V16C17 8.82 11.18 3 4 3h-.25z"></path><path d="M3 8.75A.75.75 0 013.75 8H4a8 8 0 018 8v.25a.75.75 0 01-.75.75h-.5a.75.75 0 01-.75-.75V16a6 6 0 00-6-6h-.25A.75.75 0 013 9.25v-.5zM7 15a2 2 0 11-4 0 2 2 0 014 0z"></path></svg></a><button aria-label="Toggle Dark Mode" type="button" class="h-7 w-7 rounded p-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button></div><div class="sm:hidden"><button type="button" class="ml-1 mr-1 h-8 w-8 rounded py-1" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed top-0 left-0 z-50 h-full w-full transform bg-gray-200 opacity-95 duration-300 ease-in-out dark:bg-gray-800 translate-x-full"><div class="flex justify-end"><button type="button" class="mr-5 mt-11 h-8 w-8 rounded" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><nav class="mt-8 h-full"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/blog">文章</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">标签</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/projects">项目</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/boilerplate">模板</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/about">关于</a></div></nav></div></div></div></header><main class="mb-auto"><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div style="transform:translateX(-100%)" class="fixed top-0 left-0 h-1 w-full bg-primary-500 backdrop-blur-3xl transition-transform duration-150"></div><div class="fixed right-8 bottom-8 hidden flex-col gap-3 md:hidden"><button aria-label="Scroll To Comment" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path></svg></button><button aria-label="Scroll To Top" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div class="xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700"><header class="pt-6 xl:pb-6"><div class="space-y-1 text-center"><dl class="space-y-10"><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2022-09-01T09:50:24.000Z">2022年9月1日星期四</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">油猴脚本开发教程</h1></div></div></header><div class="divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6 xl:divide-y-0" style="grid-template-rows:auto 1fr"><div class=""><dl class="pt-6 pb-10 xl:border-b xl:border-gray-200 xl:pt-11 xl:dark:border-gray-700"><dt class="sr-only">Authors</dt><dd><ul class="flex justify-center space-x-8 sm:space-x-12 xl:block xl:space-x-0 xl:space-y-8"><li class="flex items-center space-x-2"><img alt="avatar" src="/static/images/avatar.jpeg" width="38px" height="38px" class="h-10 w-10 rounded-full"/><dl class="whitespace-nowrap text-sm font-medium leading-5"><dt class="sr-only">作者</dt><dd class="text-gray-900 dark:text-gray-100">随风</dd></dl></li></ul></dd></dl><h2 class="pt-6 text-xs font-bold uppercase tracking-wide text-gray-500 dark:text-gray-400">目录</h2><ul class="py-4 text-sm font-medium leading-relaxed xl:border-b xl:border-gray-200 xl:dark:border-gray-700"><li class="false"><a class="text-primary-500" href="#highlight-monokai">highlight: monokai</a></li><li class="false"><a class="text-primary-500" href="#前言">前言</a></li><li class="false"><a class="text-primary-500" href="#什么是油猴脚本">什么是油猴脚本</a></li><li class="false"><a class="text-primary-500" href="#新建脚本">新建脚本</a></li><li class="false"><a class="text-primary-500" href="#csdn-免登录复制">CSDN 免登录复制</a></li><li class="false"><a class="text-primary-500" href="#添加样式">添加样式</a></li><li class="false"><a class="text-primary-500" href="#网络请求">网络请求</a></li><li class="false"><a class="text-primary-500" href="#右键搜索">右键搜索</a></li><li class="false"><a class="text-primary-500" href="#脚本发布">脚本发布</a></li><li class="false"><a class="text-primary-500" href="#前端工程化">前端工程化</a></li><li class="false"><a class="text-primary-500" href="#cicd">CICD</a></li><li class="false"><a class="text-primary-500" href="#小结">小结</a></li></ul></div><div class="xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="mt-6"><img alt="油猴脚本开发教程" class="w-full rounded object-cover shadow-lg" src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1388cc913ee64f9c8bab6b1af5773c6b~tplv-k3u1fbpfcp-watermark.image?"/></div><div class="prose max-w-none break-words pt-10 pb-8 dark:prose-dark"><hr/><h2 id="highlight-monokai"><a href="#highlight-monokai" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>highlight: monokai</h2><h2 id="前言"><a href="#前言" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>前言</h2><p>如何跟普通朋友介绍前端工程师是一个怎样的职位? 我会毫不犹豫的给他的浏览器装上 Tampermonkey，再装一个<a target="_blank" rel="noopener noreferrer" href="https://greasyfork.org/zh-CN/scripts/439420-%E5%B1%8F%E8%94%BD%E5%B9%BF%E5%91%8A-%E5%B1%8F%E8%94%BD%E8%B0%B7%E6%AD%8C%E5%B9%BF%E5%91%8A-%E7%99%BE%E5%BA%A6%E5%B9%BF%E5%91%8A-%E7%9F%A5%E4%B9%8E%E5%B9%BF%E5%91%8A-%E9%9A%90%E8%97%8F%E8%B0%B7%E6%AD%8C%E5%92%8C%E7%99%BE%E5%BA%A6%E6%90%9C%E7%B4%A2%E5%A2%9E%E5%BC%BA%E7%99%BE%E5%BA%A6%E6%90%9C%E7%B4%A2%E7%BB%93%E6%9E%9C%E7%9A%84%E5%90%84%E7%A7%8D%E5%B9%BF%E5%91%8A%E7%AD%89%E7%AD%89-%E8%BF%87%E6%BB%A4%E6%89%80%E6%9C%89%E9%87%87%E7%94%A8%E8%B0%B7%E6%AD%8C%E8%81%94%E7%9B%9F%E5%92%8C%E7%99%BE%E5%BA%A6%E8%81%94%E7%9B%9F%E7%AD%89%E5%B9%BF%E5%91%8A%E8%81%94%E7%9B%9F%E7%9A%84%E5%B9%BF%E5%91%8A" title="去广告插件">去广告插件</a>，他们肯定会觉得你很牛逼，然后再问问他们，有些时候想复制某度文档，却复制不了，再给他们装一个 XX 文库的<a target="_blank" rel="noopener noreferrer" href="https://greasyfork.org/zh-CN/scripts/405130-%E6%96%87%E6%9C%AC%E9%80%89%E4%B8%AD%E5%A4%8D%E5%88%B6/code" title="选中复制插件">选中复制插件</a>，瞬间成就感拉满，前端工程师就是干这个事的，笔者之前也写了几个油猴脚本，接下来我就分享下写脚本的经验，一起来看看吧。</p><h2 id="什么是油猴脚本"><a href="#什么是油猴脚本" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>什么是油猴脚本</h2><p><a target="_blank" rel="noopener noreferrer" href="https://www.tampermonkey.net" title="Tampermonkey">Tampermonkey</a> 是一款免费的浏览器扩展和最为流行的用户脚本管理器，它适用于 Chrome, Microsoft Edge, Safari, Opera Next, 和 Firefox。</p><p>「油猴脚本」是一段脚本代码，通过它可以让浏览器实现各种各样的扩展功能，和浏览器扩展的作用类似。 比如获去链接重定向、微博页面精简、去广告等，相当于给浏览器开了个挂，可以说是浏览器的辅助神器了！但浏览器扩展若要发布到 chrome 扩展市场，需要支付 5 美元，但「油猴脚本」可以随时随地发布，不需要支付任何费用费用。</p><h2 id="新建脚本"><a href="#新建脚本" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>新建脚本</h2><p>在脚本管理控制台，右上角的<code>+</code>添加按钮，新建一个脚本，默认会包含以下代码：</p><p><img alt="新建脚本" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/197623e925af452ea8d050e4425030d3~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>最上面的注释不能删除，Tampermonkey 就通过注释代码来配置脚本字段的</p><ul><li><p><code>@match</code> 用来匹配注入脚本网址的 url 其中 * 代表一个或者多个任意字符</p><p>若要匹配 baidu 域名下的任意网页可以使用 <code>*://*.baidu.com/*</code>;</p><p>若要匹配任意网址，可以使用<code>*://*/*</code></p></li><li><p><code>@require</code> 代表要注入的公用 JS 库</p><p>比如要使用 jquery，可以使用以下代码</p></li></ul><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token comment">// @require https://code.jquery.com/jquery-2.1.4.min.js</span>
</span><span class="code-line"><span class="token comment">// @require tampermonkey://vendor/jquery.js</span>
</span><span class="code-line"><span class="token comment">// @require tampermonkey://vendor/jszip/jszip.js</span>
</span></code></pre></div><h2 id="csdn-免登录复制"><a href="#csdn-免登录复制" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>CSDN 免登录复制</h2><p>比如 CSDN 中代码块复制必须要登录后才可以复制， 那么我们就可以写一个脚本，输入以下代码</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token comment">// ==UserScript==</span>
</span><span class="code-line"><span class="token comment">// @name         CSDN 免登录复制</span>
</span><span class="code-line"><span class="token comment">// @version      0.1</span>
</span><span class="code-line"><span class="token comment">// @description  try to take over the world!</span>
</span><span class="code-line"><span class="token comment">// @match        *://*.csdn.net/*</span>
</span><span class="code-line"><span class="token comment">// @require      tampermonkey://vendor/jquery.js</span>
</span><span class="code-line"><span class="token comment">// @grant        none</span>
</span><span class="code-line"><span class="token comment">// ==/UserScript==</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token string">&#x27;use strict&#x27;</span>
</span><span class="code-line">  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#x27;pre,code&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access function method">css</span><span class="token punctuation">(</span><span class="token string">&#x27;user-select&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;auto&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></code></pre></div><p>保存后，重新刷新浏览器，在右上角的扩展标志中会向上一个<code>1</code>, 说明有一个扩展作用于这个网页，脚本注入成功。</p><p><img alt="CSDN 免登录复制" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e262e2c29882467dacf6d579b201741b~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>其实就是一行代码，CSDN 的默认代码块的样式是 <code>user-select: none;</code>，不能复制，改成 <code>auto</code> 后就可以复制了。</p><h2 id="添加样式"><a href="#添加样式" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>添加样式</h2><p>首先需要在最上面的注释中开启权限 <code>@grant</code> <code>GM_addStyle</code>，然后就可以使用内置的 <code>GM_addStyle</code> 方法了。</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token comment">// ==UserScript==</span>
</span><span class="code-line"><span class="token comment">// @grant        GM_addStyle</span>
</span><span class="code-line"><span class="token comment">// ==/UserScript==</span>
</span><span class="code-line"><span class="token function"><span class="token maybe-class-name">GM_addStyle</span></span><span class="token punctuation">(</span><span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string">pre,code{user-select:auto !important}.signin{display: none !important;}</span><span class="token string template-punctuation">`</span></span><span class="token punctuation">)</span>
</span></code></pre></div><p>这样也可以解决 CSDN 代码块不能复制的问题，顺便将代码块后面的<code>登录后复制</code>按钮隐藏；</p><p>当然我们也可以使用 JS 自己实现</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword">const</span> heads <span class="token operator">=</span> <span class="token variable dom">document</span><span class="token punctuation">.</span><span class="token property-access function method">querySelector</span><span class="token punctuation">(</span><span class="token string">&#x27;head&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">const</span> style <span class="token operator">=</span> <span class="token variable dom">document</span><span class="token punctuation">.</span><span class="token property-access function method">createElement</span><span class="token punctuation">(</span><span class="token string">&#x27;style&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">style<span class="token punctuation">.</span><span class="token property-access function method">setAttribute</span><span class="token punctuation">(</span><span class="token string">&#x27;type&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;text/css&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">style<span class="token punctuation">.</span><span class="token property-access">innerHTML</span> <span class="token operator">=</span> <span class="token template-string"><span class="token string template-punctuation">`</span><span class="token html language-html">pre,code{user-select:auto !important}.signin{display: none !important;}</span><span class="token string template-punctuation">`</span></span>
</span><span class="code-line">heads<span class="token punctuation">.</span><span class="token property-access function method">append</span><span class="token punctuation">(</span>style<span class="token punctuation">)</span>
</span></code></pre></div><h2 id="网络请求"><a href="#网络请求" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>网络请求</h2><p>一般前端脚本都是修改前端网页内容，若复杂一点的脚本，可能会涉及到动态数据，比如我们在脚本中直接写<code>fetch</code> 请求，这时浏览器肯定会阻止请求，因为跨域了。</p><p>我们需要使用脚本的内置方法</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token comment">// ==UserScript==</span>
</span><span class="code-line"><span class="token comment">// @grant        GM_xmlhttpRequest</span>
</span><span class="code-line"><span class="token comment">// ==/UserScript==</span>
</span><span class="code-line"><span class="token function"><span class="token maybe-class-name">GM_xmlhttpRequest</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property literal-property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;content-type&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;application/json&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property literal-property">responseType</span><span class="token operator">:</span> <span class="token string">&#x27;json&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property literal-property">url</span><span class="token operator">:</span> <span class="token string">&#x27;https://api.juejin.cn/recommend_api/v1/article/recommend_cate_feed&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property literal-property">data</span><span class="token operator">:</span> <span class="token string">&#x27;{&quot;id_type&quot;:2,&quot;sort_type&quot;:200,&quot;cate_id&quot;:&quot;6809637767543259144&quot;,&quot;cursor&quot;:&quot;0&quot;,&quot;limit&quot;:20}&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property literal-property">method</span><span class="token operator">:</span> <span class="token string">&#x27;POST&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token function function-variable">onreadystatechange</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token property-access">readyState</span> <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token class-name console">console</span><span class="token punctuation">.</span><span class="token property-access function method">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token property-access">response</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></code></pre></div><p>在最上面的注释中开启权限 <code>@grant</code> <code>GM_xmlhttpRequest</code>，然后就可以使用内置的 <code>GM_xmlhttpRequest</code> 方法了。</p><p>比如把接口换成有道翻译的 api。通过 <code>document.getSelection().toString();</code> 获取网页中的选中文本，便可以实现一个划词翻译油猴插件了。 <img alt="划词翻译" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7059031b3d2e48c89de37d7573628b13~tplv-k3u1fbpfcp-zoom-1.image"/></p><h2 id="右键搜索"><a href="#右键搜索" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>右键搜索</h2><p>接下来我们将结合右键菜单和打开新窗口的内置函数，实现一个快捷搜索的功能， 同样内置函数需要在最上面的注释中加入权限，代码如下：</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token comment">// ==UserScript==</span>
</span><span class="code-line"><span class="token comment">// @grant        GM_registerMenuCommand</span>
</span><span class="code-line"><span class="token comment">// @grant        GM_openInTab</span>
</span><span class="code-line"><span class="token comment">// ==/UserScript==</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function"><span class="token maybe-class-name">GM_registerMenuCommand</span></span><span class="token punctuation">(</span><span class="token string">&#x27;GitHub 搜索&#x27;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token variable dom">document</span><span class="token punctuation">.</span><span class="token property-access function method">getSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access function method">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function"><span class="token maybe-class-name">GM_openInTab</span></span><span class="token punctuation">(</span><span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string">https://github.com/search?q=</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>str<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string template-punctuation">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token property literal-property">active</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function"><span class="token maybe-class-name">GM_registerMenuCommand</span></span><span class="token punctuation">(</span><span class="token string">&#x27;NPM 搜索&#x27;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token variable dom">document</span><span class="token punctuation">.</span><span class="token property-access function method">getSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access function method">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function"><span class="token maybe-class-name">GM_openInTab</span></span><span class="token punctuation">(</span><span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string">https://www.npmjs.com/search?q=</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>str<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string template-punctuation">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token property literal-property">active</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></code></pre></div><p><img alt="右键搜索" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c545654833bf40178d3ab748f9e2473c~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>这样就有了快捷菜单搜索的功能，只是操作挂着 3 级目录下，操作有些不方便。</p><p>以上简单介绍了脚本的开发以及一些简单实现，但这个脚本我们只能在自己电脑使用，若想让其他小伙伴也能够使用，我们需要将脚本发布到脚本脚本市场，供其他小伙伴下载。</p><h2 id="脚本发布"><a href="#脚本发布" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>脚本发布</h2><p>一个非常流行的脚本共享网站便是 <a target="_blank" rel="noopener noreferrer" href="https://greasyfork.org/zh-CN" title="greasyfork.org">greasyfork.org</a>，有着非常丰富的脚本，并且支持多语言。</p><p><img alt="greasyfork 脚本发布" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/27eac042636448e587f241bf6e9ec46d~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>注册账号后，点击右上角的<code>用户名</code>，然后点击控制台中的<code>发布你编写的脚本</code>，贴入你写的脚本代码，便可以发布成功！将发布后的链接发送个小伙伴，就可以让他们安装你写的脚本了，你也可以在上面根据匹配域名搜索相关脚本，看大神们是如何来写脚本的。</p><h2 id="前端工程化"><a href="#前端工程化" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>前端工程化</h2><p>现代前端开发已经离不开前端框架，若直接使用原生 JS 让我们写复杂的功能，难免会让我们崩溃，比如需要在 JS 中写 CSS，一不小心写错就会让整个脚本无法执行。所以我们可以使用 webpack 来构建一个工程化的项目。 并且使用 Typescript 和 eslint ，让我们的前端工程健全。</p><p>下面是 <code>webpack.config.js</code></p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;webpack&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;fs&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;path&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property literal-property">entry</span><span class="token operator">:</span> <span class="token string">&#x27;./src/index.tsx&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token property literal-property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property literal-property">clean</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property literal-property">iife</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property literal-property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token property-access function method">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#x27;dist&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property literal-property">filename</span><span class="token operator">:</span> <span class="token string">&#x27;bundle.js&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property literal-property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">static</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property literal-property">directory</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token property-access function method">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#x27;public&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property literal-property">compress</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property literal-property">port</span><span class="token operator">:</span> <span class="token number">9000</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token comment">// 脚本发布后，会被举报，不允许压缩</span>
</span><span class="code-line">  <span class="token property literal-property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property literal-property">minimize</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property literal-property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property literal-property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">      <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token property literal-property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token language-regex regex-source"><span class="token escape special-escape">\.</span><span class="token punctuation group">(</span>js<span class="token keyword alternation">|</span>jsx<span class="token punctuation group">)</span><span class="token function anchor">$</span></span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property literal-property">use</span><span class="token operator">:</span> <span class="token string">&#x27;babel-loader&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property literal-property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token language-regex regex-source">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token property literal-property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token language-regex regex-source"><span class="token escape special-escape">\.</span>css<span class="token function anchor">$</span></span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property literal-property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">          <span class="token punctuation">{</span>
</span><span class="code-line">            <span class="token property literal-property">loader</span><span class="token operator">:</span> <span class="token string">&#x27;style-loader&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">            <span class="token property literal-property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">          <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">          <span class="token punctuation">{</span> <span class="token property literal-property">loader</span><span class="token operator">:</span> <span class="token string">&#x27;css-loader&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token property literal-property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token language-regex regex-source"><span class="token escape special-escape">\.</span>ts<span class="token punctuation group">(</span>x<span class="token punctuation group">)</span><span class="token number quantifier">?</span><span class="token function anchor">$</span></span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property literal-property">loader</span><span class="token operator">:</span> <span class="token string">&#x27;ts-loader&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property literal-property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token language-regex regex-source">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property literal-property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">BannerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property literal-property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property literal-property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;.tsx&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;.ts&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;.js&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> config
</span></code></pre></div><p>使用 <code>style-loader</code>，在 webpack 打包后，会自动将 css 样式通过 style 标签插入到 head 中，这样就做到了 css 和 js 分离。 这里有个问题，就是油猴脚本特有的代码前置注释 <code>==UserScript==</code>，在 webpack 打包后会被删除，所以我们得自己实现一个插件，将这段注释加回来。</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token maybe-class-name">ConcatSource</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;webpack-sources&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">ConcatSource</span></span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment doc-comment">/**
</span></span><span class="code-line"><span class="token comment doc-comment"> * 添加前缀注释
</span></span><span class="code-line"><span class="token comment doc-comment"> */</span>
</span><span class="code-line"><span class="token keyword">class</span> <span class="token class-name">BannerPlugin</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">let</span> banner <span class="token operator">=</span> <span class="token string">&#x27;&#x27;</span>
</span><span class="code-line">    <span class="token keyword">const</span> entryFile <span class="token operator">=</span> compiler<span class="token punctuation">.</span><span class="token property-access">options</span><span class="token punctuation">.</span><span class="token property-access">entry</span><span class="token punctuation">.</span><span class="token property-access">main</span><span class="token punctuation">.</span><span class="token keyword module">import</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">const</span> res <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token property-access function method">readFileSync</span><span class="token punctuation">(</span>entryFile<span class="token punctuation">,</span> <span class="token string">&#x27;utf-8&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token keyword">const</span> matched <span class="token operator">=</span> res<span class="token punctuation">.</span><span class="token property-access function method">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token language-regex regex-source"><span class="token punctuation group">(</span><span class="token escape">\/</span><span class="token escape">\/</span><span class="token class-name char-set">\s</span>==UserScript==<span class="token punctuation group">)</span><span class="token punctuation group">(?&lt;<span class="token variable group-name">content</span>&gt;</span><span class="token punctuation group">(</span><span class="token escape">\n</span><span class="token class-name char-set">.</span><span class="token number quantifier">+</span><span class="token punctuation group">)</span><span class="token number quantifier">+</span><span class="token punctuation group">)</span><span class="token punctuation group">(</span><span class="token escape">\n</span><span class="token escape">\/</span><span class="token escape">\/</span><span class="token class-name char-set">\s</span>==<span class="token escape">\/</span>UserScript==<span class="token punctuation group">)</span></span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>matched <span class="token operator">&amp;&amp;</span> matched<span class="token punctuation">.</span><span class="token property-access">groups</span><span class="token punctuation">.</span><span class="token property-access">content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      banner <span class="token operator">=</span> <span class="token string">&#x27;// ==UserScript==&#x27;</span> <span class="token operator">+</span> matched<span class="token punctuation">.</span><span class="token property-access">groups</span><span class="token punctuation">.</span><span class="token property-access">content</span> <span class="token operator">+</span> <span class="token string">&#x27;\n// ==/UserScript==\n&#x27;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">    compiler<span class="token punctuation">.</span><span class="token property-access">hooks</span><span class="token punctuation">.</span><span class="token property-access">emit</span><span class="token punctuation">.</span><span class="token property-access function method">tap</span><span class="token punctuation">(</span><span class="token string">&#x27;BannerPlugin&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">compilation</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">      compilation<span class="token punctuation">.</span><span class="token property-access">chunks</span><span class="token punctuation">.</span><span class="token property-access function method">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">chunk</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token comment">// 最终生成的文件的集合</span>
</span><span class="code-line">        chunk<span class="token punctuation">.</span><span class="token property-access">files</span><span class="token punctuation">.</span><span class="token property-access function method">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">fileName</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">          compilation<span class="token punctuation">.</span><span class="token property-access">assets</span><span class="token punctuation">[</span>fileName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcatSource</span><span class="token punctuation">(</span>banner<span class="token punctuation">,</span> compilation<span class="token punctuation">.</span><span class="token property-access">assets</span><span class="token punctuation">[</span>fileName<span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line">        <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>上述代码通过正则匹配 <code>==UserScript==</code> 之间的代码，并且将匹配的内容合并到了最后的代码 <code>chunk</code> 中。</p><h2 id="cicd"><a href="#cicd" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>CICD</h2><p>若我们每次打包后的 JS 都需要手动拷贝到 <code>greasyfork.org</code> 未免有些麻烦，得益于 <code>greasyfork.org</code> 有个自动发布的功能，我们可以配合 GitHub actions 来实现自动发布。</p><p>在项目文件夹下建立 <code>.github/workflows/build.yml</code>， 输入以下代码</p><div class="relative"><pre><code class="code-highlight language-yml"><span class="code-line"><span class="token atrule key">name</span><span class="token punctuation">:</span> GitHub Pages
</span><span class="code-line">
</span><span class="code-line"><span class="token atrule key">on</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">push</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">branches</span><span class="token punctuation">:</span>
</span><span class="code-line">      <span class="token punctuation">-</span> main
</span><span class="code-line">  <span class="token atrule key">pull_request</span><span class="token punctuation">:</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token atrule key">jobs</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">deploy</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span><span class="token number">20.04</span>
</span><span class="code-line">    <span class="token atrule key">permissions</span><span class="token punctuation">:</span>
</span><span class="code-line">      <span class="token atrule key">contents</span><span class="token punctuation">:</span> write
</span><span class="code-line">    <span class="token atrule key">concurrency</span><span class="token punctuation">:</span>
</span><span class="code-line">      <span class="token atrule key">group</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> github.workflow <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">-</span>$<span class="token punctuation">{</span><span class="token punctuation">{</span> github.ref <span class="token punctuation">}</span><span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token atrule key">steps</span><span class="token punctuation">:</span>
</span><span class="code-line">      <span class="token punctuation">-</span> <span class="token atrule key">uses</span><span class="token punctuation">:</span> actions/checkout@v3
</span><span class="code-line">
</span><span class="code-line">      <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> Setup Node
</span><span class="code-line">        <span class="token atrule key">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v3
</span><span class="code-line">        <span class="token atrule key">with</span><span class="token punctuation">:</span>
</span><span class="code-line">          <span class="token atrule key">node-version</span><span class="token punctuation">:</span> <span class="token string">&#x27;14&#x27;</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> Get yarn cache
</span><span class="code-line">        <span class="token atrule key">id</span><span class="token punctuation">:</span> yarn<span class="token punctuation">-</span>cache
</span><span class="code-line">        <span class="token atrule key">run</span><span class="token punctuation">:</span> echo &quot;<span class="token punctuation">:</span><span class="token punctuation">:</span>set<span class="token punctuation">-</span>output name=dir<span class="token punctuation">:</span><span class="token punctuation">:</span>$(yarn cache dir)&quot;
</span><span class="code-line">
</span><span class="code-line">      <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> Cache dependencies
</span><span class="code-line">        <span class="token atrule key">uses</span><span class="token punctuation">:</span> actions/cache@v2
</span><span class="code-line">        <span class="token atrule key">with</span><span class="token punctuation">:</span>
</span><span class="code-line">          <span class="token atrule key">path</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> steps.yarn<span class="token punctuation">-</span>cache.outputs.dir <span class="token punctuation">}</span><span class="token punctuation">}</span>
</span><span class="code-line">          <span class="token atrule key">key</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> runner.os <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">-</span>yarn<span class="token punctuation">-</span>$<span class="token punctuation">{</span><span class="token punctuation">{</span> hashFiles(&#x27;<span class="token important">**/yarn.lock&#x27;)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
</span><span class="code-line">          <span class="token atrule key">restore-keys</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token string scalar">
</span></span><span class="code-line"><span class="token string scalar">            ${{ runner.os }}-yarn-</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token punctuation">-</span> <span class="token atrule key">run</span><span class="token punctuation">:</span> yarn install
</span><span class="code-line">      <span class="token punctuation">-</span> <span class="token atrule key">run</span><span class="token punctuation">:</span> yarn build
</span><span class="code-line">
</span><span class="code-line">      <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> Deploy
</span><span class="code-line">        <span class="token atrule key">uses</span><span class="token punctuation">:</span> peaceiris/actions<span class="token punctuation">-</span>gh<span class="token punctuation">-</span>pages@v3
</span><span class="code-line">        <span class="token atrule key">if</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> github.ref == &#x27;refs/heads/main&#x27; <span class="token punctuation">}</span><span class="token punctuation">}</span>
</span><span class="code-line">        <span class="token atrule key">with</span><span class="token punctuation">:</span>
</span><span class="code-line">          <span class="token atrule key">github_token</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.GITHUB_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span>
</span><span class="code-line">          <span class="token atrule key">publish_dir</span><span class="token punctuation">:</span> ./dist
</span></code></pre></div><p>当我们把代码提交到 Github ，就会自动触发 workflow ，依次执行 <code>yarn install</code> 、<code>yarn build</code> 并且自动将 <code>dist</code> 目录下的代码自动部署到 GitHub pages。</p><p>接下来我们复制 pages 中的 raw 源文件地址</p><p><img alt="github 源文件地址" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/65181fe045894837bafc49208b55d163~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>贴入复制的源文件地址</p><p><img alt="" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/48ef992430ee42f8adbc2a84fc437c39~tplv-k3u1fbpfcp-zoom-1.image"/></p><ul><li>设置脚本同步为自动</li><li>并且设置 webhook</li></ul><p><img alt=" webhook 配置" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6a8ff7489acf4ac0893c259ea325470b~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>复制这里对应的 webhook 地址和秘钥</p><p><img alt="github 设置 webhook" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d569a78c7dd04bf7921a8eda387fb0f1~tplv-k3u1fbpfcp-zoom-1.image"/></p><p>在 GitHub 项目地址中添加 webhook</p><p>这样只要我们一旦提交代码， greasyfork.org 中的脚本便会自动更新最新版本。</p><p>以上所有配置我整理在<a target="_blank" rel="noopener noreferrer" href="https://github.com/maqi1520/tampermonkey-starter" title="GitHub tampermonkey-starter">tampermonkey-starter</a>中， 若你也想创建一个自己的脚本，可以直接 fork 项目，修改相关配置即可。</p><h2 id="小结"><a href="#小结" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>小结</h2><p>本文简单介绍了油猴脚本开发步骤以及实现，结合 webpack 让脚本实现工程化，并且配合 Github action，让脚本实现自动化构建和部署。</p><p>但是若想要实现一些有用的脚本，还需要具备更多的知识，比如<code>JS逆向分析</code>等，若你有好的想法，赶快行动起来吧！</p><p>以上就是本文全部内容，如果对你有帮助，可以随手点个赞，这对我真的很重要，希望这篇文章对大家有所帮助，也可以参考我往期的文章或者在评论区交流你的想法和心得，欢迎一起探索前端。</p></div><div class="border-t border-gray-200 pt-6 pb-6 text-sm text-gray-700 dark:border-gray-700 dark:text-gray-300"><div class="mb-3"><img alt="runjs-cool" width="384" height="140" src="/static/images/runjs-cool.webp"/></div><span>关注微信公众号，获取最新原创文章（首发）</span><a target="_blank" rel="noopener noreferrer" href="https://github.com/balac2015/blob/main/data/blog/油猴脚本开发教程.md">View on GitHub</a></div><div id="comment"></div></div><footer><div class="divide-gray-200 text-sm font-medium leading-5 dark:divide-gray-700 xl:col-start-1 xl:row-start-2 xl:divide-y"><div class="py-4 xl:py-8"><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">标签</h2><div class="mt-3 flex flex-wrap"><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/%E5%89%8D%E7%AB%AF">前端</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/javascript">JavaScript</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/github">GitHub</a></div></div><div class="flex justify-between py-4 xl:block xl:space-y-8 xl:py-8"><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">上一篇 文章</h2><div class="mt-3 text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/iPad%20%E7%BC%96%E7%A8%8B%E7%94%9F%E4%BA%A7%E5%8A%9B">iPad 编程生产力</a></div></div><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">下一篇 文章</h2><div class="mt-3 text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/%E4%BD%BF%E7%94%A8%E6%B2%B9%E7%8C%B4%E8%84%9A%E6%9C%AC%E5%87%80%E5%8C%96%20CSDN">使用油猴脚本净化 CSDN</a></div></div></div></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog">← 返回文章列表</a></div></footer></div></div></article></div></main></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var d=Object.create;var t=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty;var i=a=\u003et(a,\"__esModule\",{value:!0});var k=(a,s)=\u003e()=\u003e(s||a((s={exports:{}}).exports,s),s.exports),g=(a,s)=\u003e{for(var c in s)t(a,c,{get:s[c],enumerable:!0})},o=(a,s,c,e)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let l of h(s))!N.call(a,l)\u0026\u0026(c||l!==\"default\")\u0026\u0026t(a,l,{get:()=\u003es[l],enumerable:!(e=m(s,l))||e.enumerable});return a},y=(a,s)=\u003eo(i(t(a!=null?d(u(a)):{},\"default\",!s\u0026\u0026a\u0026\u0026a.__esModule?{get:()=\u003ea.default,enumerable:!0}:{value:a,enumerable:!0})),a),f=(a=\u003e(s,c)=\u003ea\u0026\u0026a.get(s)||(c=o(i({}),s,1),a\u0026\u0026a.set(s,c),c))(typeof WeakMap!=\"undefined\"?new WeakMap:0);var p=k((B,r)=\u003e{r.exports=_jsx_runtime});var j={};g(j,{default:()=\u003ew,frontmatter:()=\u003eb});var n=y(p()),b={title:\"\\u6CB9\\u7334\\u811A\\u672C\\u5F00\\u53D1\\u6559\\u7A0B\",date:\"2022/9/1 17:50:24\",lastmod:\"2023/1/25 11:43:10\",tags:[\"\\u524D\\u7AEF\",\"JavaScript\",\"GitHub\"],draft:!1,summary:\"\\u672C\\u6587\\u7B80\\u5355\\u4ECB\\u7ECD\\u4E86\\u6CB9\\u7334\\u811A\\u672C\\u5F00\\u53D1\\u6B65\\u9AA4\\u4EE5\\u53CA\\u5B9E\\u73B0\\uFF0C\\u7ED3\\u5408 webpack \\u8BA9\\u811A\\u672C\\u5B9E\\u73B0\\u5DE5\\u7A0B\\u5316\\uFF0C\\u5E76\\u4E14\\u914D\\u5408 github action\\uFF0C\\u8BA9\\u811A\\u672C\\u5B9E\\u73B0\\u81EA\\u52A8\\u5316\\u6784\\u5EFA\\u548C\\u90E8\\u7F72\\u3002\",images:\"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1388cc913ee64f9c8bab6b1af5773c6b~tplv-k3u1fbpfcp-watermark.image?\",authors:[\"default\"],layout:\"PostLayout\"};function E(a={}){let{wrapper:s}=a.components||{};return s?(0,n.jsx)(s,Object.assign({},a,{children:(0,n.jsx)(c,{})})):c();function c(){let e=Object.assign({hr:\"hr\",h2:\"h2\",a:\"a\",span:\"span\",p:\"p\",code:\"code\",img:\"img\",ul:\"ul\",li:\"li\",pre:\"pre\"},a.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.hr,{}),(0,n.jsxs)(e.h2,{id:\"highlight-monokai\",children:[(0,n.jsx)(e.a,{href:\"#highlight-monokai\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"highlight: monokai\"]}),(0,n.jsxs)(e.h2,{id:\"\\u524D\\u8A00\",children:[(0,n.jsx)(e.a,{href:\"#\\u524D\\u8A00\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u524D\\u8A00\"]}),(0,n.jsxs)(e.p,{children:[\"\\u5982\\u4F55\\u8DDF\\u666E\\u901A\\u670B\\u53CB\\u4ECB\\u7ECD\\u524D\\u7AEF\\u5DE5\\u7A0B\\u5E08\\u662F\\u4E00\\u4E2A\\u600E\\u6837\\u7684\\u804C\\u4F4D? \\u6211\\u4F1A\\u6BEB\\u4E0D\\u72B9\\u8C6B\\u7684\\u7ED9\\u4ED6\\u7684\\u6D4F\\u89C8\\u5668\\u88C5\\u4E0A Tampermonkey\\uFF0C\\u518D\\u88C5\\u4E00\\u4E2A\",(0,n.jsx)(e.a,{href:\"https://greasyfork.org/zh-CN/scripts/439420-%E5%B1%8F%E8%94%BD%E5%B9%BF%E5%91%8A-%E5%B1%8F%E8%94%BD%E8%B0%B7%E6%AD%8C%E5%B9%BF%E5%91%8A-%E7%99%BE%E5%BA%A6%E5%B9%BF%E5%91%8A-%E7%9F%A5%E4%B9%8E%E5%B9%BF%E5%91%8A-%E9%9A%90%E8%97%8F%E8%B0%B7%E6%AD%8C%E5%92%8C%E7%99%BE%E5%BA%A6%E6%90%9C%E7%B4%A2%E5%A2%9E%E5%BC%BA%E7%99%BE%E5%BA%A6%E6%90%9C%E7%B4%A2%E7%BB%93%E6%9E%9C%E7%9A%84%E5%90%84%E7%A7%8D%E5%B9%BF%E5%91%8A%E7%AD%89%E7%AD%89-%E8%BF%87%E6%BB%A4%E6%89%80%E6%9C%89%E9%87%87%E7%94%A8%E8%B0%B7%E6%AD%8C%E8%81%94%E7%9B%9F%E5%92%8C%E7%99%BE%E5%BA%A6%E8%81%94%E7%9B%9F%E7%AD%89%E5%B9%BF%E5%91%8A%E8%81%94%E7%9B%9F%E7%9A%84%E5%B9%BF%E5%91%8A\",title:\"\\u53BB\\u5E7F\\u544A\\u63D2\\u4EF6\",children:\"\\u53BB\\u5E7F\\u544A\\u63D2\\u4EF6\"}),\"\\uFF0C\\u4ED6\\u4EEC\\u80AF\\u5B9A\\u4F1A\\u89C9\\u5F97\\u4F60\\u5F88\\u725B\\u903C\\uFF0C\\u7136\\u540E\\u518D\\u95EE\\u95EE\\u4ED6\\u4EEC\\uFF0C\\u6709\\u4E9B\\u65F6\\u5019\\u60F3\\u590D\\u5236\\u67D0\\u5EA6\\u6587\\u6863\\uFF0C\\u5374\\u590D\\u5236\\u4E0D\\u4E86\\uFF0C\\u518D\\u7ED9\\u4ED6\\u4EEC\\u88C5\\u4E00\\u4E2A XX \\u6587\\u5E93\\u7684\",(0,n.jsx)(e.a,{href:\"https://greasyfork.org/zh-CN/scripts/405130-%E6%96%87%E6%9C%AC%E9%80%89%E4%B8%AD%E5%A4%8D%E5%88%B6/code\",title:\"\\u9009\\u4E2D\\u590D\\u5236\\u63D2\\u4EF6\",children:\"\\u9009\\u4E2D\\u590D\\u5236\\u63D2\\u4EF6\"}),\"\\uFF0C\\u77AC\\u95F4\\u6210\\u5C31\\u611F\\u62C9\\u6EE1\\uFF0C\\u524D\\u7AEF\\u5DE5\\u7A0B\\u5E08\\u5C31\\u662F\\u5E72\\u8FD9\\u4E2A\\u4E8B\\u7684\\uFF0C\\u7B14\\u8005\\u4E4B\\u524D\\u4E5F\\u5199\\u4E86\\u51E0\\u4E2A\\u6CB9\\u7334\\u811A\\u672C\\uFF0C\\u63A5\\u4E0B\\u6765\\u6211\\u5C31\\u5206\\u4EAB\\u4E0B\\u5199\\u811A\\u672C\\u7684\\u7ECF\\u9A8C\\uFF0C\\u4E00\\u8D77\\u6765\\u770B\\u770B\\u5427\\u3002\"]}),(0,n.jsxs)(e.h2,{id:\"\\u4EC0\\u4E48\\u662F\\u6CB9\\u7334\\u811A\\u672C\",children:[(0,n.jsx)(e.a,{href:\"#\\u4EC0\\u4E48\\u662F\\u6CB9\\u7334\\u811A\\u672C\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u4EC0\\u4E48\\u662F\\u6CB9\\u7334\\u811A\\u672C\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://www.tampermonkey.net\",title:\"Tampermonkey\",children:\"Tampermonkey\"}),\" \\u662F\\u4E00\\u6B3E\\u514D\\u8D39\\u7684\\u6D4F\\u89C8\\u5668\\u6269\\u5C55\\u548C\\u6700\\u4E3A\\u6D41\\u884C\\u7684\\u7528\\u6237\\u811A\\u672C\\u7BA1\\u7406\\u5668\\uFF0C\\u5B83\\u9002\\u7528\\u4E8E Chrome, Microsoft Edge, Safari, Opera Next, \\u548C Firefox\\u3002\"]}),(0,n.jsx)(e.p,{children:\"\\u300C\\u6CB9\\u7334\\u811A\\u672C\\u300D\\u662F\\u4E00\\u6BB5\\u811A\\u672C\\u4EE3\\u7801\\uFF0C\\u901A\\u8FC7\\u5B83\\u53EF\\u4EE5\\u8BA9\\u6D4F\\u89C8\\u5668\\u5B9E\\u73B0\\u5404\\u79CD\\u5404\\u6837\\u7684\\u6269\\u5C55\\u529F\\u80FD\\uFF0C\\u548C\\u6D4F\\u89C8\\u5668\\u6269\\u5C55\\u7684\\u4F5C\\u7528\\u7C7B\\u4F3C\\u3002 \\u6BD4\\u5982\\u83B7\\u53BB\\u94FE\\u63A5\\u91CD\\u5B9A\\u5411\\u3001\\u5FAE\\u535A\\u9875\\u9762\\u7CBE\\u7B80\\u3001\\u53BB\\u5E7F\\u544A\\u7B49\\uFF0C\\u76F8\\u5F53\\u4E8E\\u7ED9\\u6D4F\\u89C8\\u5668\\u5F00\\u4E86\\u4E2A\\u6302\\uFF0C\\u53EF\\u4EE5\\u8BF4\\u662F\\u6D4F\\u89C8\\u5668\\u7684\\u8F85\\u52A9\\u795E\\u5668\\u4E86\\uFF01\\u4F46\\u6D4F\\u89C8\\u5668\\u6269\\u5C55\\u82E5\\u8981\\u53D1\\u5E03\\u5230 chrome \\u6269\\u5C55\\u5E02\\u573A\\uFF0C\\u9700\\u8981\\u652F\\u4ED8 5 \\u7F8E\\u5143\\uFF0C\\u4F46\\u300C\\u6CB9\\u7334\\u811A\\u672C\\u300D\\u53EF\\u4EE5\\u968F\\u65F6\\u968F\\u5730\\u53D1\\u5E03\\uFF0C\\u4E0D\\u9700\\u8981\\u652F\\u4ED8\\u4EFB\\u4F55\\u8D39\\u7528\\u8D39\\u7528\\u3002\"}),(0,n.jsxs)(e.h2,{id:\"\\u65B0\\u5EFA\\u811A\\u672C\",children:[(0,n.jsx)(e.a,{href:\"#\\u65B0\\u5EFA\\u811A\\u672C\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u65B0\\u5EFA\\u811A\\u672C\"]}),(0,n.jsxs)(e.p,{children:[\"\\u5728\\u811A\\u672C\\u7BA1\\u7406\\u63A7\\u5236\\u53F0\\uFF0C\\u53F3\\u4E0A\\u89D2\\u7684\",(0,n.jsx)(e.code,{children:\"+\"}),\"\\u6DFB\\u52A0\\u6309\\u94AE\\uFF0C\\u65B0\\u5EFA\\u4E00\\u4E2A\\u811A\\u672C\\uFF0C\\u9ED8\\u8BA4\\u4F1A\\u5305\\u542B\\u4EE5\\u4E0B\\u4EE3\\u7801\\uFF1A\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\\u65B0\\u5EFA\\u811A\\u672C\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/197623e925af452ea8d050e4425030d3~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsx)(e.p,{children:\"\\u6700\\u4E0A\\u9762\\u7684\\u6CE8\\u91CA\\u4E0D\\u80FD\\u5220\\u9664\\uFF0CTampermonkey \\u5C31\\u901A\\u8FC7\\u6CE8\\u91CA\\u4EE3\\u7801\\u6765\\u914D\\u7F6E\\u811A\\u672C\\u5B57\\u6BB5\\u7684\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"@match\"}),\" \\u7528\\u6765\\u5339\\u914D\\u6CE8\\u5165\\u811A\\u672C\\u7F51\\u5740\\u7684 url \\u5176\\u4E2D * \\u4EE3\\u8868\\u4E00\\u4E2A\\u6216\\u8005\\u591A\\u4E2A\\u4EFB\\u610F\\u5B57\\u7B26\"]}),(0,n.jsxs)(e.p,{children:[\"\\u82E5\\u8981\\u5339\\u914D baidu \\u57DF\\u540D\\u4E0B\\u7684\\u4EFB\\u610F\\u7F51\\u9875\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"*://*.baidu.com/*\"}),\";\"]}),(0,n.jsxs)(e.p,{children:[\"\\u82E5\\u8981\\u5339\\u914D\\u4EFB\\u610F\\u7F51\\u5740\\uFF0C\\u53EF\\u4EE5\\u4F7F\\u7528\",(0,n.jsx)(e.code,{children:\"*://*/*\"})]})]}),(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"@require\"}),\" \\u4EE3\\u8868\\u8981\\u6CE8\\u5165\\u7684\\u516C\\u7528 JS \\u5E93\"]}),(0,n.jsx)(e.p,{children:\"\\u6BD4\\u5982\\u8981\\u4F7F\\u7528 jquery\\uFF0C\\u53EF\\u4EE5\\u4F7F\\u7528\\u4EE5\\u4E0B\\u4EE3\\u7801\"})]})]}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// @require https://code.jquery.com/jquery-2.1.4.min.js\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// @require tampermonkey://vendor/jquery.js\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// @require tampermonkey://vendor/jszip/jszip.js\"}),`\n`]})]})}),(0,n.jsxs)(e.h2,{id:\"csdn-\\u514D\\u767B\\u5F55\\u590D\\u5236\",children:[(0,n.jsx)(e.a,{href:\"#csdn-\\u514D\\u767B\\u5F55\\u590D\\u5236\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"CSDN \\u514D\\u767B\\u5F55\\u590D\\u5236\"]}),(0,n.jsx)(e.p,{children:\"\\u6BD4\\u5982 CSDN \\u4E2D\\u4EE3\\u7801\\u5757\\u590D\\u5236\\u5FC5\\u987B\\u8981\\u767B\\u5F55\\u540E\\u624D\\u53EF\\u4EE5\\u590D\\u5236\\uFF0C \\u90A3\\u4E48\\u6211\\u4EEC\\u5C31\\u53EF\\u4EE5\\u5199\\u4E00\\u4E2A\\u811A\\u672C\\uFF0C\\u8F93\\u5165\\u4EE5\\u4E0B\\u4EE3\\u7801\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// ==UserScript==\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// @name         CSDN \\u514D\\u767B\\u5F55\\u590D\\u5236\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// @version      0.1\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// @description  try to take over the world!\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// @match        *://*.csdn.net/*\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// @require      tampermonkey://vendor/jquery.js\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// @grant        none\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// ==/UserScript==\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'use strict'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'pre,code'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"css\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'user-select'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'auto'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u4FDD\\u5B58\\u540E\\uFF0C\\u91CD\\u65B0\\u5237\\u65B0\\u6D4F\\u89C8\\u5668\\uFF0C\\u5728\\u53F3\\u4E0A\\u89D2\\u7684\\u6269\\u5C55\\u6807\\u5FD7\\u4E2D\\u4F1A\\u5411\\u4E0A\\u4E00\\u4E2A\",(0,n.jsx)(e.code,{children:\"1\"}),\", \\u8BF4\\u660E\\u6709\\u4E00\\u4E2A\\u6269\\u5C55\\u4F5C\\u7528\\u4E8E\\u8FD9\\u4E2A\\u7F51\\u9875\\uFF0C\\u811A\\u672C\\u6CE8\\u5165\\u6210\\u529F\\u3002\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"CSDN \\u514D\\u767B\\u5F55\\u590D\\u5236\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e262e2c29882467dacf6d579b201741b~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsxs)(e.p,{children:[\"\\u5176\\u5B9E\\u5C31\\u662F\\u4E00\\u884C\\u4EE3\\u7801\\uFF0CCSDN \\u7684\\u9ED8\\u8BA4\\u4EE3\\u7801\\u5757\\u7684\\u6837\\u5F0F\\u662F \",(0,n.jsx)(e.code,{children:\"user-select: none;\"}),\"\\uFF0C\\u4E0D\\u80FD\\u590D\\u5236\\uFF0C\\u6539\\u6210 \",(0,n.jsx)(e.code,{children:\"auto\"}),\" \\u540E\\u5C31\\u53EF\\u4EE5\\u590D\\u5236\\u4E86\\u3002\"]}),(0,n.jsxs)(e.h2,{id:\"\\u6DFB\\u52A0\\u6837\\u5F0F\",children:[(0,n.jsx)(e.a,{href:\"#\\u6DFB\\u52A0\\u6837\\u5F0F\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u6DFB\\u52A0\\u6837\\u5F0F\"]}),(0,n.jsxs)(e.p,{children:[\"\\u9996\\u5148\\u9700\\u8981\\u5728\\u6700\\u4E0A\\u9762\\u7684\\u6CE8\\u91CA\\u4E2D\\u5F00\\u542F\\u6743\\u9650 \",(0,n.jsx)(e.code,{children:\"@grant\"}),\" \",(0,n.jsx)(e.code,{children:\"GM_addStyle\"}),\"\\uFF0C\\u7136\\u540E\\u5C31\\u53EF\\u4EE5\\u4F7F\\u7528\\u5185\\u7F6E\\u7684 \",(0,n.jsx)(e.code,{children:\"GM_addStyle\"}),\" \\u65B9\\u6CD5\\u4E86\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// ==UserScript==\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// @grant        GM_addStyle\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// ==/UserScript==\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"GM_addStyle\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"pre,code{user-select:auto !important}.signin{display: none !important;}\"}),(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u6837\\u4E5F\\u53EF\\u4EE5\\u89E3\\u51B3 CSDN \\u4EE3\\u7801\\u5757\\u4E0D\\u80FD\\u590D\\u5236\\u7684\\u95EE\\u9898\\uFF0C\\u987A\\u4FBF\\u5C06\\u4EE3\\u7801\\u5757\\u540E\\u9762\\u7684\",(0,n.jsx)(e.code,{children:\"\\u767B\\u5F55\\u540E\\u590D\\u5236\"}),\"\\u6309\\u94AE\\u9690\\u85CF\\uFF1B\"]}),(0,n.jsx)(e.p,{children:\"\\u5F53\\u7136\\u6211\\u4EEC\\u4E5F\\u53EF\\u4EE5\\u4F7F\\u7528 JS \\u81EA\\u5DF1\\u5B9E\\u73B0\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" heads \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable dom\",children:\"document\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"querySelector\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'head'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" style \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable dom\",children:\"document\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"createElement\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'style'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"style\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"setAttribute\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'type'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'text/css'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"style\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"innerHTML\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(e.span,{className:\"token html language-html\",children:\"pre,code{user-select:auto !important}.signin{display: none !important;}\"}),(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"heads\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"append\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"style\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsxs)(e.h2,{id:\"\\u7F51\\u7EDC\\u8BF7\\u6C42\",children:[(0,n.jsx)(e.a,{href:\"#\\u7F51\\u7EDC\\u8BF7\\u6C42\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7F51\\u7EDC\\u8BF7\\u6C42\"]}),(0,n.jsxs)(e.p,{children:[\"\\u4E00\\u822C\\u524D\\u7AEF\\u811A\\u672C\\u90FD\\u662F\\u4FEE\\u6539\\u524D\\u7AEF\\u7F51\\u9875\\u5185\\u5BB9\\uFF0C\\u82E5\\u590D\\u6742\\u4E00\\u70B9\\u7684\\u811A\\u672C\\uFF0C\\u53EF\\u80FD\\u4F1A\\u6D89\\u53CA\\u5230\\u52A8\\u6001\\u6570\\u636E\\uFF0C\\u6BD4\\u5982\\u6211\\u4EEC\\u5728\\u811A\\u672C\\u4E2D\\u76F4\\u63A5\\u5199\",(0,n.jsx)(e.code,{children:\"fetch\"}),\" \\u8BF7\\u6C42\\uFF0C\\u8FD9\\u65F6\\u6D4F\\u89C8\\u5668\\u80AF\\u5B9A\\u4F1A\\u963B\\u6B62\\u8BF7\\u6C42\\uFF0C\\u56E0\\u4E3A\\u8DE8\\u57DF\\u4E86\\u3002\"]}),(0,n.jsx)(e.p,{children:\"\\u6211\\u4EEC\\u9700\\u8981\\u4F7F\\u7528\\u811A\\u672C\\u7684\\u5185\\u7F6E\\u65B9\\u6CD5\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// ==UserScript==\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// @grant        GM_xmlhttpRequest\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// ==/UserScript==\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"GM_xmlhttpRequest\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"headers\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property string-property\",children:\"'content-type'\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'application/json'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"responseType\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'json'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"url\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'https://api.juejin.cn/recommend_api/v1/article/recommend_cate_feed'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"data\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:`'{\"id_type\":2,\"sort_type\":200,\"cate_id\":\"6809637767543259144\",\"cursor\":\"0\",\"limit\":20}'`}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"method\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'POST'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"onreadystatechange\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"res\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"res\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"readyState\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"===\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"4\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"res\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"response\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u5728\\u6700\\u4E0A\\u9762\\u7684\\u6CE8\\u91CA\\u4E2D\\u5F00\\u542F\\u6743\\u9650 \",(0,n.jsx)(e.code,{children:\"@grant\"}),\" \",(0,n.jsx)(e.code,{children:\"GM_xmlhttpRequest\"}),\"\\uFF0C\\u7136\\u540E\\u5C31\\u53EF\\u4EE5\\u4F7F\\u7528\\u5185\\u7F6E\\u7684 \",(0,n.jsx)(e.code,{children:\"GM_xmlhttpRequest\"}),\" \\u65B9\\u6CD5\\u4E86\\u3002\"]}),(0,n.jsxs)(e.p,{children:[\"\\u6BD4\\u5982\\u628A\\u63A5\\u53E3\\u6362\\u6210\\u6709\\u9053\\u7FFB\\u8BD1\\u7684 api\\u3002\\u901A\\u8FC7 \",(0,n.jsx)(e.code,{children:\"document.getSelection().toString();\"}),\" \\u83B7\\u53D6\\u7F51\\u9875\\u4E2D\\u7684\\u9009\\u4E2D\\u6587\\u672C\\uFF0C\\u4FBF\\u53EF\\u4EE5\\u5B9E\\u73B0\\u4E00\\u4E2A\\u5212\\u8BCD\\u7FFB\\u8BD1\\u6CB9\\u7334\\u63D2\\u4EF6\\u4E86\\u3002 \",(0,n.jsx)(e.img,{alt:\"\\u5212\\u8BCD\\u7FFB\\u8BD1\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7059031b3d2e48c89de37d7573628b13~tplv-k3u1fbpfcp-zoom-1.image\"})]}),(0,n.jsxs)(e.h2,{id:\"\\u53F3\\u952E\\u641C\\u7D22\",children:[(0,n.jsx)(e.a,{href:\"#\\u53F3\\u952E\\u641C\\u7D22\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u53F3\\u952E\\u641C\\u7D22\"]}),(0,n.jsx)(e.p,{children:\"\\u63A5\\u4E0B\\u6765\\u6211\\u4EEC\\u5C06\\u7ED3\\u5408\\u53F3\\u952E\\u83DC\\u5355\\u548C\\u6253\\u5F00\\u65B0\\u7A97\\u53E3\\u7684\\u5185\\u7F6E\\u51FD\\u6570\\uFF0C\\u5B9E\\u73B0\\u4E00\\u4E2A\\u5FEB\\u6377\\u641C\\u7D22\\u7684\\u529F\\u80FD\\uFF0C \\u540C\\u6837\\u5185\\u7F6E\\u51FD\\u6570\\u9700\\u8981\\u5728\\u6700\\u4E0A\\u9762\\u7684\\u6CE8\\u91CA\\u4E2D\\u52A0\\u5165\\u6743\\u9650\\uFF0C\\u4EE3\\u7801\\u5982\\u4E0B\\uFF1A\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// ==UserScript==\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// @grant        GM_registerMenuCommand\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// @grant        GM_openInTab\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// ==/UserScript==\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"GM_registerMenuCommand\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'GitHub \\u641C\\u7D22'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" str \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable dom\",children:\"document\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"getSelection\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"toString\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"str\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"GM_openInTab\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"https://github.com/search?q=\"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"str\",(0,n.jsx)(e.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"active\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"GM_registerMenuCommand\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'NPM \\u641C\\u7D22'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" str \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable dom\",children:\"document\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"getSelection\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"toString\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"str\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"GM_openInTab\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"https://www.npmjs.com/search?q=\"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"str\",(0,n.jsx)(e.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"active\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\\u53F3\\u952E\\u641C\\u7D22\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c545654833bf40178d3ab748f9e2473c~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsx)(e.p,{children:\"\\u8FD9\\u6837\\u5C31\\u6709\\u4E86\\u5FEB\\u6377\\u83DC\\u5355\\u641C\\u7D22\\u7684\\u529F\\u80FD\\uFF0C\\u53EA\\u662F\\u64CD\\u4F5C\\u6302\\u7740 3 \\u7EA7\\u76EE\\u5F55\\u4E0B\\uFF0C\\u64CD\\u4F5C\\u6709\\u4E9B\\u4E0D\\u65B9\\u4FBF\\u3002\"}),(0,n.jsx)(e.p,{children:\"\\u4EE5\\u4E0A\\u7B80\\u5355\\u4ECB\\u7ECD\\u4E86\\u811A\\u672C\\u7684\\u5F00\\u53D1\\u4EE5\\u53CA\\u4E00\\u4E9B\\u7B80\\u5355\\u5B9E\\u73B0\\uFF0C\\u4F46\\u8FD9\\u4E2A\\u811A\\u672C\\u6211\\u4EEC\\u53EA\\u80FD\\u5728\\u81EA\\u5DF1\\u7535\\u8111\\u4F7F\\u7528\\uFF0C\\u82E5\\u60F3\\u8BA9\\u5176\\u4ED6\\u5C0F\\u4F19\\u4F34\\u4E5F\\u80FD\\u591F\\u4F7F\\u7528\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u5C06\\u811A\\u672C\\u53D1\\u5E03\\u5230\\u811A\\u672C\\u811A\\u672C\\u5E02\\u573A\\uFF0C\\u4F9B\\u5176\\u4ED6\\u5C0F\\u4F19\\u4F34\\u4E0B\\u8F7D\\u3002\"}),(0,n.jsxs)(e.h2,{id:\"\\u811A\\u672C\\u53D1\\u5E03\",children:[(0,n.jsx)(e.a,{href:\"#\\u811A\\u672C\\u53D1\\u5E03\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u811A\\u672C\\u53D1\\u5E03\"]}),(0,n.jsxs)(e.p,{children:[\"\\u4E00\\u4E2A\\u975E\\u5E38\\u6D41\\u884C\\u7684\\u811A\\u672C\\u5171\\u4EAB\\u7F51\\u7AD9\\u4FBF\\u662F \",(0,n.jsx)(e.a,{href:\"https://greasyfork.org/zh-CN\",title:\"greasyfork.org\",children:\"greasyfork.org\"}),\"\\uFF0C\\u6709\\u7740\\u975E\\u5E38\\u4E30\\u5BCC\\u7684\\u811A\\u672C\\uFF0C\\u5E76\\u4E14\\u652F\\u6301\\u591A\\u8BED\\u8A00\\u3002\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"greasyfork \\u811A\\u672C\\u53D1\\u5E03\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/27eac042636448e587f241bf6e9ec46d~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsxs)(e.p,{children:[\"\\u6CE8\\u518C\\u8D26\\u53F7\\u540E\\uFF0C\\u70B9\\u51FB\\u53F3\\u4E0A\\u89D2\\u7684\",(0,n.jsx)(e.code,{children:\"\\u7528\\u6237\\u540D\"}),\"\\uFF0C\\u7136\\u540E\\u70B9\\u51FB\\u63A7\\u5236\\u53F0\\u4E2D\\u7684\",(0,n.jsx)(e.code,{children:\"\\u53D1\\u5E03\\u4F60\\u7F16\\u5199\\u7684\\u811A\\u672C\"}),\"\\uFF0C\\u8D34\\u5165\\u4F60\\u5199\\u7684\\u811A\\u672C\\u4EE3\\u7801\\uFF0C\\u4FBF\\u53EF\\u4EE5\\u53D1\\u5E03\\u6210\\u529F\\uFF01\\u5C06\\u53D1\\u5E03\\u540E\\u7684\\u94FE\\u63A5\\u53D1\\u9001\\u4E2A\\u5C0F\\u4F19\\u4F34\\uFF0C\\u5C31\\u53EF\\u4EE5\\u8BA9\\u4ED6\\u4EEC\\u5B89\\u88C5\\u4F60\\u5199\\u7684\\u811A\\u672C\\u4E86\\uFF0C\\u4F60\\u4E5F\\u53EF\\u4EE5\\u5728\\u4E0A\\u9762\\u6839\\u636E\\u5339\\u914D\\u57DF\\u540D\\u641C\\u7D22\\u76F8\\u5173\\u811A\\u672C\\uFF0C\\u770B\\u5927\\u795E\\u4EEC\\u662F\\u5982\\u4F55\\u6765\\u5199\\u811A\\u672C\\u7684\\u3002\"]}),(0,n.jsxs)(e.h2,{id:\"\\u524D\\u7AEF\\u5DE5\\u7A0B\\u5316\",children:[(0,n.jsx)(e.a,{href:\"#\\u524D\\u7AEF\\u5DE5\\u7A0B\\u5316\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u524D\\u7AEF\\u5DE5\\u7A0B\\u5316\"]}),(0,n.jsx)(e.p,{children:\"\\u73B0\\u4EE3\\u524D\\u7AEF\\u5F00\\u53D1\\u5DF2\\u7ECF\\u79BB\\u4E0D\\u5F00\\u524D\\u7AEF\\u6846\\u67B6\\uFF0C\\u82E5\\u76F4\\u63A5\\u4F7F\\u7528\\u539F\\u751F JS \\u8BA9\\u6211\\u4EEC\\u5199\\u590D\\u6742\\u7684\\u529F\\u80FD\\uFF0C\\u96BE\\u514D\\u4F1A\\u8BA9\\u6211\\u4EEC\\u5D29\\u6E83\\uFF0C\\u6BD4\\u5982\\u9700\\u8981\\u5728 JS \\u4E2D\\u5199 CSS\\uFF0C\\u4E00\\u4E0D\\u5C0F\\u5FC3\\u5199\\u9519\\u5C31\\u4F1A\\u8BA9\\u6574\\u4E2A\\u811A\\u672C\\u65E0\\u6CD5\\u6267\\u884C\\u3002\\u6240\\u4EE5\\u6211\\u4EEC\\u53EF\\u4EE5\\u4F7F\\u7528 webpack \\u6765\\u6784\\u5EFA\\u4E00\\u4E2A\\u5DE5\\u7A0B\\u5316\\u7684\\u9879\\u76EE\\u3002 \\u5E76\\u4E14\\u4F7F\\u7528 Typescript \\u548C eslint \\uFF0C\\u8BA9\\u6211\\u4EEC\\u7684\\u524D\\u7AEF\\u5DE5\\u7A0B\\u5065\\u5168\\u3002\"}),(0,n.jsxs)(e.p,{children:[\"\\u4E0B\\u9762\\u662F \",(0,n.jsx)(e.code,{children:\"webpack.config.js\"})]}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" webpack \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"require\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'webpack'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" fs \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"require\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'fs'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" path \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"require\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'path'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" config \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"entry\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'./src/index.tsx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"output\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"clean\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"iife\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"path\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" path\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"resolve\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"__dirname\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'dist'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"filename\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'bundle.js'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"devServer\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"static\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"directory\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" path\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"join\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"__dirname\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'public'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"compress\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"port\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"9000\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u811A\\u672C\\u53D1\\u5E03\\u540E\\uFF0C\\u4F1A\\u88AB\\u4E3E\\u62A5\\uFF0C\\u4E0D\\u5141\\u8BB8\\u538B\\u7F29\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"optimization\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"minimize\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"module\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"rules\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"test\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsxs)(e.span,{className:\"token regex\",children:[(0,n.jsx)(e.span,{className:\"token regex-delimiter\",children:\"/\"}),(0,n.jsxs)(e.span,{className:\"token language-regex regex-source\",children:[(0,n.jsx)(e.span,{className:\"token escape special-escape\",children:\"\\\\.\"}),(0,n.jsx)(e.span,{className:\"token punctuation group\",children:\"(\"}),\"js\",(0,n.jsx)(e.span,{className:\"token keyword alternation\",children:\"|\"}),\"jsx\",(0,n.jsx)(e.span,{className:\"token punctuation group\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token function anchor\",children:\"$\"})]}),(0,n.jsx)(e.span,{className:\"token regex-delimiter\",children:\"/\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"use\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'babel-loader'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"exclude\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsxs)(e.span,{className:\"token regex\",children:[(0,n.jsx)(e.span,{className:\"token regex-delimiter\",children:\"/\"}),(0,n.jsx)(e.span,{className:\"token language-regex regex-source\",children:\"node_modules\"}),(0,n.jsx)(e.span,{className:\"token regex-delimiter\",children:\"/\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"test\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsxs)(e.span,{className:\"token regex\",children:[(0,n.jsx)(e.span,{className:\"token regex-delimiter\",children:\"/\"}),(0,n.jsxs)(e.span,{className:\"token language-regex regex-source\",children:[(0,n.jsx)(e.span,{className:\"token escape special-escape\",children:\"\\\\.\"}),\"css\",(0,n.jsx)(e.span,{className:\"token function anchor\",children:\"$\"})]}),(0,n.jsx)(e.span,{className:\"token regex-delimiter\",children:\"/\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"use\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"loader\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'style-loader'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"options\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"loader\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'css-loader'\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"test\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsxs)(e.span,{className:\"token regex\",children:[(0,n.jsx)(e.span,{className:\"token regex-delimiter\",children:\"/\"}),(0,n.jsxs)(e.span,{className:\"token language-regex regex-source\",children:[(0,n.jsx)(e.span,{className:\"token escape special-escape\",children:\"\\\\.\"}),\"ts\",(0,n.jsx)(e.span,{className:\"token punctuation group\",children:\"(\"}),\"x\",(0,n.jsx)(e.span,{className:\"token punctuation group\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token number quantifier\",children:\"?\"}),(0,n.jsx)(e.span,{className:\"token function anchor\",children:\"$\"})]}),(0,n.jsx)(e.span,{className:\"token regex-delimiter\",children:\"/\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"loader\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'ts-loader'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"exclude\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsxs)(e.span,{className:\"token regex\",children:[(0,n.jsx)(e.span,{className:\"token regex-delimiter\",children:\"/\"}),(0,n.jsx)(e.span,{className:\"token language-regex regex-source\",children:\"node_modules\"}),(0,n.jsx)(e.span,{className:\"token regex-delimiter\",children:\"/\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"plugins\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"BannerPlugin\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"resolve\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property literal-property\",children:\"extensions\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'.tsx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'.ts'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'.js'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"module\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"exports\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` config\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"style-loader\"}),\"\\uFF0C\\u5728 webpack \\u6253\\u5305\\u540E\\uFF0C\\u4F1A\\u81EA\\u52A8\\u5C06 css \\u6837\\u5F0F\\u901A\\u8FC7 style \\u6807\\u7B7E\\u63D2\\u5165\\u5230 head \\u4E2D\\uFF0C\\u8FD9\\u6837\\u5C31\\u505A\\u5230\\u4E86 css \\u548C js \\u5206\\u79BB\\u3002 \\u8FD9\\u91CC\\u6709\\u4E2A\\u95EE\\u9898\\uFF0C\\u5C31\\u662F\\u6CB9\\u7334\\u811A\\u672C\\u7279\\u6709\\u7684\\u4EE3\\u7801\\u524D\\u7F6E\\u6CE8\\u91CA \",(0,n.jsx)(e.code,{children:\"==UserScript==\"}),\"\\uFF0C\\u5728 webpack \\u6253\\u5305\\u540E\\u4F1A\\u88AB\\u5220\\u9664\\uFF0C\\u6240\\u4EE5\\u6211\\u4EEC\\u5F97\\u81EA\\u5DF1\\u5B9E\\u73B0\\u4E00\\u4E2A\\u63D2\\u4EF6\\uFF0C\\u5C06\\u8FD9\\u6BB5\\u6CE8\\u91CA\\u52A0\\u56DE\\u6765\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"ConcatSource\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"require\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'webpack-sources'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"ConcatSource\"})}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token comment doc-comment\",children:`/**\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token comment doc-comment\",children:` * \\u6DFB\\u52A0\\u524D\\u7F00\\u6CE8\\u91CA\n`})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment doc-comment\",children:\" */\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"BannerPlugin\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"apply\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"compiler\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" banner \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"''\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" entryFile \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" compiler\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"options\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"entry\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" res \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" fs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"readFileSync\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"entryFile\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'utf-8'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" matched \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" res\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"match\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token regex\",children:[(0,n.jsx)(e.span,{className:\"token regex-delimiter\",children:\"/\"}),(0,n.jsxs)(e.span,{className:\"token language-regex regex-source\",children:[(0,n.jsx)(e.span,{className:\"token punctuation group\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token escape\",children:\"\\\\/\"}),(0,n.jsx)(e.span,{className:\"token escape\",children:\"\\\\/\"}),(0,n.jsx)(e.span,{className:\"token class-name char-set\",children:\"\\\\s\"}),\"==UserScript==\",(0,n.jsx)(e.span,{className:\"token punctuation group\",children:\")\"}),(0,n.jsxs)(e.span,{className:\"token punctuation group\",children:[\"(?\u003c\",(0,n.jsx)(e.span,{className:\"token variable group-name\",children:\"content\"}),\"\u003e\"]}),(0,n.jsx)(e.span,{className:\"token punctuation group\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token escape\",children:\"\\\\n\"}),(0,n.jsx)(e.span,{className:\"token class-name char-set\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token number quantifier\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token punctuation group\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token number quantifier\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token punctuation group\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation group\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token escape\",children:\"\\\\n\"}),(0,n.jsx)(e.span,{className:\"token escape\",children:\"\\\\/\"}),(0,n.jsx)(e.span,{className:\"token escape\",children:\"\\\\/\"}),(0,n.jsx)(e.span,{className:\"token class-name char-set\",children:\"\\\\s\"}),\"==\",(0,n.jsx)(e.span,{className:\"token escape\",children:\"\\\\/\"}),\"UserScript==\",(0,n.jsx)(e.span,{className:\"token punctuation group\",children:\")\"})]}),(0,n.jsx)(e.span,{className:\"token regex-delimiter\",children:\"/\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"matched \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\u0026\"}),\" matched\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"groups\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"content\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      banner \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'// ==UserScript=='\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" matched\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"groups\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"content\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'\\\\n// ==/UserScript==\\\\n'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    compiler\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"hooks\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"emit\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"tap\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'BannerPlugin'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"compilation\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      compilation\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"chunks\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"forEach\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"chunk\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u6700\\u7EC8\\u751F\\u6210\\u7684\\u6587\\u4EF6\\u7684\\u96C6\\u5408\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        chunk\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"files\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"forEach\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"fileName\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          compilation\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"assets\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"fileName\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"ConcatSource\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"banner\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" compilation\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"assets\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"fileName\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u4E0A\\u8FF0\\u4EE3\\u7801\\u901A\\u8FC7\\u6B63\\u5219\\u5339\\u914D \",(0,n.jsx)(e.code,{children:\"==UserScript==\"}),\" \\u4E4B\\u95F4\\u7684\\u4EE3\\u7801\\uFF0C\\u5E76\\u4E14\\u5C06\\u5339\\u914D\\u7684\\u5185\\u5BB9\\u5408\\u5E76\\u5230\\u4E86\\u6700\\u540E\\u7684\\u4EE3\\u7801 \",(0,n.jsx)(e.code,{children:\"chunk\"}),\" \\u4E2D\\u3002\"]}),(0,n.jsxs)(e.h2,{id:\"cicd\",children:[(0,n.jsx)(e.a,{href:\"#cicd\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"CICD\"]}),(0,n.jsxs)(e.p,{children:[\"\\u82E5\\u6211\\u4EEC\\u6BCF\\u6B21\\u6253\\u5305\\u540E\\u7684 JS \\u90FD\\u9700\\u8981\\u624B\\u52A8\\u62F7\\u8D1D\\u5230 \",(0,n.jsx)(e.code,{children:\"greasyfork.org\"}),\" \\u672A\\u514D\\u6709\\u4E9B\\u9EBB\\u70E6\\uFF0C\\u5F97\\u76CA\\u4E8E \",(0,n.jsx)(e.code,{children:\"greasyfork.org\"}),\" \\u6709\\u4E2A\\u81EA\\u52A8\\u53D1\\u5E03\\u7684\\u529F\\u80FD\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u914D\\u5408 GitHub actions \\u6765\\u5B9E\\u73B0\\u81EA\\u52A8\\u53D1\\u5E03\\u3002\"]}),(0,n.jsxs)(e.p,{children:[\"\\u5728\\u9879\\u76EE\\u6587\\u4EF6\\u5939\\u4E0B\\u5EFA\\u7ACB \",(0,n.jsx)(e.code,{children:\".github/workflows/build.yml\"}),\"\\uFF0C \\u8F93\\u5165\\u4EE5\\u4E0B\\u4EE3\\u7801\"]}),(0,n.jsx)(e.pre,{className:\"language-yml\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-yml\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"name\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` GitHub Pages\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"on\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"push\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"branches\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),` main\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"pull_request\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"jobs\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"deploy\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"runs-on\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" ubuntu\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"20.04\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"permissions\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"contents\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` write\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"concurrency\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"group\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" $\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" github.workflow \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\"$\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" github.ref \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"steps\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"uses\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` actions/checkout@v3\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"name\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` Setup Node\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"uses\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" actions/setup\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),`node@v3\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"with\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"node-version\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'14'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"name\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` Get yarn cache\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"id\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" yarn\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),`cache\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"run\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),' echo \"',(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\"set\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\"output name=dir\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`$(yarn cache dir)\"\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"name\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` Cache dependencies\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"uses\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` actions/cache@v2\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"with\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"path\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" $\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" steps.yarn\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\"cache.outputs.dir \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"key\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" $\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" runner.os \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\"yarn\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\"$\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" hashFiles('\",(0,n.jsx)(e.span,{className:\"token important\",children:\"**/yarn.lock')\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"restore-keys\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"|\"}),(0,n.jsx)(e.span,{className:\"token string scalar\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token string scalar\",children:\"            ${{ runner.os }}-yarn-\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"run\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` yarn install\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"run\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` yarn build\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"name\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` Deploy\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"uses\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" peaceiris/actions\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\"gh\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),`pages@v3\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"if\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" $\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" github.ref == 'refs/heads/main' \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"with\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"github_token\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" $\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" secrets.GITHUB_TOKEN \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"publish_dir\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` ./dist\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u5F53\\u6211\\u4EEC\\u628A\\u4EE3\\u7801\\u63D0\\u4EA4\\u5230 Github \\uFF0C\\u5C31\\u4F1A\\u81EA\\u52A8\\u89E6\\u53D1 workflow \\uFF0C\\u4F9D\\u6B21\\u6267\\u884C \",(0,n.jsx)(e.code,{children:\"yarn install\"}),\" \\u3001\",(0,n.jsx)(e.code,{children:\"yarn build\"}),\" \\u5E76\\u4E14\\u81EA\\u52A8\\u5C06 \",(0,n.jsx)(e.code,{children:\"dist\"}),\" \\u76EE\\u5F55\\u4E0B\\u7684\\u4EE3\\u7801\\u81EA\\u52A8\\u90E8\\u7F72\\u5230 GitHub pages\\u3002\"]}),(0,n.jsx)(e.p,{children:\"\\u63A5\\u4E0B\\u6765\\u6211\\u4EEC\\u590D\\u5236 pages \\u4E2D\\u7684 raw \\u6E90\\u6587\\u4EF6\\u5730\\u5740\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"github \\u6E90\\u6587\\u4EF6\\u5730\\u5740\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/65181fe045894837bafc49208b55d163~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsx)(e.p,{children:\"\\u8D34\\u5165\\u590D\\u5236\\u7684\\u6E90\\u6587\\u4EF6\\u5730\\u5740\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/48ef992430ee42f8adbc2a84fc437c39~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"\\u8BBE\\u7F6E\\u811A\\u672C\\u540C\\u6B65\\u4E3A\\u81EA\\u52A8\"}),(0,n.jsx)(e.li,{children:\"\\u5E76\\u4E14\\u8BBE\\u7F6E webhook\"})]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\" webhook \\u914D\\u7F6E\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6a8ff7489acf4ac0893c259ea325470b~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsx)(e.p,{children:\"\\u590D\\u5236\\u8FD9\\u91CC\\u5BF9\\u5E94\\u7684 webhook \\u5730\\u5740\\u548C\\u79D8\\u94A5\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"github \\u8BBE\\u7F6E webhook\",src:\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d569a78c7dd04bf7921a8eda387fb0f1~tplv-k3u1fbpfcp-zoom-1.image\"})}),(0,n.jsx)(e.p,{children:\"\\u5728 GitHub \\u9879\\u76EE\\u5730\\u5740\\u4E2D\\u6DFB\\u52A0 webhook\"}),(0,n.jsx)(e.p,{children:\"\\u8FD9\\u6837\\u53EA\\u8981\\u6211\\u4EEC\\u4E00\\u65E6\\u63D0\\u4EA4\\u4EE3\\u7801\\uFF0C greasyfork.org \\u4E2D\\u7684\\u811A\\u672C\\u4FBF\\u4F1A\\u81EA\\u52A8\\u66F4\\u65B0\\u6700\\u65B0\\u7248\\u672C\\u3002\"}),(0,n.jsxs)(e.p,{children:[\"\\u4EE5\\u4E0A\\u6240\\u6709\\u914D\\u7F6E\\u6211\\u6574\\u7406\\u5728\",(0,n.jsx)(e.a,{href:\"https://github.com/maqi1520/tampermonkey-starter\",title:\"GitHub tampermonkey-starter\",children:\"tampermonkey-starter\"}),\"\\u4E2D\\uFF0C \\u82E5\\u4F60\\u4E5F\\u60F3\\u521B\\u5EFA\\u4E00\\u4E2A\\u81EA\\u5DF1\\u7684\\u811A\\u672C\\uFF0C\\u53EF\\u4EE5\\u76F4\\u63A5 fork \\u9879\\u76EE\\uFF0C\\u4FEE\\u6539\\u76F8\\u5173\\u914D\\u7F6E\\u5373\\u53EF\\u3002\"]}),(0,n.jsxs)(e.h2,{id:\"\\u5C0F\\u7ED3\",children:[(0,n.jsx)(e.a,{href:\"#\\u5C0F\\u7ED3\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u5C0F\\u7ED3\"]}),(0,n.jsx)(e.p,{children:\"\\u672C\\u6587\\u7B80\\u5355\\u4ECB\\u7ECD\\u4E86\\u6CB9\\u7334\\u811A\\u672C\\u5F00\\u53D1\\u6B65\\u9AA4\\u4EE5\\u53CA\\u5B9E\\u73B0\\uFF0C\\u7ED3\\u5408 webpack \\u8BA9\\u811A\\u672C\\u5B9E\\u73B0\\u5DE5\\u7A0B\\u5316\\uFF0C\\u5E76\\u4E14\\u914D\\u5408 Github action\\uFF0C\\u8BA9\\u811A\\u672C\\u5B9E\\u73B0\\u81EA\\u52A8\\u5316\\u6784\\u5EFA\\u548C\\u90E8\\u7F72\\u3002\"}),(0,n.jsxs)(e.p,{children:[\"\\u4F46\\u662F\\u82E5\\u60F3\\u8981\\u5B9E\\u73B0\\u4E00\\u4E9B\\u6709\\u7528\\u7684\\u811A\\u672C\\uFF0C\\u8FD8\\u9700\\u8981\\u5177\\u5907\\u66F4\\u591A\\u7684\\u77E5\\u8BC6\\uFF0C\\u6BD4\\u5982\",(0,n.jsx)(e.code,{children:\"JS\\u9006\\u5411\\u5206\\u6790\"}),\"\\u7B49\\uFF0C\\u82E5\\u4F60\\u6709\\u597D\\u7684\\u60F3\\u6CD5\\uFF0C\\u8D76\\u5FEB\\u884C\\u52A8\\u8D77\\u6765\\u5427\\uFF01\"]}),(0,n.jsx)(e.p,{children:\"\\u4EE5\\u4E0A\\u5C31\\u662F\\u672C\\u6587\\u5168\\u90E8\\u5185\\u5BB9\\uFF0C\\u5982\\u679C\\u5BF9\\u4F60\\u6709\\u5E2E\\u52A9\\uFF0C\\u53EF\\u4EE5\\u968F\\u624B\\u70B9\\u4E2A\\u8D5E\\uFF0C\\u8FD9\\u5BF9\\u6211\\u771F\\u7684\\u5F88\\u91CD\\u8981\\uFF0C\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u5BF9\\u5927\\u5BB6\\u6709\\u6240\\u5E2E\\u52A9\\uFF0C\\u4E5F\\u53EF\\u4EE5\\u53C2\\u8003\\u6211\\u5F80\\u671F\\u7684\\u6587\\u7AE0\\u6216\\u8005\\u5728\\u8BC4\\u8BBA\\u533A\\u4EA4\\u6D41\\u4F60\\u7684\\u60F3\\u6CD5\\u548C\\u5FC3\\u5F97\\uFF0C\\u6B22\\u8FCE\\u4E00\\u8D77\\u63A2\\u7D22\\u524D\\u7AEF\\u3002\"})]})}}var w=E;return f(j);})();\n;return Component;","toc":[{"value":"highlight: monokai","url":"#highlight-monokai","depth":2},{"value":"前言","url":"#前言","depth":2},{"value":"什么是油猴脚本","url":"#什么是油猴脚本","depth":2},{"value":"新建脚本","url":"#新建脚本","depth":2},{"value":"CSDN 免登录复制","url":"#csdn-免登录复制","depth":2},{"value":"添加样式","url":"#添加样式","depth":2},{"value":"网络请求","url":"#网络请求","depth":2},{"value":"右键搜索","url":"#右键搜索","depth":2},{"value":"脚本发布","url":"#脚本发布","depth":2},{"value":"前端工程化","url":"#前端工程化","depth":2},{"value":"CICD","url":"#cicd","depth":2},{"value":"小结","url":"#小结","depth":2}],"frontMatter":{"readingTime":{"text":"9 min read","minutes":8.27,"time":496200,"words":1654},"slug":"油猴脚本开发教程","fileName":"油猴脚本开发教程.md","title":"油猴脚本开发教程","date":"2022-09-01T09:50:24.000Z","lastmod":"2023/1/25 11:43:10","tags":["前端","JavaScript","GitHub"],"draft":false,"summary":"本文简单介绍了油猴脚本开发步骤以及实现，结合 webpack 让脚本实现工程化，并且配合 github action，让脚本实现自动化构建和部署。","images":"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1388cc913ee64f9c8bab6b1af5773c6b~tplv-k3u1fbpfcp-watermark.image?","authors":["default"],"layout":"PostLayout"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.19,"time":11400,"words":38},"slug":["default"],"fileName":"default.md","name":"随风","avatar":"/static/images/avatar.jpeg","occupation":"前端工程师","company":"分享 JavaScript 热门框架，记录前端工程师学习成长历程。","email":"tianping888@163.com","juejin":"https://juejin.cn","zhihu":"https://www.zhihu.com","github":"https://github.com/balac2015","date":null}],"prev":{"title":"iPad 编程生产力","date":"2022-08-27T06:39:51.000Z","lastmod":"2023/1/25 11:43:13","tags":["前端","产品"],"draft":false,"summary":"前言 iPad 有个口号，就是“买前生产力，买后爱奇艺”，使用 iPad，配合 Procreate 来作画体验还可以， 如果你想让你的 iPad 可以编程，你却不得不为之花费时间和精力。","images":"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f15d939d1f104423bf6bc8130f3e6b78~tplv-k3u1fbpfcp-watermark.image?","authors":["default"],"layout":"PostLayout","slug":"iPad 编程生产力"},"next":{"title":"使用油猴脚本净化 CSDN","date":"2022-09-03T06:33:01.000Z","lastmod":"2023/1/25 11:43:07","tags":["JavaScript"],"draft":false,"summary":"CSDN 的百度搜索权重很高，比如我们搜索一个关键词， 输入`react 性能优化`，第一个就是 CSDN 的链接，打开 CSDN 的链接，里面有很多广告，我们可以通过油猴脚本来净化页面。","images":"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/12bd1cfd78fb49648c1a3de21ff7c2a2~tplv-k3u1fbpfcp-watermark.image?","authors":["default"],"layout":"PostLayout","slug":"使用油猴脚本净化 CSDN"}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["油猴脚本开发教程"]},"buildId":"xRVIygn0gkexXE3qpo3Pp","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>